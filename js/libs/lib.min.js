!function(B){"use strict";function N(a){return function(){var d,b=arguments[0];for(d="["+(a?a+":":"")+b+"] http://errors.angularjs.org/1.5.9/"+(a?a+"/":"")+b,b=1;b<arguments.length;b++){var e;d=d+(1==b?"?":"&")+"p"+(b-1)+"=",d+=encodeURIComponent(e="function"==typeof(e=arguments[b])?e.toString().replace(/ \{[\s\S]*$/,""):void 0===e?"undefined":"string"!=typeof e?JSON.stringify(e):e)}return Error(d)}}function ra(a){if(null==a||Xa(a))return!1;if(K(a)||H(a)||E&&a instanceof E)return!0;var b="length"in Object(a)&&a.length;return Z(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function q(a,b,d){var c,e;if(a)if(F(a))for(c in a)"prototype"===c||"length"===c||"name"===c||a.hasOwnProperty&&!a.hasOwnProperty(c)||b.call(d,a[c],c,a);else if(K(a)||ra(a)){var f="object"!=typeof a;for(c=0,e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==q)a.forEach(b,d,a);else if(zc(a))for(c in a)b.call(d,a[c],c,a);else if("function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else for(c in a)sa.call(a,c)&&b.call(d,a[c],c,a);return a}function Ac(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function Bc(a){return function(b,d){a(d,b)}}function Sb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(I(g)||F(g))for(var h=Object.keys(g),k=0,l=h.length;k<l;k++){var m=h[k],n=g[m];d&&I(n)?ba(n)?a[m]=new Date(n.valueOf()):Ya(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):Tb(n)?a[m]=n.clone():(I(a[m])||(a[m]=K(n)?[]:{}),Sb(a[m],[n],!0)):a[m]=n}}return c?a.$$hashKey=c:delete a.$$hashKey,a}function R(a){return Sb(a,ta.call(arguments,1),!1)}function ne(a){return Sb(a,ta.call(arguments,1),!0)}function aa(a){return parseInt(a,10)}function Ub(a,b){return R(Object.create(a),b)}function C(){}function Za(a){return a}function ma(a){return function(){return a}}function Cc(a){return F(a.toString)&&a.toString!==na}function z(a){return void 0===a}function u(a){return void 0!==a}function I(a){return null!==a&&"object"==typeof a}function zc(a){return null!==a&&"object"==typeof a&&!Dc(a)}function H(a){return"string"==typeof a}function Z(a){return"number"==typeof a}function ba(a){return"[object Date]"===na.call(a)}function F(a){return"function"==typeof a}function Ya(a){return"[object RegExp]"===na.call(a)}function Xa(a){return a&&a.window===a}function $a(a){return a&&a.$evalAsync&&a.$watch}function Ia(a){return"boolean"==typeof a}function Tb(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function ua(a){return P(a.nodeName||a[0]&&a[0].nodeName)}function ab(a,b){var d=a.indexOf(b);return 0<=d&&a.splice(d,1),d}function pa(a,b){function d(a,b){var e,d=b.$$hashKey;if(K(a)){e=0;for(var f=a.length;e<f;e++)b.push(c(a[e]))}else if(zc(a))for(e in a)b[e]=c(a[e]);else if(a&&"function"==typeof a.hasOwnProperty)for(e in a)a.hasOwnProperty(e)&&(b[e]=c(a[e]));else for(e in a)sa.call(a,e)&&(b[e]=c(a[e]));return d?b.$$hashKey=d:delete b.$$hashKey,b}function c(a){if(!I(a))return a;if(-1!==(b=f.indexOf(a)))return g[b];if(Xa(a)||$a(a))throw va("cpws");var b=!1,c=e(a);return void 0===c&&(c=K(a)?[]:Object.create(Dc(a)),b=!0),f.push(a),g.push(c),b?d(a,c):c}function e(a){switch(na.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(c(a.buffer),a.byteOffset,a.length);case"[object ArrayBuffer]":if(a.slice)return a.slice(0);var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b;case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":return(b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0])).lastIndex=a.lastIndex,b;case"[object Blob]":return new a.constructor([a],{type:a.type})}if(F(a.cloneNode))return a.cloneNode(!0)}var f=[],g=[];if(b){if(function(a){return a&&Z(a.length)&&pe.test(na.call(a))}(b)||"[object ArrayBuffer]"===na.call(b))throw va("cpta");if(a===b)throw va("cpi");return K(b)?b.length=0:q(b,function(a,d){"$$hashKey"!==d&&delete b[d]}),f.push(a),g.push(b),d(a,b)}return c(a)}function oa(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!=a&&b!=b)return!0;var c,d=typeof a;if(d===typeof b&&"object"===d){if(!K(a)){if(ba(a))return!!ba(b)&&oa(a.getTime(),b.getTime());if(Ya(a))return!!Ya(b)&&a.toString()===b.toString();if($a(a)||$a(b)||Xa(a)||Xa(b)||K(b)||ba(b)||Ya(b))return!1;for(c in d=S(),a)if("$"!==c.charAt(0)&&!F(a[c])){if(!oa(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&u(b[c])&&!F(b[c]))return!1;return!0}if(!K(b))return!1;if((d=a.length)===b.length){for(c=0;c<d;c++)if(!oa(a[c],b[c]))return!1;return!0}}return!1}function bb(a,b,d){return a.concat(ta.call(b,d))}function cb(a,b){var d=2<arguments.length?ta.call(arguments,2):[];return!F(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,bb(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function re(a,b){var d=b;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=void 0:Xa(b)?d="$WINDOW":b&&B.document===b?d="$DOCUMENT":$a(b)&&(d="$SCOPE"),d}function db(a,b){if(!z(a))return Z(b)||(b=b?2:null),JSON.stringify(a,re,b)}function Ec(a){return H(a)?JSON.parse(a):a}function Fc(a,b){a=a.replace(se,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return X(d)?b:d}function Vb(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();return d*=(b=Fc(b,c))-c,(a=new Date(a.getTime())).setMinutes(a.getMinutes()+d),a}function wa(a){a=E(a).clone();try{a.empty()}catch(b){}var d=E("<div>").append(a).html();try{return a[0].nodeType===Ma?P(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+P(b)})}catch(c){return P(d)}}function Gc(a){try{return decodeURIComponent(a)}catch(b){}}function Hc(a){var b={};return q((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),-1!==(c=a.indexOf("="))&&(e=a.substring(0,c),f=a.substring(c+1)),u(e=Gc(e))&&(f=!u(f)||Gc(f),sa.call(b,e)?K(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))}),b}function Wb(a){var b=[];return q(a,function(a,c){K(a)?q(a,function(a){b.push(ca(c,!0)+(!0===a?"":"="+ca(a,!0)))}):b.push(ca(c,!0)+(!0===a?"":"="+ca(a,!0)))}),b.length?b.join("&"):""}function tb(a){return ca(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ca(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ue(a,b){var d,c,e={};q(Na,function(b){b+="app",!d&&a.hasAttribute&&a.hasAttribute(b)&&(c=(d=a).getAttribute(b))}),q(Na,function(b){var e;b+="app",!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(c=(d=e).getAttribute(b))}),d&&(ve?(e.strictDi=null!==function(a,b){var d,c,e=Na.length;for(c=0;c<e;++c)if(d=Na[c]+b,H(d=a.getAttribute(d)))return d;return null}(d,"strict-di"),b(d,c?[c]:[],e)):B.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function Ic(a,b,d){I(d)||(d={}),d=R({strictDi:!1},d);var c=function(){if((a=E(a)).injector()){var c=a[0]===B.document?"document":wa(a);throw va("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"))}return(b=b||[]).unshift(["$provide",function(b){b.value("$rootElement",a)}]),d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),b.unshift("ng"),(c=eb(b,d.strictDi)).invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;if(B&&e.test(B.name)&&(d.debugInfoEnabled=!0,B.name=B.name.replace(e,"")),B&&!f.test(B.name))return c();B.name=B.name.replace(f,""),ga.resumeBootstrap=function(a){return q(a,function(a){b.push(a)}),c()},F(ga.resumeDeferredBootstrap)&&ga.resumeDeferredBootstrap()}function we(){B.name="NG_ENABLE_DEBUG_INFO!"+B.name,B.location.reload()}function xe(a){if(!(a=ga.element(a).injector()))throw va("test");return a.get("$$testability")}function Jc(a,b){return b=b||"_",a.replace(ye,function(a,c){return(c?b:"")+a.toLowerCase()})}function vb(a,b,d){if(!a)throw va("areq",b||"?",d||"required");return a}function Pa(a,b,d){return d&&K(a)&&(a=a[a.length-1]),vb(F(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function Qa(a,b){if("hasOwnProperty"===a)throw va("badname",b)}function Lc(a,b,d){if(!b)return a;for(var c,e=a,f=(b=b.split(".")).length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&F(a)?cb(e,a):a}function wb(a){for(var c,b=a[0],d=a[a.length-1],e=1;b!==d&&(b=b.nextSibling);e++)(c||a[e]!==b)&&(c||(c=E(ta.call(a,0,e))),c.push(b));return c||a}function S(){return Object.create(null)}function ia(a,b){if(K(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(I(a))for(d in b=b||{},a)"$"===d.charAt(0)&&"$"===d.charAt(1)||(b[d]=a[d]);return b||a}function fb(a){return a.replace(Zf,function(a,d,c,e){return e?c.toUpperCase():c}).replace($f,"Moz$1")}function Uc(a){return 1===(a=a.nodeType)||!a||9===a}function Vc(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(Yb.test(a)){for(d=e.appendChild(b.createElement("div")),c=(ag.exec(a)||["",""])[1].toLowerCase(),c=ja[c]||ja._default,d.innerHTML=c[1]+a.replace(bg,"<$1></$2>")+c[2],c=c[0];c--;)d=d.lastChild;f=bb(f,d.childNodes),(d=e.firstChild).textContent=""}else f.push(b.createTextNode(a));return e.textContent="",e.innerHTML="",q(f,function(a){e.appendChild(a)}),e}function Wc(a,b){var d=a.parentNode;d&&d.replaceChild(b,a),b.appendChild(a)}function T(a){if(a instanceof T)return a;var b,d;if(H(a)&&(a=U(a),b=!0),!(this instanceof T)){if(b&&"<"!==a.charAt(0))throw Zb("nosel");return new T(a)}b&&(b=B.document,a=(d=cg.exec(a))?[b.createElement(d[1])]:(d=Vc(a,b))?d.childNodes:[]);Xc(this,a)}function $b(a){return a.cloneNode(!0)}function zb(a,b){if(b||gb(a),a.querySelectorAll)for(var d=a.querySelectorAll("*"),c=0,e=d.length;c<e;c++)gb(d[c])}function Yc(a,b,d,c){if(u(c))throw Zb("offargs");var e=(c=Ab(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];u(d)&&ab(c||[],d),u(d)&&c&&0<c.length||(a.removeEventListener(b,f,!1),delete e[b])};q(b.split(" "),function(a){g(a),Bb[a]&&g(Bb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f,!1),delete e[b]}function gb(a,b){var d=a.ng339,c=d&&hb[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),Yc(a)),delete hb[d],a.ng339=void 0))}function Ab(a,b){var d=(d=a.ng339)&&hb[d];return b&&!d&&(a.ng339=d=++dg,d=hb[d]={events:{},data:{},handle:void 0}),d}function ac(a,b,d){if(Uc(a)){var c=u(d),e=!c&&b&&!I(b),f=!b;if(a=(a=Ab(a,!e))&&a.data,c)a[b]=d;else{if(f)return a;if(e)return a&&a[b];R(a,b)}}}function Cb(a,b){return!!a.getAttribute&&-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")}function Db(a,b){b&&a.setAttribute&&q(b.split(" "),function(b){a.setAttribute("class",U((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+U(b)+" "," ")))})}function Eb(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");q(b.split(" "),function(a){a=U(a),-1===d.indexOf(" "+a+" ")&&(d+=a+" ")}),a.setAttribute("class",U(d))}}function Xc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"==typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function Zc(a,b){return Fb(a,"$"+(b||"ngController")+"Controller")}function Fb(a,b,d){for(9===a.nodeType&&(a=a.documentElement),b=K(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(u(d=E.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function $c(a){for(zb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Gb(a,b){b||zb(a);var d=a.parentNode;d&&d.removeChild(a)}function ad(a,b){var d=Hb[b.toLowerCase()];return d&&bd[ua(a)]&&d}function gg(a,b,d){d.call(a,b)}function hg(a,b,d){var c=b.relatedTarget;c&&(c===a||ig.call(a,c))||d.call(a,b)}function Wf(){this.$get=function(){return R(T,{hasClass:function(a,b){return a.attr&&(a=a[0]),Cb(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Eb(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Db(a,b)}})}}function za(a,b){var d=a&&a.$$hashKey;return d?("function"==typeof d&&(d=a.$$hashKey()),d):"function"===(d=typeof a)||"object"===d&&null!==a?a.$$hashKey=d+":"+(b||function(){return++sb})():d+":"+a}function Ra(a,b){if(b){var d=0;this.nextUid=function(){return++d}}q(a,this.put,this)}function cd(a){return(a=(Function.prototype.toString.call(a)+" ").replace(jg,"")).match(kg)||a.match(lg)}function eb(a,b){function d(a){return function(b,c){if(!I(b))return a(b,c);q(b,Bc(a))}}function c(a,b){if(Qa(a,"service"),(F(b)||K(b))&&(b=p.instantiate(b)),!b.$get)throw Da("pget",a);return n[a+"Provider"]=b}function f(a,b,d){return c(a,{$get:!1!==d?function(a,b){return function(){var c=t.invoke(b,this);if(z(c))throw Da("undef",a);return c}}(a,b):b})}function h(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===k)throw Da("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=k,a[b]=c(b,e),a[b]}catch(f){throw a[b]===k&&delete a[b],f}finally{l.shift()}}function e(a,c,f){for(var g=[],h=0,k=(a=eb.$$annotate(a,b,f)).length;h<k;h++){var l=a[h];if("string"!=typeof l)throw Da("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:d(l,f))}return g}return{invoke:function(a,b,c,d){return"string"==typeof c&&(d=c,c=null),c=e(a,c,d),K(a)&&(a=a[a.length-1]),(d=!(Fa<=11)&&("function"==typeof a&&/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(a)+" ")))?(c.unshift(null),new(Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=K(a)?a[a.length-1]:a;return(a=e(a,b,c)).unshift(null),new(Function.prototype.bind.apply(d,a))},get:d,annotate:eb.$$annotate,has:function(b){return n.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var k={},l=[],m=new Ra([],!0),n={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,ma(b),!1)}),constant:d(function(a,b){Qa(a,"constant"),n[a]=b,x[a]=b}),decorator:function(a,b){var c=p.get(a+"Provider"),d=c.$get;c.$get=function(){var a=t.invoke(d,c);return t.invoke(b,null,{$delegate:a})}}}},p=n.$injector=h(n,function(a,b){throw ga.isString(b)&&l.push(b),Da("unpr",l.join(" <- "))}),x={},J=h(x,function(a,b){var c=p.get(a+"Provider",b);return t.invoke(c.$get,c,void 0,a)}),t=J;n.$injectorProvider={$get:ma(J)};var s=function g(a){vb(z(a)||K(a),"modulesToLoad","not an array");var c,b=[];return q(a,function(a){function d(a){var b,c;for(b=0,c=a.length;b<c;b++){var e=a[b],f=p.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.put(a,!0);try{H(a)?(c=Xb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):F(a)?b.push(p.invoke(a)):K(a)?b.push(p.invoke(a)):Pa(a,"module")}catch(e){throw K(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Da("modulerr",a,e.stack||e.message||e)}}}),b}(a);return(t=J.get("$injector")).strictDi=b,q(s,function(a){a&&t.invoke(a)}),t}function mf(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,d,c){function f(a){var c;a?(a.scrollIntoView(),F(c=g.yOffset)?c=c():Tb(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):Z(c)||(c=0),c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))):b.scrollTo(0,0)}function g(a){var b;(a=H(a)?a:d.hash())?(b=h.getElementById(a))?f(b):(b=function(a){var b=null;return Array.prototype.some.call(a,function(a){if("a"===ua(a))return b=a,!0}),b}(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=b.document;return a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||function(a,b){"complete"===(b=b||B).document.readyState?b.setTimeout(a):E(b).on("load",a)}(function(){c.$evalAsync(g)})}),g}]}function jb(a,b){return a||b?a?b?(K(a)&&(a=a.join(" ")),K(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function Ea(a){return I(a)?a:{}}function og(a,b,d,c){function e(a){try{a.apply(null,ta.call(arguments,1))}finally{if(0===--J)for(;t.length;)try{t.pop()()}catch(b){d.error(b)}}}function f(){w=null,g(),h()}function g(){oa(s=z(s=O())?null:s,A)&&(s=A),A=s}function h(){y===k.url()&&D===s||(y=k.url(),D=s,q(L,function(a){a(k.url(),s)}))}var k=this,l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,x={};k.isMock=!1;var J=0,t=[];k.$$completeOutstandingRequest=e,k.$$incOutstandingRequestCount=function(){J++},k.notifyWhenNoOutstandingRequests=function(a){0===J?a():t.push(a)};var s,D,y=l.href,ib=b.find("base"),w=null,O=c.history?function(){try{return m.state}catch(a){}}:C;g(),D=s,k.url=function(b,d,e){if(z(e)&&(e=null),l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){var f=D===e;if(y===b&&(!c.history||f))return k;var h=y&&Ja(y)===Ja(b);return y=b,D=e,!c.history||h&&f?(h||(w=b),d?l.replace(b):h?(d=l,e=-1===(e=b.indexOf("#"))?"":b.substr(e),d.hash=e):l.href=b,l.href!==b&&(w=b)):(m[d?"replaceState":"pushState"](e,"",b),g(),D=s),w&&(w=b),k}return w||l.href.replace(/%27/g,"'")},k.state=function(){return s};var L=[],Q=!1,A=null;k.onUrlChange=function(b){return Q||(c.history&&E(a).on("popstate",f),E(a).on("hashchange",f),Q=!0),L.push(b),b},k.$$applicationDestroyed=function(){E(a).off("hashchange popstate",f)},k.$$checkUrlChange=h,k.baseHref=function(){var a=ib.attr("href");return a?a.replace(/^(https?:)?\/\/[^\/]*/,""):""},k.defer=function(a,b){var c;return J++,c=n(function(){delete x[c],e(a)},b||0),x[c]=!0,c},k.defer.cancel=function(a){return!!x[a]&&(delete x[a],p(a),e(C),!0)}}function tf(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new og(a,c,b,d)}]}function uf(){this.$get=function(){function a(a,c){function e(a){a!==n&&(p?p===a&&(p=a.n):p=a,f(a.n,a.p),f(a,n),(n=a).n=null)}function f(a,b){a!==b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw N("$cacheFactory")("iid",a);var g=0,h=R({},c,{id:a}),k=S(),l=c&&c.capacity||Number.MAX_VALUE,m=S(),n=null,p=null;return b[a]={put:function(a,b){if(!z(b)){if(l<Number.MAX_VALUE)e(m[a]||(m[a]={key:a}));return a in k||g++,k[a]=b,l<g&&this.remove(p.key),b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b===n&&(n=b.p),b===p&&(p=b.n),f(b.n,b.p),delete m[a]}a in k&&(delete k[a],g--)},removeAll:function(){k=S(),g=0,m=S(),n=p=null},destroy:function(){m=h=k=null,delete b[a]},info:function(){return R({},h,{size:g})}}}var b={};return a.info=function(){var a={};return q(b,function(b,e){a[e]=b.info()}),a},a.get=function(a){return b[a]},a}}function Qf(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Mc(a,b){function d(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,e=S();return q(a,function(a,f){if(a in n)e[f]=n[a];else{var g=a.match(d);if(!g)throw da("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f},g[4]&&(n[a]=e[f])}}),e}var f={},g=/^\s*directive:\s*([\w\-]+)\s+(.*)$/,h=/(([\w\-]+)(?::([^;]+))?;?)/,k=function(a){var d,b={};for(a=a.split(","),d=0;d<a.length;d++)b[a[d]]=!0;return b}("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,n=S();this.directive=function D(b,d){return Qa(b,"directive"),H(b)?(function(a){var b=a.charAt(0);if(!b||b!==P(b))throw da("baddir",a);if(a!==a.trim())throw da("baddir",a)}(b),vb(d,"directiveFactory"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];return q(f[b],function(f,g){try{var h=a.invoke(f);F(h)?h={compile:ma(h)}:!h.compile&&h.link&&(h.compile=ma(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||b,h.require=function(a){var b=a.require||a.controller&&a.name;return!K(b)&&I(b)&&q(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)}),b}(h),h.restrict=h.restrict||"EA",h.$$moduleName=f.$$moduleName,d.push(h)}catch(k){c(k)}}),d}])),f[b].push(d)):q(b,Bc(D)),this},this.component=function(a,b){function c(a){function e(b){return F(b)||K(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:d,controllerAs:dd(b.controller)||b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};return q(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)}),g}var d=b.controller||function(){};return q(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,F(d)&&(d[b]=a))}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return u(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var p=!0;this.debugInfoEnabled=function(a){return u(a)?(p=a,this):p};var x=10;this.onChangesTtl=function(a){return arguments.length?(x=a,this):x};var J=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(J=a,this):J};var t=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?(t=a,this):t},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,b,c,e,n,L,Q,A,G,v){function M(){try{if(!--qa)throw fa=void 0,da("infchng",x);Q.$apply(function(){for(var a=[],b=0,c=fa.length;b<c;++b)try{fa[b]()}catch(d){a.push(d)}if(fa=void 0,a.length)throw a})}finally{qa++}}function bc(a,b){if(b){var d,e,f,c=Object.keys(b);for(d=0,e=c.length;d<e;d++)this[f=c[d]]=b[f]}else this.$attr={};this.$$element=a}function Ha(a,b){try{a.addClass(b)}catch(c){}}function $(a,b,c,d,e){a instanceof E||(a=E(a));for(var f=/\S+/,g=0,h=a.length;g<h;g++){var k=a[g];k.nodeType===Ma&&k.nodeValue.match(f)&&Wc(k,a[g]=B.document.createElement("span"))}var l=Aa(a,b,a,c,d,e);$.$$addScopeClass(a);var m=null;return function(b,c,d){vb(b,"scope"),e&&e.needsNewScope&&(b=b.$parent.$new());var f=(d=d||{}).parentBoundTranscludeFn,g=d.transcludeControllers;if(d=d.futureParentElement,f&&f.$$boundTransclude&&(f=f.$$boundTransclude),m||(m=(d=d&&d[0])&&"foreignobject"!==ua(d)&&na.call(d).match(/SVG/)?"svg":"html"),d="html"!==m?E(ba(m,E("<div>").append(a).html())):c?Oa.clone.call(a):a,g)for(var h in g)d.data("$"+h+"Controller",g[h].instance);return $.$$addScopeInfo(d,b),c&&c(d,b),l&&l(b,d,d,f),d}}function Aa(a,b,c,d,e,f){for(var k,l,m,p,n,h=[],y=0;y<a.length;y++)k=new bc,(f=(l=dc(a[y],[],k,0===y?d:void 0,e)).length?Sa(l,a[y],k,b,c,null,[],[],f):null)&&f.scope&&$.$$addScopeClass(k.$$element),k=f&&f.terminal||!(m=a[y].childNodes)||!m.length?null:Aa(m,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b),(f||k)&&(h.push(y,f,k),p=!0,n=n||f),f=null;return p?function(a,c,d,e){var f,k,l,m,p,x;if(n)for(x=Array(c.length),m=0;m<h.length;m+=3)x[f=h[m]]=c[f];else x=c;for(m=0,p=h.length;m<p;)k=x[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=a.$new(),$.$$addScopeInfo(E(k),l)):l=a,c(f,l,k,d,c.transcludeOnThisElement?ha(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?ha(a,b):null)):f&&f(a,k.childNodes,void 0,e)}:null}function ha(a,b,c){function d(e,f,g,h,k){return e||((e=a.$new(!1,k)).$$transcluded=!0),b(e,f,{parentBoundTranscludeFn:c,transcludeControllers:g,futureParentElement:h})}var f,e=d.$$slots=S();for(f in b.$$slots)e[f]=b.$$slots[f]?ha(a,b.$$slots[f],c):null;return d}function dc(a,b,c,d,e){var g,f=c.$attr;switch(a.nodeType){case 1:V(b,Ba(g=ua(a)),"E",d,e);for(var k,l,m,p,n=a.attributes,y=0,x=n&&n.length;y<x;y++){var A=!1,L=!1;l=(k=n[y]).name,m=U(k.value),k=Ba(l),(p=Da.test(k))&&(l=l.replace(ed,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()})),(k=k.match(Ea))&&Y(k[1])&&(L=(A=l).substr(0,l.length-5)+"end",l=l.substr(0,l.length-6)),f[k=Ba(l.toLowerCase())]=l,!p&&c.hasOwnProperty(k)||(c[k]=m,ad(a,k)&&(c[k]=!0)),ma(a,b,m,k,p),V(b,k,"A",d,e,A,L)}if("input"===g&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete","off"),!Ca)break;if(I(f=a.className)&&(f=f.animVal),H(f)&&""!==f)for(;a=h.exec(f);)V(b,k=Ba(a[2]),"C",d,e)&&(c[k]=U(a[3])),f=f.substr(a.index+a[0].length);break;case Ma:if(11===Fa)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===Ma;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);ga(b,a.nodeValue);break;case 8:if(!xa)break;N(a,b,c,d,e)}return b.sort(ea),b}function N(a,b,c,d,e){try{var f=g.exec(a.nodeValue);if(f){var h=Ba(f[1]);V(b,h,"M",d,e)&&(c[h]=U(f[2]))}}catch(k){}}function fd(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b))do{if(!a)throw da("uterdir",b,c);1===a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(0<e);else d.push(a);return E(d)}function gd(a,b,c){return function(d,e,f,g,h){return e=fd(e[0],b,c),a(d,e,f,g,h)}}function fc(a,b,c,d,e,f){var g;return a?$(b,c,d,e,f):function(){return g||(g=$(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function Sa(a,b,d,e,f,g,h,k,l){function m(a,b,c,d){a&&(c&&(a=gd(a,c,d)),a.require=v.require,a.directiveName=w,(A===v||v.$$isolateScope)&&(a=ja(a,{isolateScope:!0})),h.push(a)),b&&(c&&(b=gd(b,c,d)),b.require=v.require,b.directiveName=w,(A===v||v.$$isolateScope)&&(b=ja(b,{isolateScope:!0})),k.push(b))}function p(a,e,f,g,l){var n,v,t,G,Q,D,w,M;for(n in b===f?M=(g=d).$$element:g=new bc(M=E(f),d),Q=e,A?G=e.$new(!0):y&&(Q=e.$parent),l&&((w=function(a,b,c,d){var e;if($a(a)||(d=c,c=b,b=a,a=void 0),J&&(e=D),c||(c=J?M.parent():M),!d)return l(a,b,e,c,r);var f=l.$$slots[d];if(f)return f(a,b,e,c,r);if(z(f))throw da("noslot",d,wa(M))}).$$boundTransclude=l,w.isSlotFilled=function(a){return!!l.$$slots[a]}),x&&(D=T(M,g,w,x,G,e,A)),A&&($.$$addScopeInfo(M,G,!0,!(L&&(L===A||L===A.$$originalDirective))),$.$$addScopeClass(M,!0),G.$$isolateBindings=A.$$isolateBindings,(v=ka(e,g,G,G.$$isolateBindings,A)).removeWatches&&G.$on("$destroy",v.removeWatches)),D){v=x[n],t=D[n];var cc=v.$$bindings.bindToController;t.bindingInfo=t.identifier&&cc?ka(Q,g,t.instance,cc,v):{};var O=t();O!==t.instance&&(t.instance=O,M.data("$"+v.name+"Controller",O),t.bindingInfo.removeWatches&&t.bindingInfo.removeWatches(),t.bindingInfo=ka(Q,g,t.instance,cc,v))}for(q(x,function(a,b){var c=a.require;a.bindToController&&!K(c)&&I(c)&&R(D[b].instance,kb(b,c,M,D))}),q(D,function(a){var b=a.instance;if(F(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(d){c(d)}if(F(b.$onInit))try{b.$onInit()}catch(e){c(e)}F(b.$doCheck)&&(Q.$watch(function(){b.$doCheck()}),b.$doCheck()),F(b.$onDestroy)&&Q.$on("$destroy",function(){b.$onDestroy()})}),n=0,v=h.length;n<v;n++)la(t=h[n],t.isolateScope?G:e,M,g,t.require&&kb(t.directiveName,t.require,M,D),w);var r=e;for(A&&(A.template||null===A.templateUrl)&&(r=G),a&&a(r,f.childNodes,void 0,l),n=k.length-1;0<=n;n--)la(t=k[n],t.isolateScope?G:e,M,g,t.require&&kb(t.directiveName,t.require,M,D),w);q(D,function(a){F((a=a.instance).$postLink)&&a.$postLink()})}l=l||{};for(var v,w,M,r,u,n=-Number.MAX_VALUE,y=l.newScopeDirective,x=l.controllerDirectives,A=l.newIsolateScopeDirective,L=l.templateDirective,t=l.nonTlbTranscludeDirective,Q=!1,D=!1,J=l.hasElementTranscludeDirective,G=d.$$element=E(b),O=e,Ga=!1,Ha=!1,C=0,Aa=a.length;C<Aa;C++){var B=(v=a[C]).$$start,H=v.$$end;if(B&&(G=fd(b,B,H)),M=void 0,n>v.priority)break;if((u=v.scope)&&(v.templateUrl||(I(u)?(X("new/isolated scope",A||y,v,G),A=v):X("new/isolated scope",A,v,G)),y=y||v),w=v.name,!Ga&&(v.replace&&(v.templateUrl||v.template)||v.transclude&&!v.$$tlb)){for(u=C+1;Ga=a[u++];)if(Ga.transclude&&!Ga.$$tlb||Ga.replace&&(Ga.templateUrl||Ga.template)){Ha=!0;break}Ga=!0}if(!v.templateUrl&&v.controller&&(u=v.controller,x=x||S(),X("'"+w+"' controller",x[w],v,G),x[w]=v),u=v.transclude)if(Q=!0,v.$$tlb||(X("transclusion",t,v,G),t=v),"element"===u)J=!0,n=v.priority,M=G,G=d.$$element=E($.$$createComment(w,d[w])),b=G[0],ca(f,ta.call(M,0),b),M[0].$$parentNode=M[0].parentNode,O=fc(Ha,M,e,n,g&&g.name,{nonTlbTranscludeDirective:t});else{var ha=S();if(M=E($b(b)).contents(),I(u)){M=[];var N=S(),P=S();for(var Sa in q(u,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,N[a]=b,ha[b]=null,P[b]=c}),q(G.contents(),function(a){var b=N[Ba(ua(a))];b?(P[b]=!0,ha[b]=ha[b]||[],ha[b].push(a)):M.push(a)}),q(P,function(a,b){if(!a)throw da("reqslot",b)}),ha)ha[Sa]&&(ha[Sa]=fc(Ha,ha[Sa],e))}G.empty(),(O=fc(Ha,M,e,void 0,void 0,{needsNewScope:v.$$isolateScope||v.$$newScope})).$$slots=ha}if(v.template)if(D=!0,X("template",L,v,G),u=F((L=v).template)?v.template(G,d):v.template,u=za(u),v.replace){if(g=v,M=Yb.test(u)?hd(ba(v.templateNamespace,U(u))):[],b=M[0],1!==M.length||1!==b.nodeType)throw da("tplrt",w,"");ca(f,G,b),u=dc(b,[],Aa={$attr:{}});var V=a.splice(C+1,a.length-(C+1));(A||y)&&W(u,A,y),a=a.concat(u).concat(V),Z(d,Aa),Aa=a.length}else G.html(u);if(v.templateUrl)D=!0,X("template",L,v,G),(L=v).replace&&(g=v),p=aa(a.splice(C,a.length-C),G,d,f,Q&&O,h,k,{controllerDirectives:x,newScopeDirective:y!==v&&y,newIsolateScopeDirective:A,templateDirective:L,nonTlbTranscludeDirective:t}),Aa=a.length;else if(v.compile)try{r=v.compile(G,d,O);var ec=v.$$originalDirective||v;F(r)?m(null,cb(ec,r),B,H):r&&m(cb(ec,r.pre),cb(ec,r.post),B,H)}catch(Y){c(Y,wa(G))}v.terminal&&(p.terminal=!0,n=Math.max(n,v.priority))}return p.scope=y&&!0===y.scope,p.transcludeOnThisElement=Q,p.templateOnThisElement=D,p.transclude=O,l.hasElementTranscludeDirective=J,p}function kb(a,b,c,d){var e;if(H(b)){var f=b.match(l);b=b.substring(f[0].length);var g=f[1]||f[3];f="?"===f[2];if("^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance,!e){var h="$"+b+"Controller";e=g?c.inheritedData(h):c.data(h)}if(!e&&!f)throw da("ctreq",b,a)}else if(K(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=kb(a,b[g],c,d);else I(b)&&(e={},q(b,function(b,f){e[f]=kb(a,b,c,d)}));return e||null}function T(a,b,c,d,e,f,g){var k,h=S();for(k in d){var l=d[k],m={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},p=l.controller;"@"===p&&(p=b[l.name]),m=L(p,m,!0,l.controllerAs),h[l.name]=m,a.data("$"+l.name+"Controller",m.instance)}return h}function W(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=Ub(a[d],{$$isolateScope:b,$$newScope:c})}function V(b,e,g,h,k,l,m){if(e===k)return null;if(k=null,f.hasOwnProperty(e))for(var p,n=0,y=(e=a.get(e+"Directive")).length;n<y;n++)try{if(p=e[n],(z(h)||h>p.priority)&&-1!==p.restrict.indexOf(g)){if(l&&(p=Ub(p,{$$start:l,$$end:m})),!p.$$bindings){var x=p,v=p,A=p.name,t={isolateScope:null,bindToController:null};if(I(v.scope)&&(!0===v.bindToController?(t.bindToController=d(v.scope,A,!0),t.isolateScope={}):t.isolateScope=d(v.scope,A,!1)),I(v.bindToController)&&(t.bindToController=d(v.bindToController,A,!0)),I(t.bindToController)){var L=v.controller,G=v.controllerAs;if(!L)throw da("noctrl",A);if(!dd(L,G))throw da("noident",A)}var Q=x.$$bindings=t;I(Q.isolateScope)&&(p.$$isolateBindings=Q.isolateScope)}b.push(p),k=p}}catch(J){c(J)}return k}function Y(b){if(f.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d<e;d++)if((b=c[d]).multiElement)return!0;return!1}function Z(a,b){var c=b.$attr,d=a.$attr;q(a,function(d,e){"$"!==e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),q(b,function(b,e){a.hasOwnProperty(e)||"$"===e.charAt(0)||(a[e]=b,"class"!==e&&"style"!==e&&(d[e]=c[e]))})}function aa(a,b,c,d,f,g,h,k){var m,p,l=[],n=b[0],y=a.shift(),x=Ub(y,{templateUrl:null,transclude:null,replace:null,$$originalDirective:y}),v=F(y.templateUrl)?y.templateUrl(b,c):y.templateUrl,A=y.templateNamespace;return b.empty(),e(v).then(function(e){var t,L;if(e=za(e),y.replace){if(e=Yb.test(e)?hd(ba(A,U(e))):[],t=e[0],1!==e.length||1!==t.nodeType)throw da("tplrt",y.name,v);e={$attr:{}},ca(d,b,t);var G=dc(t,[],e);I(y.scope)&&W(G,!0),a=G.concat(a),Z(c,e)}else t=n,b.html(e);for(a.unshift(x),m=Sa(a,t,c,f,b,y,g,h,k),q(d,function(a,c){a===t&&(d[c]=b[0])}),p=Aa(b[0].childNodes,f);l.length;){e=l.shift(),L=l.shift();var Q=l.shift(),D=l.shift();G=b[0];if(!e.$$destroyed){if(L!==n){var J=L.className;k.hasElementTranscludeDirective&&y.replace||(G=$b(t)),ca(Q,E(L),G),Ha(E(G),J)}L=m.transcludeOnThisElement?ha(e,m.transclude,D):D,m(p,e,G,d,L)}}l=null}),function(a,b,c,d,e){a=e,b.$$destroyed||(l?l.push(b,c,d,a):(m.transcludeOnThisElement&&(a=ha(b,m.transclude,e)),m(p,b,c,d,a)))}}function ea(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function X(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw da("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,wa(d))}function ga(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){var b=!!(a=a.parent()).length;return b&&$.$$addBindingClass(a),function(a,c){var e=c.parent();b||$.$$addBindingClass(e),$.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){c[0].nodeValue=a})}}})}function ba(a,b){switch(a=P(a||"html")){case"svg":case"math":var c=B.document.createElement("div");return c.innerHTML="<"+a+">"+b+"</"+a+">",c.childNodes[0].childNodes;default:return b}}function ma(a,c,d,e,f){var g=function(a,b){if("srcdoc"===b)return A.HTML;var c=ua(a);if("src"===b||"ngSrc"===b){if(-1===["img","video","audio","source","track"].indexOf(c))return A.RESOURCE_URL}else if("xlinkHref"===b||"form"===c&&"action"===b)return A.RESOURCE_URL}(a,e);f=k[e]||f;var h=b(d,!0,g,f);if(h){if("multiple"===e&&"select"===ua(a))throw da("selmulti",wa(a));c.push({priority:100,compile:function(){return{pre:function(a,c,k){if(c=k.$$observers||(k.$$observers=S()),m.test(e))throw da("nodomevents");var l=k[e];l!==d&&(h=l&&b(l,!0,g,f),d=l),h&&(k[e]=h(a),(c[e]||(c[e]=[])).$$inter=!0,(k.$$observers&&k.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!==b?k.$updateClass(a,b):k.$set(e,a)}))}}}})}}function ca(a,b,c){var g,h,d=b[0],e=b.length,f=d.parentNode;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]===d){a[g++]=c,h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1,a.context===d&&(a.context=c);break}for(f&&f.replaceChild(c,d),a=B.document.createDocumentFragment(),g=0;g<e;g++)a.appendChild(b[g]);for(E.hasData(d)&&(E.data(c,E.data(d)),E(d).off("$destroy")),E.cleanData(a.querySelectorAll("*")),g=1;g<e;g++)delete b[g];b[0]=c,b.length=1}function ja(a,b){return R(function(){return a.apply(null,arguments)},a,b)}function la(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,wa(d))}}function ka(a,c,d,e,f){function g(b,c,e){F(d.$onChanges)&&c!==e&&(fa||(a.$$postDigest(M),fa=[]),m||(m={},fa.push(h)),m[b]&&(e=m[b].previousValue),m[b]=new Ib(e,c))}function h(){d.$onChanges(m),m=void 0}var m,k=[],l={};return q(e,function(e,h){var x,v,t,A,m=e.attrName,p=e.optional;switch(e.mode){case"@":p||sa.call(c,m)||(d[h]=c[m]=void 0),c.$observe(m,function(a){(H(a)||Ia(a))&&(g(h,a,d[h]),d[h]=a)}),c.$$observers[m].$$scope=a,H(x=c[m])?d[h]=b(x)(a):Ia(x)&&(d[h]=x),l[h]=new Ib(gc,d[h]);break;case"=":if(!sa.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;v=n(c[m]),A=v.literal?oa:function(a,b){return a===b||a!=a&&b!=b},t=v.assign||function(){throw x=d[h]=v(a),da("nonassign",c[m],m,f.name)},x=d[h]=v(a),(p=function(b){return A(b,d[h])||(A(b,x)?t(a,b=d[h]):d[h]=b),x=b}).$stateful=!0,p=e.collection?a.$watchCollection(c[m],p):a.$watch(n(c[m],p),null,v.literal),k.push(p);break;case"<":if(!sa.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;v=n(c[m]);var L=d[h]=v(a);l[h]=new Ib(gc,d[h]),p=a.$watch(v,function(a,b){if(b===a){if(b===L)return;b=L}g(h,a,b),d[h]=a},v.literal),k.push(p);break;case"&":if((v=c.hasOwnProperty(m)?n(c[m]):C)===C&&p)break;d[h]=function(b){return v(a,b)}}}),{initialChanges:l,removeWatches:k.length&&function(){for(var a=0,b=k.length;a<b;++a)k[a]()}}}var fa,ra=/^\w/,pa=B.document.createElement("div"),xa=J,Ca=t,qa=x;bc.prototype={$normalize:Ba,$addClass:function(a){a&&0<a.length&&G.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&G.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=id(a,b);c&&c.length&&G.addClass(this.$$element,c),(c=id(b,a))&&c.length&&G.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=ad(this.$$element[0],a),g=jd[a],h=a;if(f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Jc(a,"-")),"a"===(f=ua(this.$$element))&&("href"===a||"xlinkHref"===a)||"img"===f&&"src"===a)this[a]=b=v(b,"src"===a);else if("img"===f&&"srcset"===a&&u(b)){f="",g=U(b);for(var k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,l=(k=/\s/.test(g)?k:/(,)/,g=g.split(k),k=Math.floor(g.length/2),0);l<k;l++){var m=2*l;f=(f=f+v(U(g[m]),!0))+" "+U(g[m+1])}g=U(g[2*l]).split(/\s/),f+=v(U(g[0]),!0),2===g.length&&(f+=" "+U(g[1])),this[a]=b=f}!1!==d&&(null===b||z(b)?this.$$element.removeAttr(e):ra.test(e)?this.$$element.attr(e,b):function(a,b,c){pa.innerHTML="<span "+b+">";var d=(b=pa.firstChild.attributes)[0];b.removeNamedItem(d.name),d.value=c,a.attributes.setNamedItem(d)}(this.$$element[0],e,b)),(a=this.$$observers)&&q(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=S()),e=d[a]||(d[a]=[]);return e.push(b),Q.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||z(c[a])||b(c[a])}),function(){ab(e,b)}}};var va=b.startSymbol(),ya=b.endSymbol(),za="{{"===va&&"}}"===ya?Za:function(a){return a.replace(/\{\{/g,va).replace(/}}/g,ya)},Da=/^ngAttr[A-Z]/,Ea=/^(.+)Start$/;return $.$$addBindingInfo=p?function(a,b){var c=a.data("$binding")||[];K(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:C,$.$$addBindingClass=p?function(a){Ha(a,"ng-binding")}:C,$.$$addScopeInfo=p?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:C,$.$$addScopeClass=p?function(a,b){Ha(a,b?"ng-isolate-scope":"ng-scope")}:C,$.$$createComment=function(a,b){var c="";return p&&(c=" "+(a||"")+": ",b&&(c+=b+" ")),B.document.createComment(c)},$}]}function Ib(a,b){this.previousValue=a,this.currentValue=b}function Ba(a){return fb(a.replace(ed,""))}function id(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],h=0;h<e.length;h++)if(g===e[h])continue a;d+=(0<d.length?" ":"")+g}return d}function hd(a){var b=(a=E(a)).length;if(b<=1)return a;for(;b--;)8===a[b].nodeType&&pg.call(a,b,1);return a}function dd(a,b){if(b&&H(b))return b;if(H(a)){var d=kd.exec(a);if(d)return d[3]}}function vf(){var a={},b=!1;this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,c){Qa(b,"controller"),I(b)?R(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(d,c){function e(a,b,c,d){if(!a||!I(a.$scope))throw N("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,k){var l,m,n;if(h=!0===h,k&&H(k)&&(n=k),H(f)){if(!(k=f.match(kd)))throw qg("ctrlfmt",f);m=k[1],n=n||k[3],Pa(f=a.hasOwnProperty(m)?a[m]:Lc(g.$scope,m,!0)||(b?Lc(c,m,!0):void 0),m,!0)}return h?(h=(K(f)?f[f.length-1]:f).prototype,l=Object.create(h||null),n&&e(g,n,l,m||f.name),R(function(){var a=d.invoke(f,l,g,m);return a!==l&&(I(a)||F(a))&&(l=a,n&&e(g,n,l,m||f.name)),l},{instance:l,identifier:n})):(l=d.instantiate(f,g,m),n&&e(g,n,l,m||f.name),l)}}]}function wf(){this.$get=["$window",function(a){return E(a.document)}]}function xf(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function hc(a){return I(a)?ba(a)?a.toISOString():db(a):a}function Cf(){this.$get=function(){return function(a){if(!a)return"";var b=[];return Ac(a,function(a,c){null===a||z(a)||(K(a)?q(a,function(a){b.push(ca(c)+"="+ca(hc(a)))}):b.push(ca(c)+"="+ca(hc(a))))}),b.join("&")}}}function Df(){this.$get=function(){return function(a){if(!a)return"";var d=[];return function b(a,e,f){null===a||z(a)||(K(a)?q(a,function(a,c){b(a,e+"["+(I(a)?c:"")+"]")}):I(a)&&!ba(a)?Ac(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):d.push(ca(e)+"="+ca(hc(a))))}(a,"",!0),d.join("&")}}}function ic(a,b){if(H(a)){var d=a.replace(rg,"").trim();if(d){var c=b("Content-Type");(c=c&&0===c.indexOf(ld))||(c=(c=d.match(sg))&&tg[c[0]].test(d)),c&&(a=Ec(d))}}return a}function md(a){var d,b=S();return H(a)?q(a.split("\n"),function(a){d=a.indexOf(":");var e=P(U(a.substr(0,d)));a=U(a.substr(d+1)),e&&(b[e]=b[e]?b[e]+", "+a:a)}):I(a)&&q(a,function(a,d){var f=P(d),g=U(a);f&&(b[f]=b[f]?b[f]+", "+g:g)}),b}function nd(a){var b;return function(d){return b||(b=md(a)),d?(void 0===(d=b[P(d)])&&(d=null),d):b}}function od(a,b,d,c){return F(c)?c(a,b,d):(q(c,function(c){a=c(a,b,d)}),a)}function Bf(){var a=this.defaults={transformResponse:[ic],transformRequest:[function(a){return I(a)&&"[object File]"!==na.call(a)&&"[object Blob]"!==na.call(a)&&"[object FormData]"!==na.call(a)?db(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ia(jc),put:ia(jc),patch:ia(jc)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return u(a)?(b=!!a,this):b};var d=!0;this.useLegacyPromiseExtensions=function(a){return u(a)?(d=!!a,this):d};var c=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(e,f,g,h,k,l){function m(b){function c(a,b){for(var d=0,e=b.length;d<e;){var f=b[d++],g=b[d++];a=a.then(f,g)}return b.length=0,a}function f(a){var b=R({},a);return b.data=od(a.data,a.headers,a.status,g.transformResponse),200<=(a=a.status)&&a<300?b:k.reject(b)}if(!I(b))throw N("$http")("badreq",b);if(!H(b.url))throw N("$http")("badreq",b.url);var g=R({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);g.headers=function(b){var f,g,h,c=a.headers,d=R({},b.headers);c=R({},c.common,c[P(b.method)]);a:for(f in c){for(h in g=P(f),d)if(P(h)===g)continue a;d[f]=c[f]}return function(a,b){var c,d={};return q(a,function(a,e){F(a)?null!=(c=a(b))&&(d[e]=c):d[e]=a}),d}(d,ia(b))}(b),g.method=xb(g.method),g.paramSerializer=H(g.paramSerializer)?l.get(g.paramSerializer):g.paramSerializer;var h=[],m=[],p=k.when(g);return q(J,function(a){(a.request||a.requestError)&&h.unshift(a.request,a.requestError),(a.response||a.responseError)&&m.push(a.response,a.responseError)}),(p=c(p=(p=c(p,h)).then(function(b){var c=b.headers,d=od(b.data,nd(c),void 0,b.transformRequest);return z(d)&&q(c,function(a,b){"content-type"===P(b)&&delete c[b]}),z(b.withCredentials)&&!z(a.withCredentials)&&(b.withCredentials=a.withCredentials),n(b,d).then(f,f)}),m)).error=d?(p.success=function(a){return Pa(a,"fn"),p.then(function(b){a(b.data,b.status,b.headers,g)}),p},function(a){return Pa(a,"fn"),p.then(null,function(b){a(b.data,b.status,b.headers,g)}),p}):(p.success=pd("success"),pd("error")),p}function n(c,d){function g(a){if(a){var c={};return q(a,function(a,d){c[d]=function(c){function d(){a(c)}b?h.$applyAsync(d):h.$$phase?d():h.$apply(d)}}),c}}function n(a,b,d,e){(200<=(b=-1<=b?b:0)&&b<300?L.resolve:L.reject)({data:a,status:b,headers:nd(d),config:c,statusText:e})}function J(a){n(a.data,a.status,ia(a.headers()),a.statusText)}function O(){var a=m.pendingRequests.indexOf(c);-1!==a&&m.pendingRequests.splice(a,1)}var A,G,L=k.defer(),Q=L.promise,v=c.headers,M=function(a,b){return 0<b.length&&(a+=(-1===a.indexOf("?")?"?":"&")+b),a}(c.url,c.paramSerializer(c.params));return m.pendingRequests.push(c),Q.then(O,O),!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(A=I(c.cache)?c.cache:I(a.cache)?a.cache:x),A&&(u(G=A.get(M))?G&&F(G.then)?G.then(J,J):K(G)?n(G[1],G[0],ia(G[2]),G[3]):n(G,200,{},"OK"):A.put(M,Q)),z(G)&&((G=qd(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:void 0)&&(v[c.xsrfHeaderName||a.xsrfHeaderName]=G),e(c.method,M,d,function(a,c,d,e){function f(){n(c,a,d,e)}A&&(200<=a&&a<300?A.put(M,[a,c,md(d),e]):A.remove(M)),b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())},v,c.timeout,c.withCredentials,c.responseType,g(c.eventHandlers),g(c.uploadEventHandlers))),Q}var x=g("$http");a.paramSerializer=H(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var J=[];return q(c,function(a){J.unshift(H(a)?l.get(a):l.invoke(a))}),m.pendingRequests=[],function(a){q(arguments,function(a){m[a]=function(b,c){return m(R({},c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(a){q(arguments,function(a){m[a]=function(b,c,d){return m(R({},d||{},{method:a,url:b,data:c}))}})}("post","put","patch"),m.defaults=a,m}]}function Ff(){this.$get=function(){return function(){return new B.XMLHttpRequest}}}function Ef(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,d,c){return function(a,b,d,c,e){function f(a,b,d){a=a.replace("JSON_CALLBACK",b);var f=e.createElement("script"),m=null;return f.type="text/javascript",f.src=a,f.async=!0,m=function(a){f.removeEventListener("load",m,!1),f.removeEventListener("error",m,!1),e.body.removeChild(f),f=null;var g=-1,x="unknown";a&&("load"!==a.type||c.wasCalled(b)||(a={type:"error"}),x=a.type,g="error"===a.type?404:200),d&&d(g,x)},f.addEventListener("load",m,!1),f.addEventListener("error",m,!1),e.body.appendChild(f),m}return function(e,h,k,l,m,n,p,x,J,t){function s(){ib&&ib(),w&&w.abort()}function D(b,c,e,f,g){u(L)&&d.cancel(L),ib=w=null,b(c,e,f,g),a.$$completeOutstandingRequest(C)}if(a.$$incOutstandingRequestCount(),h=h||a.url(),"jsonp"===P(e))var y=c.createCallback(h),ib=f(h,y,function(a,b){var d=200===a&&c.getResponse(y);D(l,a,d,"",b),c.removeCallback(y)});else{var w=b(e,h);if(w.open(e,h,!0),q(m,function(a,b){u(a)&&w.setRequestHeader(b,a)}),w.onload=function(){var a=w.statusText||"",b="response"in w?w.response:w.responseText,c=1223===w.status?204:w.status;0===c&&(c=b?200:"file"===Ca(h).protocol?404:0),D(l,c,b,w.getAllResponseHeaders(),a)},e=function(){D(l,-1,null,null,"")},w.onerror=e,w.onabort=e,w.ontimeout=e,q(J,function(a,b){w.addEventListener(b,a)}),q(t,function(a,b){w.upload.addEventListener(b,a)}),p&&(w.withCredentials=!0),x)try{w.responseType=x}catch(O){if("json"!==x)throw O}w.send(z(k)?null:k)}if(0<n)var L=d(s,n);else n&&F(n.then)&&n.then(s)}}(a,c,a.defer,b,d[0])}]}function zf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(p,b)}function h(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function k(f,k,p,n){function D(a){try{var d,b=a;if(a=p?e.getTrusted(p,b):e.valueOf(b),n&&!u(a))d=a;else if(null==a)d="";else{switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=db(a)}d=a}return d}catch(g){c(Ka.interr(f,g))}}var y;if(!f.length||-1===f.indexOf(a))return k||((y=ma(k=g(f))).exp=f,y.expressions=[],y.$$watchDelegate=h),y;n=!!n;var q,w,O=0,L=[],Q=[];y=f.length;for(var A=[],G=[];O<y;){if(-1===(q=f.indexOf(a,O))||-1===(w=f.indexOf(b,q+l))){O!==y&&A.push(g(f.substring(O)));break}O!==q&&A.push(g(f.substring(O,q))),O=f.substring(q+l,w),L.push(O),Q.push(d(O,D)),O=w+m,G.push(A.length),A.push("")}if(p&&1<A.length&&Ka.throwNoconcat(f),!k||L.length){var v=function(a){for(var b=0,c=L.length;b<c;b++){if(n&&z(a[b]))return;A[G[b]]=a[b]}return A.join("")};return R(function(a){var b=0,d=L.length,e=Array(d);try{for(;b<d;b++)e[b]=Q[b](a);return v(e)}catch(g){c(Ka.interr(f,g))}},{exp:f,expressions:L,$$watchDelegate:function(a,b){var c;return a.$watchGroup(Q,function(d,e){var f=v(d);F(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),p=new RegExp(b.replace(/./g,f),"g");return k.startSymbol=function(){return a},k.endSymbol=function(){return b},k}]}function Af(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,d,c,e){function f(f,k,l,m){function n(){p?f.apply(null,x):f(s)}var p=4<arguments.length,x=p?ta.call(arguments,4):[],J=b.setInterval,t=b.clearInterval,s=0,D=u(m)&&!m,y=(D?c:d).defer(),q=y.promise;return l=u(l)?l:0,q.$$intervalId=J(function(){D?e.defer(n):a.$evalAsync(n),y.notify(s++),0<l&&l<=s&&(y.resolve(s),t(q.$$intervalId),delete g[q.$$intervalId]),D||a.$apply()},k),g[q.$$intervalId]=y,q}var g={};return f.cancel=function(a){return!!(a&&a.$$intervalId in g)&&(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0)},f}]}function kc(a){for(var b=(a=a.split("/")).length;b--;)a[b]=tb(a[b]);return a.join("/")}function rd(a,b){var d=Ca(a);b.$$protocol=d.protocol,b.$$host=d.hostname,b.$$port=aa(d.port)||vg[d.protocol]||null}function sd(a,b){if(wg.test(a))throw lb("badpath",a);var d="/"!==a.charAt(0);d&&(a="/"+a);var c=Ca(a);b.$$path=decodeURIComponent(d&&"/"===c.pathname.charAt(0)?c.pathname.substring(1):c.pathname),b.$$search=Hc(c.search),b.$$hash=decodeURIComponent(c.hash),b.$$path&&"/"!==b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function ka(a,b){if(0===b.lastIndexOf(a,0))return b.substr(a.length)}function Ja(a){var b=a.indexOf("#");return-1===b?a:a.substr(0,b)}function mb(a){return a.replace(/(#.+)|#$/,"$1")}function lc(a,b,d){this.$$html5=!0,d=d||"",rd(a,this),this.$$parse=function(a){var d=ka(b,a);if(!H(d))throw lb("ipthprfx",a,b);sd(d,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=Wb(this.$$search),d=this.$$hash?"#"+tb(this.$$hash):"";this.$$url=kc(this.$$path)+(a?"?"+a:"")+d,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(c,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(u(f=ka(a,c))?(g=f,g=d&&u(f=ka(d,f))?b+(ka("/",f)||f):a+g):u(f=ka(b,c))?g=b+f:b===c+"/"&&(g=b),g&&this.$$parse(g),!!g);var f,g}}function mc(a,b,d){rd(a,this),this.$$parse=function(c){var f;z(e=ka(a,c)||ka(b,c))||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",z(e)&&(a=c,this.replace())):z(f=ka(d,e))&&(f=e),sd(f,this),c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;0===f.lastIndexOf(e,0)&&(f=f.replace(e,"")),g.exec(f)||(c=(f=g.exec(c))?f[1]:c),this.$$path=c,this.$$compose()},this.$$compose=function(){var b=Wb(this.$$search),e=this.$$hash?"#"+tb(this.$$hash):"";this.$$url=kc(this.$$path)+(b?"?"+b:"")+e,this.$$absUrl=a+(this.$$url?d+this.$$url:"")},this.$$parseLinkUrl=function(b,d){return Ja(a)===Ja(b)&&(this.$$parse(b),!0)}}function td(a,b,d){this.$$html5=!0,mc.apply(this,arguments),this.$$parseLinkUrl=function(c,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(a===Ja(c)?f=c:(g=ka(b,c))?f=a+d+g:b===c+"/"&&(f=b),f&&this.$$parse(f),!!f);var f,g},this.$$compose=function(){var b=Wb(this.$$search),e=this.$$hash?"#"+tb(this.$$hash):"";this.$$url=kc(this.$$path)+(b?"?"+b:"")+e,this.$$absUrl=a+d+this.$$url}}function Jb(a){return function(){return this[a]}}function ud(a,b){return function(d){return z(d)?this[a]:(this[a]=b(d),this.$$compose(),this)}}function Hf(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return u(b)?(a=b,this):a},this.html5Mode=function(a){return Ia(a)?(b.enabled=a,this):I(a)?(Ia(a.enabled)&&(b.enabled=a.enabled),Ia(a.requireBase)&&(b.requireBase=a.requireBase),Ia(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,f,g){function h(a,b,d){var e=l.url(),f=l.$$state;try{c.url(a,b,d),l.$$state=c.state()}catch(g){throw l.url(e),l.$$state=f,g}}function k(a,b){d.$broadcast("$locationChangeSuccess",l.absUrl(),a,l.$$state,b)}var l,m;m=c.baseHref();var p,n=c.url();if(b.enabled){if(!m&&b.requireBase)throw lb("nobase");p=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(m||"/"),m=e.history?lc:td}else p=Ja(n),m=mc;var x=p.substr(0,Ja(p).lastIndexOf("/")+1);(l=new m(p,x,"#"+a)).$$parseLinkUrl(n,n),l.$$state=c.state();var J=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!==a.which&&2!==a.button){for(var e=E(a.target);"a"!==ua(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),k=e.attr("href")||e.attr("xlink:href");I(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Ca(h.animVal).href),J.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||!l.$$parseLinkUrl(h,k)||(a.preventDefault(),l.absUrl()!==c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),mb(l.absUrl())!==mb(n)&&c.url(l.absUrl(),!0);var t=!0;return c.onUrlChange(function(a,b){z(ka(x,a))?g.location.href=a:(d.$evalAsync(function(){var f,c=l.absUrl(),e=l.$$state;a=mb(a),l.$$parse(a),l.$$state=b,f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented,l.absUrl()===a&&(f?(l.$$parse(c),h(c,!1,l.$$state=e)):(t=!1,k(c,e)))}),d.$$phase||d.$digest())}),d.$watch(function(){var a=mb(c.url()),b=mb(l.absUrl()),f=c.state(),g=l.$$replace,m=a!==b||l.$$html5&&e.history&&f!==l.$$state;(t||m)&&(t=!1,d.$evalAsync(function(){var b=l.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,l.$$state,f).defaultPrevented;l.absUrl()===b&&(c?(l.$$parse(a),l.$$state=f):(m&&h(b,g,f===l.$$state?null:l.$$state),k(a,f)))})),l.$$replace=!1}),l}]}function If(){var a=!0,b=this;this.debugEnabled=function(b){return u(b)?(a=b,this):a},this.$get=["$window",function(d){function e(a){var b=d.console||{},e=b[a]||b.log||C;a=!1;try{a=!!e.apply}catch(k){}return a?function(){var a=[];return q(arguments,function(b){a.push(function(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Ta(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw ea("isecfld",b);return a}function xg(a){return a+""}function qa(a,b){if(a){if(a.constructor===a)throw ea("isecfn",b);if(a.window===a)throw ea("isecwindow",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw ea("isecdom",b);if(a===Object)throw ea("isecobj",b)}return a}function vd(a,b){if(a){if(a.constructor===a)throw ea("isecfn",b);if(a===yg||a===zg||a===Ag)throw ea("isecff",b)}}function Kb(a,b){if(a&&(a===wd||a===xd||a===yd||a===zd||a===Ad||a===Bd||a===Bg||a===Cg||a===Lb||a===Dg||a===Cd||a===Eg))throw ea("isecaf",b)}function Fg(a,b){return void 0!==a?a:b}function Dd(a,b){return void 0===a?b:void 0===b?a:a+b}function W(a,b){var d,c,e;switch(a.type){case r.Program:d=!0,q(a.body,function(a){W(a.expression,b),d=d&&a.expression.constant}),a.constant=d;break;case r.Literal:a.constant=!0,a.toWatch=[];break;case r.UnaryExpression:W(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case r.BinaryExpression:W(a.left,b),W(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case r.LogicalExpression:W(a.left,b),W(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case r.ConditionalExpression:W(a.test,b),W(a.alternate,b),W(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case r.Identifier:a.constant=!1,a.toWatch=[a];break;case r.MemberExpression:W(a.object,b),a.computed&&W(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case r.CallExpression:d=e=!!a.filter&&!b(a.callee.name).$stateful,c=[],q(a.arguments,function(a){W(a,b),d=d&&a.constant,a.constant||c.push.apply(c,a.toWatch)}),a.constant=d,a.toWatch=e?c:[a];break;case r.AssignmentExpression:W(a.left,b),W(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case r.ArrayExpression:d=!0,c=[],q(a.elements,function(a){W(a,b),d=d&&a.constant,a.constant||c.push.apply(c,a.toWatch)}),a.constant=d,a.toWatch=c;break;case r.ObjectExpression:d=!0,c=[],q(a.properties,function(a){W(a.value,b),d=d&&a.value.constant&&!a.computed,a.value.constant||c.push.apply(c,a.value.toWatch)}),a.constant=d,a.toWatch=c;break;case r.ThisExpression:a.constant=!1,a.toWatch=[];break;case r.LocalsExpression:a.constant=!1,a.toWatch=[]}}function Ed(a){if(1===a.length){var b=(a=a[0].expression).toWatch;return 1!==b.length?b:b[0]!==a?b:void 0}}function Fd(a){return a.type===r.Identifier||a.type===r.MemberExpression}function Gd(a){if(1===a.body.length&&Fd(a.body[0].expression))return{type:r.AssignmentExpression,left:a.body[0].expression,right:{type:r.NGValueParameter},operator:"="}}function Hd(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===r.Literal||a.body[0].expression.type===r.ArrayExpression||a.body[0].expression.type===r.ObjectExpression)}function Id(a,b){this.astBuilder=a,this.$filter=b}function Jd(a,b){this.astBuilder=a,this.$filter=b}function Mb(a){return"constructor"===a}function nc(a){return F(a.valueOf)?a.valueOf():Gg.call(a)}function Jf(){var c,e,a=S(),b=S(),d={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(a,b){d[a]=b},this.setIdentifierFns=function(a,b){return c=a,e=b,this},this.$get=["$filter",function(f){function g(c,d,e){var g,k,J;switch(e=e||D,typeof c){case"string":J=c=c.trim();var A=e?b:a;if(!(g=A[J])){":"===c.charAt(0)&&":"===c.charAt(1)&&(k=!0,c=c.substring(2));var G=new oc(g=e?s:t);(g=new pc(G,f,g).parse(c)).constant?g.$$watchDelegate=p:k?g.$$watchDelegate=g.literal?n:m:g.inputs&&(g.$$watchDelegate=l),e&&(g=function h(a){function b(c,d,e,f){var g=D;D=!0;try{return a(c,d,e,f)}finally{D=g}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate;b.assign=h(a.assign);b.constant=a.constant;b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=h(a.inputs[c]);b.inputs=a.inputs;return b}(g)),A[J]=g}return x(g,d);case"function":return x(c,d);default:return x(C,d)}}function k(a,b){return null==a||null==b?a===b:("object"!=typeof a||"object"!=typeof(a=nc(a)))&&(a===b||a!=a&&b!=b)}function l(a,b,c,d,e){var g;if(1===(f=d.inputs).length){var h=k,f=f[0];return a.$watch(function(a){var b=f(a);return k(b,h)||(g=d(a,void 0,void 0,[b]),h=b&&nc(b)),g},b,c,e)}for(var l=[],m=[],p=0,n=f.length;p<n;p++)l[p]=k,m[p]=null;return a.$watch(function(a){for(var b=!1,c=0,e=f.length;c<e;c++){var h=f[c](a);(b||(b=!k(h,l[c])))&&(m[c]=h,l[c]=h&&nc(h))}return b&&(g=d(a,void 0,void 0,m)),g},b,c,e)}function m(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,F(b)&&b.apply(this,arguments),u(a)&&d.$$postDigest(function(){u(f)&&e()})},c)}function n(a,b,c,d){function e(a){var b=!0;return q(a,function(a){u(a)||(b=!1)}),b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a,F(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function p(a,b,c,d){var e=a.$watch(function(a){return e(),d(a)},b,c);return e}function x(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1;c=c!==n&&c!==m?function(c,e,f,g){return f=d&&g?g[0]:a(c,e,f,g),b(f,c,e)}:function(c,d,e,f){return e=a(c,d,e,f),c=b(e,c,d),u(e)?c:e};return a.$$watchDelegate&&a.$$watchDelegate!==l?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=l,d=!a.inputs,c.inputs=a.inputs?a.inputs:[a]),c}var J=ya().noUnsafeEval,t={csp:J,expensiveChecks:!1,literals:pa(d),isIdentifierStart:F(c)&&c,isIdentifierContinue:F(e)&&e},s={csp:J,expensiveChecks:!0,literals:pa(d),isIdentifierStart:F(c)&&c,isIdentifierContinue:F(e)&&e},D=!1;return g.$$runningExpensiveChecks=function(){return D},g}]}function Lf(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return Kd(function(b){a.$evalAsync(b)},b)}]}function Mf(){this.$get=["$browser","$exceptionHandler",function(a,b){return Kd(function(b){a.defer(b)},b)}]}function Kd(a,b){function d(){this.$$state={status:0}}function c(a,b){return function(c){b.call(a,c)}}function e(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,a(function(){var a,d,e;e=c.pending,c.processScheduled=!1,c.pending=void 0;for(var f=0,g=e.length;f<g;++f){d=e[f][0],a=e[f][c.status];try{F(a)?d.resolve(a(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),b(h)}}}))}function f(){this.promise=new d}var g=N("$q",TypeError),h=function(){var a=new f;return a.resolve=c(a,a.resolve),a.reject=c(a,a.reject),a.notify=c(a,a.notify),a};R(d.prototype,{then:function(a,b,c){if(z(a)&&z(b)&&z(c))return this;var d=new f;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),0<this.$$state.status&&e(this.$$state),d.promise},catch:function(a){return this.then(null,a)},finally:function(a,b){return this.then(function(b){return l(b,!0,a)},function(b){return l(b,!1,a)},b)}}),R(f.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(g("qcycle",a)):this.$$resolve(a))},$$resolve:function(a){function f(a){k||(k=!0,h.$$reject(a))}var g,h=this,k=!1;try{(I(a)||F(a))&&(g=a&&a.then),F(g)?(this.promise.$$state.status=-1,g.call(a,function(a){k||(k=!0,h.$$resolve(a))},f,c(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=1,e(this.promise.$$state))}catch(l){f(l),b(l)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,e(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0],a=d[f][3];try{e.notify(F(a)?a(c):c)}catch(h){b(h)}}})}});var k=function(a,b){var c=new f;return b?c.resolve(a):c.reject(a),c.promise},l=function(a,b,c){var d=null;try{F(c)&&(d=c())}catch(e){return k(e,!1)}return d&&F(d.then)?d.then(function(){return k(a,b)},function(a){return k(a,!1)}):k(a,b)},m=function(a,b,c,d){var e=new f;return e.resolve(a),e.promise.then(b,c,d)},n=function(a){if(!F(a))throw g("norslvr",a);var b=new f;return a(function(a){b.resolve(a)},function(a){b.reject(a)}),b.promise};return n.prototype=d.prototype,n.defer=h,n.reject=function(a){var b=new f;return b.reject(a),b.promise},n.when=m,n.resolve=m,n.all=function(a){var b=new f,c=0,d=K(a)?[]:{};return q(a,function(a,e){c++,m(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise},n.race=function(a){var b=h();return q(a,function(a){m(a).then(b.resolve,b.reject)}),b.promise},n}function Vf(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Kf(){var b=10,d=N("$rootScope"),c=null,e=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$exceptionHandler","$parse","$browser",function(f,g,h){function k(a){a.currentScope.$$destroyed=!0}function m(){this.$id=++sb,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function n(a){if(D.$$phase)throw d("inprog",D.$$phase);D.$$phase=a}function p(a,b){for(;a.$$watchersCount+=b,a=a.$parent;);}function x(a,b,c){for(;a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c],a=a.$parent;);}function J(){}function t(){for(;w.length;)try{w.shift()()}catch(a){f(a)}e=null}m.prototype={constructor:m,$new:function(b,c){var d;return c=c||this,b?(d=new m).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++sb,this.$$ChildScope=null}return b.prototype=a,b}(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!==this)&&d.$on("$destroy",k),d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:J,get:f,exp:e||a,eq:!!d};return c=null,F(b)||(l.fn=C),k||(k=h.$$watchers=[]),k.unshift(l),p(this,1),function(){0<=ab(k,l)&&p(h,-1),c=null}},$watchGroup:function(a,b){function c(){h=!1,k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(a.length)return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(q(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a,d[b]=f,h||(h=!0,g.$evalAsync(c))});f.push(k)}),function(){for(;f.length;)f.shift()()});var l=!0;return g.$evalAsync(function(){l&&b(e,e,g)}),function(){l=!1}},$watchCollection:function(a,b){function c(a){var b,g,h;if(!z(e=a)){if(I(e))if(ra(e))for(f!==n&&(s=(f=n).length=0,l++),a=e.length,s!==a&&(l++,f.length=s=a),b=0;b<a;b++)h=f[b],g=e[b],h!=h&&g!=g||h===g||(l++,f[b]=g);else{for(b in f!==p&&(f=p={},s=0,l++),a=0,e)sa.call(e,b)&&(a++,g=e[b],h=f[b],b in f?h!=h&&g!=g||h===g||(l++,f[b]=g):(s++,f[b]=g,l++));if(a<s)for(b in l++,f)sa.call(e,b)||(s--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var e,f,h,d=this,k=1<b.length,l=0,m=g(a,c),n=[],p={},x=!0,s=0;return this.$watch(m,function(){if(x?(x=!1,b(e,e,d)):b(e,h,d),k)if(I(e))if(ra(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)sa.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,k,p,x,s,w,z,C,q=b,u=[];n("$digest"),h.$$checkUrlChange(),this===D&&null!==e&&(h.defer.cancel(e),t()),c=null;do{for(s=!1,w=this,p=0;p<y.length;p++){try{(C=y[p]).scope.$eval(C.expression,C.locals)}catch(B){f(B)}c=null}y.length=0;a:do{if(p=w.$$watchers)for(x=p.length;x--;)try{if(a=p[x])if((g=(0,a.get)(w))===(k=a.last)||(a.eq?oa(g,k):X(g)&&X(k))){if(a===c){s=!1;break a}}else s=!0,(c=a).last=a.eq?pa(g,null):g,(0,a.fn)(g,k===J?g:k,w),q<5&&(u[z=4-q]||(u[z]=[]),u[z].push({msg:F(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:k}))}catch(E){f(E)}if(!(p=w.$$watchersCount&&w.$$childHead||w!==this&&w.$$nextSibling))for(;w!==this&&!(p=w.$$nextSibling);)w=w.$parent}while(w=p);if((s||y.length)&&!q--)throw D.$$phase=null,d("infdig",b,u)}while(s||y.length);for(D.$$phase=null;O<r.length;)try{r[O++]()}catch(H){f(H)}r.length=O=0},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;for(var b in this.$broadcast("$destroy"),this.$$destroyed=!0,this===D&&h.$$applicationDestroyed(),p(this,-this.$$watchersCount),this.$$listenerCount)x(this,this.$$listenerCount[b],b);a&&a.$$childHead===this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail===this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=C,this.$on=this.$watch=this.$watchGroup=function(){return C},this.$$listeners={},this.$$nextSibling=null,function l(a){9===Fa&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){D.$$phase||y.length||h.defer(function(){y.length&&D.$digest()}),y.push({scope:this,expression:g(a),locals:b})},$$postDigest:function(a){r.push(a)},$apply:function(a){try{n("$apply");try{return this.$eval(a)}finally{D.$$phase=null}}catch(b){f(b)}finally{try{D.$digest()}catch(c){throw f(c),c}}},$applyAsync:function(a){var c=this;a&&w.push(function(){c.$eval(a)}),a=g(a),null===e&&(e=h.defer(function(){D.$apply(t)}))},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);for(var d=this;d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++,d=d.$parent;);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,x(e,1,a))}},$emit:function(a,b){var d,l,m,c=[],e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=bb([h],arguments,1);do{for(d=e.$$listeners[a]||c,h.currentScope=e,l=0,m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);return h.currentScope=null,h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var h,k,g=bb([e],arguments,1);c=d;){for(h=0,k=(d=(e.currentScope=c).$$listeners[a]||[]).length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}return e.currentScope=null,e}};var D=new m,y=D.$$asyncQueue=[],r=D.$$postDigestQueue=[],w=D.$$applyAsyncQueue=[],O=0;return D}]}function De(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return u(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b=a,this):b},this.$get=function(){return function(d,c){var f,e=c?b:a;return""===(f=Ca(d).href)||f.match(e)?d:"unsafe:"+f}}}function Md(a){var b=[];return u(a)&&q(a,function(a){b.push(function(a){if("self"===a)return a;if(H(a)){if(-1<a.indexOf("***"))throw fa("iwcard",a);return a=Ld(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(Ya(a))return new RegExp("^"+a.source+"$");throw fa("imatcher")}(a))}),b}function Of(){this.SCE_CONTEXTS=la;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Md(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Md(a)),b},this.$get=["$injector",function(d){function c(a,b){return"self"===a?qd(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}var f=function(a){throw fa("unsafe")};d.has("$sanitize")&&(f=d.get("$sanitize"));var g=e(),h={};return h[la.HTML]=e(g),h[la.CSS]=e(g),h[la.URL]=e(g),h[la.JS]=e(g),h[la.RESOURCE_URL]=e(h[la.URL]),{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw fa("icontext",a,b);if(null===b||z(b)||""===b)return b;if("string"!=typeof b)throw fa("itype",a);return new c(b)},getTrusted:function(d,e){if(null===e||z(e)||""===e)return e;if((g=h.hasOwnProperty(d)?h[d]:null)&&e instanceof g)return e.$$unwrapTrustedValue();if(d===la.RESOURCE_URL){var n,p,g=Ca(e.toString()),x=!1;for(n=0,p=a.length;n<p;n++)if(c(a[n],g)){x=!0;break}if(x)for(n=0,p=b.length;n<p;n++)if(c(b[n],g)){x=!1;break}if(x)return e;throw fa("insecurl",e.toString())}if(d===la.HTML)return f(e);throw fa("unsafe")},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function Nf(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,d){if(a&&Fa<8)throw fa("iequirks");var c=ia(la);c.isEnabled=function(){return a},c.trustAs=d.trustAs,c.getTrusted=d.getTrusted,c.valueOf=d.valueOf,a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Za),c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,f=c.getTrusted,g=c.trustAs;return q(la,function(a,b){var d=P(b);c[fb("parse_as_"+d)]=function(b){return e(a,b)},c[fb("get_trusted_"+d)]=function(b){return f(a,b)},c[fb("trust_as_"+d)]=function(b){return g(a,b)}}),c}]}function Pf(){this.$get=["$window","$document",function(a,b){var h,d={},c=!(a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id))&&a.history&&a.history.pushState,e=aa((/android (\d+)/.exec(P((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},k=/^(Moz|webkit|ms)(?=[A-Z])/,l=g.body&&g.body.style,m=!1,n=!1;if(l){for(var p in l)if(m=k.exec(p)){h=(h=m[0])[0].toUpperCase()+h.substr(1);break}h||(h="WebkitOpacity"in l&&"webkit"),m=!!("transition"in l||h+"Transition"in l),n=!!("animation"in l||h+"Animation"in l),!e||m&&n||(m=H(l.webkitTransition),n=H(l.webkitAnimation))}return{history:!(!c||e<4||f),hasEvent:function(a){if("input"===a&&Fa<=11)return!1;if(z(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:ya(),vendorPrefix:h,transitions:m,animations:n,android:e}}]}function Rf(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$templateCache","$http","$q","$sce",function(b,d,c,e){function f(g,h){f.totalPendingRequests++,H(g)&&!z(b.get(g))||(g=e.getTrustedResourceUrl(g));var k=d.defaults&&d.defaults.transformResponse;return K(k)?k=k.filter(function(a){return a!==ic}):k===ic&&(k=null),d.get(g,R({cache:b,transformResponse:k},a)).finally(function(){f.totalPendingRequests--}).then(function(a){return b.put(g,a.data),a.data},function(a){if(!h)throw Ig("tpload",g,a.status,a.statusText);return c.reject(a)})}return f.totalPendingRequests=0,f}]}function Sf(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];return q(a,function(a){var c=ga.element(a).data("$binding");c&&q(c,function(c){d?new RegExp("(^|\\s)"+Ld(b)+"(\\s|\\||$)").test(c)&&g.push(a):-1!==c.indexOf(b)&&g.push(a)})}),g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var k=a.querySelectorAll("["+g[h]+"model"+(d?"=":"*=")+'"'+b+'"]');if(k.length)return k}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Tf(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,k,l){F(f)||(l=k,k=f,f=C);var q,m=ta.call(arguments,3),n=u(l)&&!l,p=(n?c:d).defer(),x=p.promise;return q=b.defer(function(){try{p.resolve(f.apply(null,m))}catch(b){p.reject(b),e(b)}finally{delete g[x.$$timeoutId]}n||a.$apply()},k),x.$$timeoutId=q,g[q]=p,x}var g={};return f.cancel=function(a){return!!(a&&a.$$timeoutId in g)&&(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId))},f}]}function Ca(a){return Fa&&(V.setAttribute("href",a),a=V.href),V.setAttribute("href",a),{href:V.href,protocol:V.protocol?V.protocol.replace(/:$/,""):"",host:V.host,search:V.search?V.search.replace(/^\?/,""):"",hash:V.hash?V.hash.replace(/^#/,""):"",hostname:V.hostname,port:V.port,pathname:"/"===V.pathname.charAt(0)?V.pathname:"/"+V.pathname}}function qd(a){return(a=H(a)?Ca(a):a).protocol===Nd.protocol&&a.host===Nd.host}function Uf(){this.$get=ma(B)}function Od(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e="";return function(){var a,g,h,k,l;if((a=d.cookie||"")!==e)for(a=(e=a).split("; "),c={},h=0;h<a.length;h++)0<(k=(g=a[h]).indexOf("="))&&(l=b(g.substring(0,k)),z(c[l])&&(c[l]=b(g.substring(k+1))));return c}}function Yf(){this.$get=Od}function Tc(a){function b(d,c){if(I(d)){var e={};return q(d,function(a,c){e[c]=b(c,a)}),e}return a.factory(d+"Filter",c)}this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}],b("currency",Pd),b("date",Qd),b("filter",Jg),b("json",Kg),b("limitTo",Lg),b("lowercase",Mg),b("number",Rd),b("orderBy",Sd),b("uppercase",Ng)}function Jg(){return function(a,b,d,c){if(!ra(a)){if(null==a)return a;throw N("filter")("notarray",a)}var e;switch(c=c||"$",qc(b)){case"function":break;case"boolean":case"null":case"number":case"string":e=!0;case"object":b=function(a,b,d,c){var e=I(a)&&d in a;return!0===b?b=oa:F(b)||(b=function(a,b){return!(z(a)||(null===a||null===b?a!==b:I(b)||I(a)&&!Cc(a)||(a=P(""+a),b=P(""+b),-1===a.indexOf(b))))}),function(f){return e&&!I(f)?La(f,a[d],b,d,!1):La(f,a,b,d,c)}}(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function La(a,b,d,c,e,f){var g=qc(a),h=qc(b);if("string"===h&&"!"===b.charAt(0))return!La(a,b.substring(1),d,c,e);if(K(a))return a.some(function(a){return La(a,b,d,c,e)});switch(g){case"object":var k;if(e){for(k in a)if("$"!==k.charAt(0)&&La(a[k],b,d,c,!0))return!0;return!f&&La(a,b,d,c,!1)}if("object"!==h)return d(a,b);for(k in b)if(!F(f=b[k])&&!z(f)&&!La((g=k===c)?a:a[k],f,d,c,g,g))return!1;return!0;case"function":return!1;default:return d(a,b)}}function qc(a){return null===a?"null":typeof a}function Pd(a){var b=a.NUMBER_FORMATS;return function(a,c,e){return z(c)&&(c=b.CURRENCY_SYM),z(e)&&(e=b.PATTERNS[1].maxFrac),null==a?a:Td(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function Rd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Td(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Td(a,b,d,c,e){if(!H(a)&&!Z(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",k="";if(f)k="∞";else{for(function(a,b,d,c){var e=a.d,f=e.length-a.i;if(c=e[d=(b=z(b)?Math.min(Math.max(d,f),c):+b)+a.i],0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(d-1<0){for(c=0;d<c;c--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[d-1]++;for(;f<Math.max(0,b);f++)e.push(0);(b=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0))&&(e.unshift(b),a.i++)}(g=function(a){var d,c,e,f,g,b=0;for(-1<(c=a.indexOf(Ud))&&(a=a.replace(Ud,"")),0<(e=a.search(/e/i))?(c<0&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):c<0&&(c=a.length),e=0;a.charAt(e)===rc;e++);if(e===(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)===rc;)g--;for(c-=e,d=[],f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}return Vd<c&&(d=d.splice(0,Vd-1),b=c-1,c=1),{d:d,e:b,i:c}}(h),e,b.minFrac,b.maxFrac),k=g.d,h=g.i,e=g.e,f=[],g=k.reduce(function(a,b){return a&&!b},!0);h<0;)k.unshift(0),h++;for(0<h?f=k.splice(h,k.length):(f=k,k=[0]),h=[],k.length>=b.lgSize&&h.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>b.gSize;)h.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&h.unshift(k.join("")),k=h.join(d),f.length&&(k+=c+f.join("")),e&&(k+="e+"+e)}return a<0&&!g?b.negPre+k+b.negSuf:b.posPre+k+b.posSuf}function Nb(a,b,d,c){var e="";for((a<0||c&&a<=0)&&(c?a=1-a:(a=-a,e="-")),a=""+a;a.length<b;)a=rc+a;return d&&(a=a.substr(a.length-b)),e+a}function Y(a,b,d,c,e){return d=d||0,function(f){return f=f["get"+a](),(0<d||-d<f)&&(f+=d),0===f&&-12===d&&(f=12),Nb(f,b,c,e)}}function nb(a,b,d){return function(c,e){var f=c["get"+a]();return e[xb((d?"STANDALONE":"")+(b?"SHORT":"")+a)][f]}}function Wd(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(b<=4?5:12)-b)}function Xd(a){return function(b){var d=Wd(b.getFullYear());return b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d,Nb(b=1+Math.round(b/6048e5),a)}}function sc(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function Qd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=aa(b[9]+b[10]),g=aa(b[9]+b[11])),h.call(a,aa(b[1]),aa(b[2])-1,aa(b[3])),f=aa(b[4]||0)-f,g=aa(b[5]||0)-g,h=aa(b[6]||0),b=Math.round(1e3*parseFloat("0."+(b[7]||0))),k.call(a,f,g,h,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var k,l,g="",h=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,H(c)&&(c=Rg.test(c)?aa(c):b(c)),Z(c)&&(c=new Date(c)),!ba(c)||!isFinite(c.getTime()))return c;for(;d;)d=(l=Sg.exec(d))?(h=bb(h,l,1)).pop():(h.push(d),null);var m=c.getTimezoneOffset();return f&&(m=Fc(f,m),c=Vb(c,f,!0)),q(h,function(b){k=Tg[b],g+=k?k(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}}function Kg(){return function(a,b){return z(b)&&(b=2),db(a,b)}}function Lg(){return function(a,b,d){return b=1/0===Math.abs(Number(b))?Number(b):aa(b),X(b)?a:(Z(a)&&(a=a.toString()),ra(a)?(d=(d=!d||isNaN(d)?0:aa(d))<0?Math.max(0,a.length+d):d,0<=b?tc(a,d,d+b):0===d?tc(a,b,a.length):tc(a,Math.max(0,d+b),d)):a)}}function tc(a,b,d){return H(a)?a.slice(b,d):ta.call(a,b,d)}function Sd(a){function b(b){return b.map(function(b){var c=1,d=Za;if(F(b))d=b;else if(H(b)&&("+"!==b.charAt(0)&&"-"!==b.charAt(0)||(c="-"===b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(d=a(b)).constant)){var e=d();d=function(a){return a[e]}}return{get:d,descending:c}})}function d(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function c(a,b){var c=0,d=a.type;if(d===(k=b.type)){var k=a.value,l=b.value;"string"===d?(k=k.toLowerCase(),l=l.toLowerCase()):"object"===d&&(I(k)&&(k=a.index),I(l)&&(l=b.index)),k!==l&&(c=k<l?-1:1)}else c=d<k?-1:1;return c}return function(a,f,g,h){if(null==a)return a;if(!ra(a))throw N("orderBy")("notarray",a);K(f)||(f=[f]),0===f.length&&(f=["+"]);var k=b(f),l=g?-1:1,m=F(h)?h:c;return(a=Array.prototype.map.call(a,function(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:k.map(function(c){var e=c.get(a);return c=typeof e,null===e?(c="string",e="null"):"object"===c&&(F(e.valueOf)&&d(e=e.valueOf())||Cc(e)&&d(e=e.toString())),{value:e,type:c,index:b}})}})).sort(function(a,b){for(var c=0,d=k.length;c<d;c++){var e=m(a.predicateValues[c],b.predicateValues[c]);if(e)return e*k[c].descending*l}return m(a.tieBreaker,b.tieBreaker)*l}),a.map(function(a){return a.value})}}function Ua(a){return F(a)&&(a={link:a}),a.restrict=a.restrict||"AC",ma(a)}function Yd(a,b,d,c,e){var f=this,g=[];f.$error={},f.$$success={},f.$pending=void 0,f.$name=e(b.name||b.ngForm||"")(d),f.$dirty=!1,f.$pristine=!0,f.$valid=!0,f.$invalid=!1,f.$submitted=!1,f.$$parentForm=Ob,f.$rollbackViewValue=function(){q(g,function(a){a.$rollbackViewValue()})},f.$commitViewValue=function(){q(g,function(a){a.$commitViewValue()})},f.$addControl=function(a){Qa(a.$name,"input"),g.push(a),a.$name&&(f[a.$name]=a),a.$$parentForm=f},f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c],(f[b]=a).$name=b},f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name],q(f.$pending,function(b,c){f.$setValidity(c,null,a)}),q(f.$error,function(b,c){f.$setValidity(c,null,a)}),q(f.$$success,function(b,c){f.$setValidity(c,null,a)}),ab(g,a),a.$$parentForm=Ob},Zd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(ab(d,c),0===d.length&&delete a[b])},$animate:c}),f.$setDirty=function(){c.removeClass(a,Va),c.addClass(a,Pb),f.$dirty=!0,f.$pristine=!1,f.$$parentForm.$setDirty()},f.$setPristine=function(){c.setClass(a,Va,Pb+" ng-submitted"),f.$dirty=!1,f.$pristine=!0,f.$submitted=!1,q(g,function(a){a.$setPristine()})},f.$setUntouched=function(){q(g,function(a){a.$setUntouched()})},f.$setSubmitted=function(){c.addClass(a,"ng-submitted"),f.$submitted=!0,f.$$parentForm.$setSubmitted()}}function uc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Wa(a,b,d,c,e,f){var g=P(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0}),b.on("compositionend",function(){h=!1,l()})}var k,l=function(a){if(k&&(f.defer.cancel(k),k=null),!h){var e=b.val();a=a&&a.type,"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=U(e)),(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",l);else{var m=function(a,b,c){k||(k=f.defer(function(){k=null,b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&b<19||37<=b&&b<=40||m(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",m)}b.on("change",l),$d[g]&&c.$$hasNativeValidators&&g===d.type&&b.on("keydown wheel mousedown",function(a){if(!k){var b=this.validity,c=b.badInput,d=b.typeMismatch;k=f.defer(function(){k=null,b.badInput===c&&b.typeMismatch===d||l(a)})}}),c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Qb(a,b){return function(d,c){var e,f;if(ba(d))return d;if(H(d)){if('"'===d.charAt(0)&&'"'===d.charAt(d.length-1)&&(d=d.substring(1,d.length-1)),Ug.test(d))return new Date(d);if(a.lastIndex=0,e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},q(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1e3*f.sss||0)}return NaN}}function ob(a,b,d,c){return function(e,f,g,h,k,l,m){function n(a){return a&&!(a.getTime&&a.getTime()!=a.getTime())}function p(a){return u(a)&&!ba(a)?d(a)||void 0:a}vc(e,f,g,h),Wa(0,f,g,h,k,l);var q,t,s,x=h&&h.$options&&h.$options.timezone;(h.$$parserName=a,h.$parsers.push(function(a){return h.$isEmpty(a)?null:b.test(a)?(a=d(a,q),x&&(a=Vb(a,x)),a):void 0}),h.$formatters.push(function(a){if(a&&!ba(a))throw pb("datefmt",a);return n(a)?((q=a)&&x&&(q=Vb(q,x,!0)),m("date")(a,c,x)):(q=null,"")}),u(g.min)||g.ngMin)&&(h.$validators.min=function(a){return!n(a)||z(t)||d(a)>=t},g.$observe("min",function(a){t=p(a),h.$validate()}));(u(g.max)||g.ngMax)&&(h.$validators.max=function(a){return!n(a)||z(s)||d(a)<=s},g.$observe("max",function(a){s=p(a),h.$validate()}))}}function vc(a,b,d,c){(c.$$hasNativeValidators=I(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput||c.typeMismatch?void 0:a})}function ae(a){a.$$parserName="number",a.$parsers.push(function(b){return a.$isEmpty(b)?null:Vg.test(b)?parseFloat(b):void 0}),a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!Z(b))throw pb("numfmt",b);b=b.toString()}return b})}function qb(a){return u(a)&&!Z(a)&&(a=parseFloat(a)),X(a)?void 0:a}function wc(a){var b=a.toString(),d=b.indexOf(".");return-1===d?-1<a&&a<1&&(a=/e-(\d+)$/.exec(b))?Number(a[1]):0:b.length-d-1}function be(a,b,d,c,e){if(u(c)){if(!(a=a(c)).constant)throw pb("constexpr",d,c);return a(b)}return e}function xc(a,b){return a="ngClass"+a,["$animate",function(d){function c(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e===b[m])continue a;c.push(e)}return c}function e(a){var b=[];return K(a)?(q(a,function(a){b=b.concat(e(a))}),b):H(a)?a.split(" "):I(a)?(q(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(f,g,h){function k(a){a=l(a,1),h.$addClass(a)}function l(a,b){var c=g.data("$classCounts")||S(),d=[];return q(a,function(a){(0<b||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a))}),g.data("$classCounts",c),d.join(" ")}function m(a,b){var e=c(b,a),f=c(a,b);e=l(e,1),f=l(f,-1);e&&e.length&&d.addClass(g,e),f&&f.length&&d.removeClass(g,f)}function n(a){if(!0===b||(1&f.$index)===b){var c=e(a||[]);if(p){if(!oa(a,p)){m(e(p),c)}}else k(c)}p=K(a)?a.map(function(a){return ia(a)}):ia(a)}var p;f.$watch(h[a],n,!0),h.$observe("class",function(b){n(f.$eval(h[a]))}),"ngClass"!==a&&f.$watch("$index",function(c,d){var g=1&c;if(g!==(1&d)){var m=e(f.$eval(h[a]));g===b?k(m):(g=l(m,-1),h.$removeClass(g))}})}}}]}function Zd(a){function b(a,b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function d(a,c){a=a?"-"+Jc(a,"-"):"",b(rb+a,!0===c),b(ce+a,!1===c)}var c=a.ctrl,e=a.$element,f={},g=a.set,h=a.unset,k=a.$animate;f[ce]=!(f[rb]=e.hasClass(rb)),c.$setValidity=function(a,e,f){z(e)?(c.$pending||(c.$pending={}),g(c.$pending,a,f)):(c.$pending&&h(c.$pending,a,f),de(c.$pending)&&(c.$pending=void 0)),Ia(e)?e?(h(c.$error,a,f),g(c.$$success,a,f)):(g(c.$error,a,f),h(c.$$success,a,f)):(h(c.$error,a,f),h(c.$$success,a,f)),c.$pending?(b(ee,!0),c.$valid=c.$invalid=void 0,d("",null)):(b(ee,!1),c.$valid=de(c.$error),c.$invalid=!c.$valid,d("",c.$valid)),d(a,e=c.$pending&&c.$pending[a]?void 0:!c.$error[a]&&(!!c.$$success[a]||null)),c.$$parentForm.$setValidity(a,e,c)}}function de(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var Fa,E,xa,Xb,Wg=/^\/(.+)\/([a-z]*)$/,sa=Object.prototype.hasOwnProperty,P=function(a){return H(a)?a.toLowerCase():a},xb=function(a){return H(a)?a.toUpperCase():a},ta=[].slice,pg=[].splice,Xg=[].push,na=Object.prototype.toString,Dc=Object.getPrototypeOf,va=N("ng"),ga=B.angular||(B.angular={}),sb=0;Fa=B.document.documentMode;var X=Number.isNaN||function(a){return a!=a};C.$inject=[],Za.$inject=[];var K=Array.isArray,pe=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,U=function(a){return H(a)?a.trim():a},Ld=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ya=function(){if(!u(ya.rules)){var a=B.document.querySelector("[ng-csp]")||B.document.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");ya.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=ya;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return ya.rules},ub=function(){if(u(ub.name_))return ub.name_;var a,b,c,e,d=Na.length;for(b=0;b<d;++b)if(c=Na[b],a=B.document.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return ub.name_=e},se=/:/g,Na=["ng-","data-ng-","ng:","x-ng-"],ve=function(a){if(!a.currentScript)return!0;var b=a.currentScript.getAttribute("src"),d=a.createElement("a");if(d.href=b,b=d.protocol,a.location.protocol===b)return!0;switch(b){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}(B.document),ye=/[A-Z]/g,Kc=!1,Ma=3,Ce={full:"1.5.9",major:1,minor:5,dot:9,codeName:"timeturning-lockdown"};T.expando="ng339";var hb=T.cache={},dg=1;T._data=function(a){return this.cache[a[this.expando]]||{}};var Zf=/([:\-_]+(.))/g,$f=/^moz([A-Z])/,Bb={mouseleave:"mouseout",mouseenter:"mouseover"},Zb=N("jqLite"),cg=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Yb=/<|&#?\w+;/,ag=/<([\w:-]+)/,bg=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ja={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ja.optgroup=ja.option,ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead,ja.th=ja.td;var ig=B.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},Oa=T.prototype={ready:function(a){function b(){d||(d=!0,a())}var d=!1;"complete"===B.document.readyState?B.setTimeout(b):(this.on("DOMContentLoaded",b),T(B).on("load",b))},toString:function(){var a=[];return q(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return E(0<=a?this[a]:this[this.length+a])},length:0,push:Xg,sort:[].sort,splice:[].splice},Hb={};q("multiple selected checked disabled readOnly required open".split(" "),function(a){Hb[P(a)]=a});var bd={};q("input select option textarea button form details".split(" "),function(a){bd[a]=!0});var jd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};q({data:ac,removeData:gb,hasData:function(a){for(var b in hb[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)gb(a[b])}},function(a,b){T[b]=a}),q({data:ac,inheritedData:Fb,scope:function(a){return E.data(a,"$scope")||Fb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return E.data(a,"$isolateScope")||E.data(a,"$isolateScopeNoTemplate")},controller:Zc,injector:function(a){return Fb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Cb,css:function(a,b,d){if(b=fb(b),!u(d))return a.style[b];a.style[b]=d},attr:function(a,b,d){var c=a.nodeType;if(c!==Ma&&2!==c&&8!==c)if(c=P(b),Hb[c]){if(!u(d))return a[b]||(a.attributes.getNamedItem(b)||C).specified?c:void 0;d?(a[b]=!0,a.setAttribute(b,c)):(a[b]=!1,a.removeAttribute(c))}else if(u(d))a.setAttribute(b,d);else if(a.getAttribute)return null===(a=a.getAttribute(b,2))?void 0:a},prop:function(a,b,d){if(!u(d))return a[b];a[b]=d},text:function(){function a(a,d){if(z(d)){var c=a.nodeType;return 1===c||c===Ma?a.textContent:""}a.textContent=d}return a.$dv="",a}(),val:function(a,b){if(z(b)){if(a.multiple&&"select"===ua(a)){var d=[];return q(a.options,function(a){a.selected&&d.push(a.value||a.text)}),0===d.length?null:d}return a.value}a.value=b},html:function(a,b){if(z(b))return a.innerHTML;zb(a,!0),a.innerHTML=b},empty:$c},function(a,b){T.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==$c&&z(2===a.length&&a!==Cb&&a!==Zc?b:c)){if(I(b)){for(e=0;e<g;e++)if(a===ac)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(g=z(e=a.$dv)?Math.min(g,1):g,f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}}),q({removeData:gb,on:function(a,b,d,c){if(u(c))throw Zb("onargs");if(Uc(a)){var e=(c=Ab(a,!0)).events,f=c.handle;f||(f=c.handle=function(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=b[d||c.type],g=f?f.length:0;if(g){if(z(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var k=f.specialHandlerWrapper||gg;1<g&&(f=ia(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||k(a,c,f[l])}};return d.elem=a,d}(a,e));for(var g=(c=0<=b.indexOf(" ")?b.split(" "):[b]).length,h=function(b,c,g){var h=e[b];h||((h=e[b]=[]).specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f,!1)),h.push(d)};g--;)b=c[g],Bb[b]?(h(Bb[b],hg),h(b,void 0,!0)):h(b)}},off:Yc,one:function(a,b,d){(a=E(a)).on(b,function e(){a.off(b,d),a.off(b,e)}),a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;zb(a),q(new T(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a),d=b})},children:function(a){var b=[];return q(a.childNodes,function(a){1===a.nodeType&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){if(1===(d=a.nodeType)||11===d)for(var d=0,c=(b=new T(b)).length;d<c;d++)a.appendChild(b[d])},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;q(new T(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){Wc(a,E(b).eq(0).clone()[0])},remove:Gb,detach:function(a){Gb(a,!0)},after:function(a,b){for(var d=a,c=a.parentNode,e=0,f=(b=new T(b)).length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling),d=g}},addClass:Eb,removeClass:Db,toggleClass:function(a,b,d){b&&q(b.split(" "),function(b){var e=d;z(e)&&(e=!Cb(a,b)),(e?Eb:Db)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:$b,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=Ab(a);(g=(g=g&&g.events)&&g[f])&&(c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:C,type:f,target:a},b.type&&(c=R(c,b)),b=ia(g),e=d?[c].concat(d):[c],q(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)}))}},function(a,b){T.prototype[b]=function(b,c,e){for(var f,g=0,h=this.length;g<h;g++)z(f)?u(f=a(this[g],b,c,e))&&(f=E(f)):Xc(f,a(this[g],b,c,e));return u(f)?f:this},T.prototype.bind=T.prototype.on,T.prototype.unbind=T.prototype.off}),Ra.prototype={put:function(a,b){this[za(a,this.nextUid)]=b},get:function(a){return this[za(a,this.nextUid)]},remove:function(a){var b=this[a=za(a,this.nextUid)];return delete this[a],b}};var Xf=[function(){this.$get=[function(){return Ra}]}],kg=/^([^\(]+?)=>/,lg=/^[^\(]*\(\s*([^\)]*)\)/m,Yg=/,/,Zg=/^\s*(_?)(\S+?)\1\s*$/,jg=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Da=N("$injector");eb.$$annotate=function(a,b,d){var c;if("function"==typeof a){if(!(c=a.$inject)){if(c=[],a.length){if(b)throw H(d)&&d||(d=a.name||function(a){return(a=cd(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}(a)),Da("strictdi",d);q((b=cd(a))[1].split(Yg),function(a){a.replace(Zg,function(a,b,d){c.push(d)})})}a.$inject=c}}else K(a)?(Pa(a[b=a.length-1],"fn"),c=a.slice(0,b)):Pa(a,"fn",!0);return c};var fe=N("$animate"),pf=function(){this.$get=C},qf=function(){var a=new Ra,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;return b&&q(b=H(b)?b.split(" "):K(b)?b:[],function(b){b&&(d=!0,a[b]=c)}),d}function f(){q(b,function(b){var c=a.get(b);if(c){var d=function(a){H(a)&&(a=a.split(" "));var b=S();return q(a,function(a){a.length&&(b[a]=!0)}),b}(b.attr("class")),e="",f="";q(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)}),q(b,function(a){e&&Eb(a,e),f&&Db(a,f)}),a.remove(b)}}),b.length=0}return{enabled:C,on:C,off:C,pin:C,push:function(g,h,k,l){return l&&l(),(k=k||{}).from&&g.css(k.from),k.to&&g.css(k.to),(k.addClass||k.removeClass)&&(h=k.addClass,l=k.removeClass,h=e(k=a.get(g)||{},h,!0),l=e(k,l,!1),(h||l)&&(a.put(g,k),b.push(g),1===b.length&&c.$$postDigest(f))),(g=new d).complete(),g}}}]},nf=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(d,c){if(d&&"."!==d.charAt(0))throw fe("notcsel",d);var e=d+"-animation";b.$$registeredAnimations[d.substr(1)]=e,a.factory(e,c)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw fe("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var h;a:{for(h=0;h<d.length;h++){var k=d[h];if(1===k.nodeType){h=k;break a}}h=void 0}!h||h.parentNode||h.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(e,f,g,h){return f=f&&E(f),g=g&&E(g),b(e,f=f||g.parent(),g),a.push(e,"enter",Ea(h))},move:function(e,f,g,h){return f=f&&E(f),g=g&&E(g),b(e,f=f||g.parent(),g),a.push(e,"move",Ea(h))},leave:function(b,c){return a.push(b,"leave",Ea(c),function(){b.remove()})},addClass:function(b,c,g){return(g=Ea(g)).addClass=jb(g.addclass,c),a.push(b,"addClass",g)},removeClass:function(b,c,g){return(g=Ea(g)).removeClass=jb(g.removeClass,c),a.push(b,"removeClass",g)},setClass:function(b,c,g,h){return(h=Ea(h)).addClass=jb(h.addClass,c),h.removeClass=jb(h.removeClass,g),a.push(b,"setClass",h)},animate:function(b,c,g,h,k){return(k=Ea(k)).from=k.from?R(k.from,c):c,k.to=k.to?R(k.to,g):g,k.tempClasses=jb(k.tempClasses,h||"ng-inline-animate"),a.push(b,"animate",k)}}}]}],sf=function(){this.$get=["$$rAF",function(a){function b(b){d.push(b),1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;return b(function(){a=!0}),function(d){a?d():b(d)}}}]},rf=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[],this._tick=function(a){var d=c[0];d&&d.hidden?e(a,0,!1):b(a)},this._state=0}return f.chain=function(a,b){var d=0;!function c(){d===a.length?b(!0):a[d](function(a){!1===a?b(!1):(d++,c())})}()},f.all=function(a,b){function c(f){e=e&&f,++d===a.length&&b(e)}var d=0,e=!0;q(a,function(a){a.done(c)})},f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:C,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},catch:function(a){return this.getPromise().catch(a)},finally:function(a){return this.getPromise().finally(a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(q(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}},f}]},of=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){return a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null),h||k.complete(),h=!0}),k}var g=e||{};g.$$prepared||(g=pa(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:f,end:f}}}]},da=N("$compile"),gc=new function(){};Mc.$inject=["$provide","$$sanitizeUriProvider"],Ib.prototype.isFirstChange=function(){return this.previousValue===gc};var ed=/^((?:x|data)[:\-_])/i,qg=N("$controller"),kd=/^(\S+)(\s+as\s+([\w$]+))?$/,yf=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof E&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},ld="application/json",jc={"Content-Type":ld+";charset=utf-8"},sg=/^\[|^\{(?!\{)/,tg={"[":/]$/,"{":/}$/},rg=/^\)\]\}',?\n/,$g=N("$http"),pd=function(a){return function(){throw $g("legacy",a)}},Ka=ga.$interpolateMinErr=N("$interpolate");Ka.throwNoconcat=function(a){throw Ka("noconcat",a)},Ka.interr=function(a,b){return Ka("interr",a,b.toString())};var Gf=function(){this.$get=["$window",function(a){var d=a.angular.callbacks,c={};return{createCallback:function(a){var f="angular.callbacks."+(a="_"+(d.$$counter++).toString(36)),g=function(a){var b=function(a){b.data=a,b.called=!0};return b.id=a,b}(a);return c[f]=d[a]=g,f},wasCalled:function(a){return c[a].called},getResponse:function(a){return c[a].data},removeCallback:function(a){delete d[c[a].id],delete c[a]}}}]},ah=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,vg={http:80,https:443,ftp:21},lb=N("$location"),wg=/^\s*[\\/]{2,}/,bh={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Jb("$$absUrl"),url:function(a){if(z(a))return this.$$url;var b=ah.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Jb("$$protocol"),host:Jb("$$host"),port:Jb("$$port"),path:ud("$$path",function(a){return"/"===(a=null!==a?a.toString():"").charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(H(a)||Z(a))a=a.toString(),this.$$search=Hc(a);else{if(!I(a))throw lb("isrcharg");q(a=pa(a,{}),function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:z(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:ud("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};q([td,mc,lc],function(a){a.prototype=Object.create(bh),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==lc||!this.$$html5)throw lb("nostate");return this.$$state=z(b)?null:b,this}});var ea=N("$parse"),wd=[].constructor,xd=(!1).constructor,yd=Function.constructor,zd=(0).constructor,Ad={}.constructor,Bd="".constructor,Bg=wd.prototype,Cg=xd.prototype,Lb=yd.prototype,Dg=zd.prototype,Cd=Ad.prototype,Eg=Bd.prototype,yg=Lb.call,zg=Lb.apply,Ag=Lb.bind,Gg=Cd.valueOf,Rb=S();q("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Rb[a]=!0});var ch={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},oc=function(a){this.options=a};oc.prototype={constructor:oc,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;)if('"'===(a=this.text.charAt(this.index))||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Rb[b],e=Rb[d];Rb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){return a=a||1,this.index+a<this.text.length&&this.text.charAt(this.index+a)},isNumber:function(a){return"0"<=a&&a<="9"&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||" "===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&a<="z"||"A"<=a&&a<="Z"||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return 55296<=d&&d<=56319&&56320<=c&&c<=57343?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){throw d=d||this.index,b=u(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d,ea("lexerr",a,b,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=P(this.text.charAt(this.index));if("."===d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"===d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"===a.charAt(a.length-1))a+=d;else{if(!this.isExpOperator(d)||c&&this.isNumber(c)||"e"!==a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);c=c+f;if(e)"u"===f?((e=this.text.substring(this.index+1,this.index+5)).match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=ch[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:c,constant:!0,value:d});d+=f}this.index++}this.throwError("Unterminated quote",b)}};var r=function(a,b){this.lexer=a,this.options=b};r.Program="Program",r.ExpressionStatement="ExpressionStatement",r.AssignmentExpression="AssignmentExpression",r.ConditionalExpression="ConditionalExpression",r.LogicalExpression="LogicalExpression",r.BinaryExpression="BinaryExpression",r.UnaryExpression="UnaryExpression",r.CallExpression="CallExpression",r.MemberExpression="MemberExpression",r.Identifier="Identifier",r.Literal="Literal",r.ArrayExpression="ArrayExpression",r.Property="Property",r.ObjectExpression="ObjectExpression",r.ThisExpression="ThisExpression",r.LocalsExpression="LocalsExpression",r.NGValueParameter="NGValueParameter",r.prototype={ast:function(a){return this.text=a,this.tokens=this.lexer.lex(a),a=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:r.Program,body:a}},expressionStatement:function(){return{type:r.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:r.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var b,d,a=this.logicalOR();return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:r.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:r.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:r.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var b,a=this.relational();b=this.expect("==","!=","===","!==");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var b,a=this.additive();b=this.expect("<",">","<=",">=");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var b,a=this.multiplicative();b=this.expect("+","-");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var b,a=this.unary();b=this.expect("*","/","%");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:r.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a,b;for(this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=pa(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:r.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());b=this.expect("(","[",".");)"("===b.text?(a={type:r.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:r.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:r.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:r.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)for(;a.push(this.filterChain()),this.expect(","););return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:r.Identifier,name:a.text}},constant:function(){return{type:r.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:r.ArrayExpression,elements:a}},object:function(){var b,a=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;b={type:r.Property,kind:"init"},this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):this.throwError("invalid key",this.peek()),a.push(b)}while(this.expect(","));return this.consume("}"),{type:r.ObjectExpression,properties:a}},throwError:function(a,b){throw ea("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw ea("ueoe",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw ea("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){var f=(a=this.tokens[a]).text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return!!(a=this.peek(a,b,d,c))&&(this.tokens.shift(),a)},selfReferential:{this:{type:r.ThisExpression},$locals:{type:r.LocalsExpression}}},Id.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},W(c,d.$filter);var f,e="";return this.stage="assign",(f=Gd(c))&&(this.state.computing="assign",e=this.nextId(),this.recurse(f,e),this.return_(e),e="fn.assign="+this.generateFunction("assign","s,v,l")),f=Ed(c.body),d.stage="inputs",q(f,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}},d.state.computing=c;var e=d.nextId();d.recurse(a,e),d.return_(e),d.state.inputs.push(c),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(c),e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+e+this.watchFns()+"return fn;",e=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",e)(this.$filter,Ta,qa,vd,xg,Kb,Fg,Dd,a),this.state=this.stage=void 0,e.literal=Hd(c),e.constant=c.constant,e},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;return q(b,function(b){a.push("var "+b+"="+d.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return q(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,h,l,m,n,k=this;if(c=c||C,!f&&u(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case r.Program:q(a.body,function(b,c){k.recurse(b.expression,void 0,void 0,function(a){h=a}),c!==a.body.length-1?k.current().body.push(h,";"):k.return_(h)});break;case r.Literal:m=this.escape(a.value),this.assign(b,m),c(m);break;case r.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){h=a}),m=a.operator+"("+this.ifDefined(h,0)+")",this.assign(b,m),c(m);break;case r.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){g=a}),this.recurse(a.right,void 0,void 0,function(a){h=a}),m="+"===a.operator?this.plus(g,h):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(h,0):"("+g+")"+a.operator+"("+h+")",this.assign(b,m),c(m);break;case r.LogicalExpression:b=b||this.nextId(),k.recurse(a.left,b),k.if_("&&"===a.operator?b:k.not(b),k.lazyRecurse(a.right,b)),c(b);break;case r.ConditionalExpression:b=b||this.nextId(),k.recurse(a.test,b),k.if_(b,k.lazyRecurse(a.alternate,b),k.lazyRecurse(a.consequent,b)),c(b);break;case r.Identifier:b=b||this.nextId(),d&&(d.context="inputs"===k.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),Ta(a.name),k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){e&&1!==e&&k.if_(k.not(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}")),k.assign(b,k.nonComputedMember("s",a.name))})},b&&k.lazyAssign(b,k.nonComputedMember("l",a.name))),(k.state.expensiveChecks||Mb(a.name))&&k.addEnsureSafeObject(b),c(b);break;case r.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),k.recurse(a.object,g,void 0,function(){k.if_(k.notNull(g),function(){e&&1!==e&&k.addEnsureSafeAssignContext(g),a.computed?(h=k.nextId(),k.recurse(a.property,h),k.getStringValue(h),k.addEnsureSafeMemberName(h),e&&1!==e&&k.if_(k.not(k.computedMember(g,h)),k.lazyAssign(k.computedMember(g,h),"{}")),m=k.ensureSafeObject(k.computedMember(g,h)),k.assign(b,m),d&&(d.computed=!0,d.name=h)):(Ta(a.property.name),e&&1!==e&&k.if_(k.not(k.nonComputedMember(g,a.property.name)),k.lazyAssign(k.nonComputedMember(g,a.property.name),"{}")),m=k.nonComputedMember(g,a.property.name),(k.state.expensiveChecks||Mb(a.property.name))&&(m=k.ensureSafeObject(m)),k.assign(b,m),d&&(d.computed=!1,d.name=a.property.name))},function(){k.assign(b,"undefined")}),c(b)},!!e);break;case r.CallExpression:b=b||this.nextId(),a.filter?(h=k.filter(a.callee.name),l=[],q(a.arguments,function(a){var b=k.nextId();k.recurse(a,b),l.push(b)}),m=h+"("+l.join(",")+")",k.assign(b,m),c(b)):(h=k.nextId(),g={},l=[],k.recurse(a.callee,h,g,function(){k.if_(k.notNull(h),function(){k.addEnsureSafeFunction(h),q(a.arguments,function(a){k.recurse(a,k.nextId(),void 0,function(a){l.push(k.ensureSafeObject(a))})}),m=g.name?(k.state.expensiveChecks||k.addEnsureSafeObject(g.context),k.member(g.context,g.name,g.computed)+"("+l.join(",")+")"):h+"("+l.join(",")+")",m=k.ensureSafeObject(m),k.assign(b,m)},function(){k.assign(b,"undefined")}),c(b)}));break;case r.AssignmentExpression:if(h=this.nextId(),g={},!Fd(a.left))throw ea("lval");this.recurse(a.left,void 0,g,function(){k.if_(k.notNull(g.context),function(){k.recurse(a.right,h),k.addEnsureSafeObject(k.member(g.context,g.name,g.computed)),k.addEnsureSafeAssignContext(g.context),m=k.member(g.context,g.name,g.computed)+a.operator+h,k.assign(b,m),c(b||m)})},1);break;case r.ArrayExpression:l=[],q(a.elements,function(a){k.recurse(a,k.nextId(),void 0,function(a){l.push(a)})}),m="["+l.join(",")+"]",this.assign(b,m),c(m);break;case r.ObjectExpression:n=!(l=[]),q(a.properties,function(a){a.computed&&(n=!0)}),n?(b=b||this.nextId(),this.assign(b,"{}"),q(a.properties,function(a){a.computed?(g=k.nextId(),k.recurse(a.key,g)):g=a.key.type===r.Identifier?a.key.name:""+a.key.value,h=k.nextId(),k.recurse(a.value,h),k.assign(k.member(b,g,a.computed),h)})):(q(a.properties,function(b){k.recurse(b.value,a.constant?void 0:k.nextId(),void 0,function(a){l.push(k.escape(b.key.type===r.Identifier?b.key.name:""+b.key.value)+":"+a)})}),m="{"+l.join(",")+"}",this.assign(b,m)),c(b||m);break;case r.ThisExpression:this.assign(b,"s"),c("s");break;case r.LocalsExpression:this.assign(b,"l"),c("l");break;case r.NGValueParameter:this.assign(b,"v"),c("v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;return c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){"),b(),c.push("}"),d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?a+"."+b:a+'["'+b.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(H(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(Z(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if(void 0===a)return"undefined";throw ea("esc")},nextId:function(a,b){var d="v"+this.state.nextId++;return a||this.current().vars.push(d+(b?"="+b:"")),d},current:function(){return this.state[this.state.computing]}},Jd.prototype={compile:function(a,b){var e,f,g,d=this,c=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,W(c,d.$filter),(e=Gd(c))&&(f=this.recurse(e)),(e=Ed(c.body))&&(g=[],q(e,function(a,b){var c=d.recurse(a);a.input=c,g.push(c),a.watchId=b}));var h=[];return q(c.body,function(a){h.push(d.recurse(a.expression))}),e=0===c.body.length?C:1===c.body.length?h[0]:function(a,b){var c;return q(h,function(d){c=d(a,b)}),c},f&&(e.assign=function(a,b,c){return f(a,c,b)}),g&&(e.inputs=g),e.literal=Hd(c),e.constant=c.constant,e},recurse:function(a,b,d){var c,e,g,f=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case r.Literal:return this.value(a.value,b);case r.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case r.BinaryExpression:case r.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case r.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case r.Identifier:return Ta(a.name,f.expression),f.identifier(a.name,f.expensiveChecks||Mb(a.name),b,d,f.expression);case r.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(Ta(a.property.name,f.expression),e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d,f.expression):this.nonComputedMember(c,e,f.expensiveChecks,b,d,f.expression);case r.CallExpression:return g=[],q(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var n=[],p=0;p<g.length;++p)n.push(g[p](a,c,d,f));return a=e.apply(void 0,n,f),b?{context:void 0,name:void 0,value:a}:a}:function(a,c,d,m){var p,n=e(a,c,d,m);if(null!=n.value){qa(n.context,f.expression),vd(n.value,f.expression),p=[];for(var q=0;q<g.length;++q)p.push(qa(g[q](a,c,d,m),f.expression));p=qa(n.value.apply(n.context,p),f.expression)}return b?{value:p}:p};case r.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,g,m){var n=c(a,d,g,m);return a=e(a,d,g,m),qa(n.value,f.expression),Kb(n.context),n.context[n.name]=a,b?{value:a}:a};case r.ArrayExpression:return g=[],q(a.elements,function(a){g.push(f.recurse(a))}),function(a,c,d,e){for(var f=[],p=0;p<g.length;++p)f.push(g[p](a,c,d,e));return b?{value:f}:f};case r.ObjectExpression:return g=[],q(a.properties,function(a){a.computed?g.push({key:f.recurse(a.key),computed:!0,value:f.recurse(a.value)}):g.push({key:a.key.type===r.Identifier?a.key.name:""+a.key.value,computed:!1,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},p=0;p<g.length;++p)g[p].computed?f[g[p].key(a,c,d,e)]=g[p].value(a,c,d,e):f[g[p].key]=g[p].value(a,c,d,e);return b?{value:f}:f};case r.ThisExpression:return function(a){return b?{value:a}:a};case r.LocalsExpression:return function(a,c){return b?{value:c}:c};case r.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){return d=u(d=a(d,c,e,f))?+d:0,b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){return d=u(d=a(d,c,e,f))?-d:0,b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){return d=!a(d,c,e,f),b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);return h=Dd(h,c=b(c,e,f,g)),d?{value:h}:h}},"binary-":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);return c=b(c,e,f,g),h=(u(h)?h:0)-(u(c)?c:0),d?{value:h}:h}},"binary*":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)*b(c,e,f,g),d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)/b(c,e,f,g),d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)%b(c,e,f,g),d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)===b(c,e,f,g),d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)!==b(c,e,f,g),d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)==b(c,e,f,g),d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)!=b(c,e,f,g),d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)<b(c,e,f,g),d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)>b(c,e,f,g),d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)<=b(c,e,f,g),d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)>=b(c,e,f,g),d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)&&b(c,e,f,g),d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){return c=a(c,e,f,g)||b(c,e,f,g),d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,h){return e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h),c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d,c,e){return function(f,g,h,k){return f=g&&a in g?g:f,c&&1!==c&&f&&!f[a]&&(f[a]={}),g=f?f[a]:void 0,b&&qa(g,e),d?{context:f,name:a,value:g}:g}},computedMember:function(a,b,d,c,e){return function(f,g,h,k){var m,n,l=a(f,g,h,k);return null!=l&&(m=b(f,g,h,k),Ta(m+="",e),c&&1!==c&&(Kb(l),l&&!l[m]&&(l[m]={})),qa(n=l[m],e)),d?{context:l,name:m,value:n}:n}},nonComputedMember:function(a,b,d,c,e,f){return function(g,h,k,l){return g=a(g,h,k,l),e&&1!==e&&(Kb(g),g&&!g[b]&&(g[b]={})),h=null!=g?g[b]:void 0,(d||Mb(b))&&qa(h,f),c?{context:g,name:b,value:h}:h}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};var pc=function(a,b,d){this.lexer=a,this.$filter=b,this.options=d,this.ast=new r(a,d),this.astCompiler=d.csp?new Jd(this.ast,b):new Id(this.ast,b)};pc.prototype={constructor:pc,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var fa=N("$sce"),la={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ig=N("$compile"),V=B.document.createElement("a"),Nd=Ca(B.location.href);Od.$inject=["$document"],Tc.$inject=["$provide"];var Vd=22,Ud=".",rc="0";Pd.$inject=["$locale"];var Tg={yyyy:Y("FullYear",4,0,!(Rd.$inject=["$locale"]),!0),yy:Y("FullYear",2,0,!0,!0),y:Y("FullYear",1,0,!1,!0),MMMM:nb("Month"),MMM:nb("Month",!0),MM:Y("Month",2,1),M:Y("Month",1,1),LLLL:nb("Month",!1,!0),dd:Y("Date",2),d:Y("Date",1),HH:Y("Hours",2),H:Y("Hours",1),hh:Y("Hours",2,-12),h:Y("Hours",1,-12),mm:Y("Minutes",2),m:Y("Minutes",1),ss:Y("Seconds",2),s:Y("Seconds",1),sss:Y("Milliseconds",3),EEEE:nb("Day"),EEE:nb("Day",!0),a:function(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){return(0<=(a=-1*d)?"+":"")+(Nb(Math[0<a?"floor":"ceil"](a/60),2)+Nb(Math.abs(a%60),2))},ww:Xd(2),w:Xd(1),G:sc,GG:sc,GGG:sc,GGGG:function(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}},Sg=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Rg=/^\-?\d+$/;Qd.$inject=["$locale"];var Mg=ma(P),Ng=ma(xb);Sd.$inject=["$parse"];var Ee=ma({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===na.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),yb={};q(Hb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!==a){var c=Ba("ng-"+b),e=d;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,0,e)}),yb[c]=function(){return{restrict:"A",priority:100,link:e}}}}),q(jd,function(a,b){yb[b]=function(){return{priority:100,link:function(a,c,e){"ngPattern"===b&&"/"===e.ngPattern.charAt(0)&&(c=e.ngPattern.match(Wg))?e.$set("ngPattern",new RegExp(c[1],c[2])):a.$watch(e[b],function(a){e.$set(b,a)})}}}}),q(["src","srcset","href"],function(a){var b=Ba("ng-"+a);yb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===na.call(c.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){b?(e.$set(g,b),Fa&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Ob={$addControl:C,$$renameControl:function(a,b){a.$name=b},$removeControl:C,$setValidity:C,$setDirty:C,$setPristine:C,$setSubmitted:C};Yd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ge=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||C}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Yd,compile:function(d,f){d.addClass(Va).addClass(rb);var g=f.name?"name":!(!a||!f.ngForm)&&"ngForm";return{pre:function(a,d,e,f){var n=f[0];if(!("action"in e)){var p=function(b){a.$apply(function(){n.$commitViewValue(),n.$setSubmitted()}),b.preventDefault()};d[0].addEventListener("submit",p,!1),d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",p,!1)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var q=g?c(n.$name):C;g&&(q(a,n),e.$observe(g,function(b){n.$name!==b&&(q(a,void 0),n.$$parentForm.$$renameControl(n,b),(q=c(n.$name))(a,n))})),d.on("$destroy",function(){n.$$parentForm.$removeControl(n),q(a,void 0),R(n,Ob)})}}}}}]},Fe=ge(),Re=ge(!0),Ug=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,dh=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,eh=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Vg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,he=/^(\d{4,})-(\d{2})-(\d{2})$/,ie=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,yc=/^(\d{4,})-W(\d\d)$/,je=/^(\d{4,})-(\d\d)$/,ke=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,$d=S();q(["date","datetime-local","month","time","week"],function(a){$d[a]=!0});var le={text:function(a,b,d,c,e,f){Wa(0,b,d,c,e,f),uc(c)},date:ob("date",he,Qb(he,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ob("datetimelocal",ie,Qb(ie,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:ob("time",ke,Qb(ke,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ob("week",yc,function(a,b){if(ba(a))return a;if(H(a)){yc.lastIndex=0;var d=yc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,h=0,k=Wd(c);e=7*(e-1);return b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds()),new Date(c,0,k.getDate()+e,d,f,g,h)}}return NaN},"yyyy-Www"),month:ob("month",je,Qb(je,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){var g,h;vc(0,b,0,c),Wa(0,b,d,c,e,f),ae(c),(u(d.min)||d.ngMin)&&(c.$validators.min=function(a){return c.$isEmpty(a)||z(g)||g<=a},d.$observe("min",function(a){g=qb(a),c.$validate()})),(u(d.max)||d.ngMax)&&(c.$validators.max=function(a){return c.$isEmpty(a)||z(h)||a<=h},d.$observe("max",function(a){h=qb(a),c.$validate()}))},url:function(a,b,d,c,e,f){Wa(0,b,d,c,e,f),uc(c),c.$$parserName="url",c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||dh.test(d)}},email:function(a,b,d,c,e,f){Wa(0,b,d,c,e,f),uc(c),c.$$parserName="email",c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||eh.test(d)}},radio:function(a,b,d,c){z(d.name)&&b.attr("name",++sb),b.on("click",function(a){b[0].checked&&c.$setViewValue(d.value,a&&a.type)}),c.$render=function(){b[0].checked=d.value===c.$viewValue},d.$observe("value",c.$render)},range:function(a,b,d,c,e,f){function g(a,c){b.attr(a,d[a]),d.$observe(a,c)}vc(0,b,0,c),ae(c),Wa(0,b,d,c,e,f);var m=c.$$hasNativeValidators&&"range"===b[0].type,n=m?0:void 0,p=m?100:void 0,q=m?1:void 0,r=b[0].validity;a=u(d.min),e=u(d.max),f=u(d.step);var t=c.$render;c.$render=m&&u(r.rangeUnderflow)&&u(r.rangeOverflow)?function(){t(),c.$setViewValue(b.val())}:t,a&&(c.$validators.min=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||z(n)||n<=b},g("min",function(a){n=qb(a),X(c.$modelValue)||(m?((a=b.val())<n&&(a=n,b.val(a)),c.$setViewValue(a)):c.$validate())})),e&&(c.$validators.max=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||z(p)||b<=p},g("max",function(a){p=qb(a),X(c.$modelValue)||(m?(a=b.val(),p<a&&(b.val(p),a=p<n?n:p),c.$setViewValue(a)):c.$validate())})),f&&(c.$validators.step=m?function(){return!r.stepMismatch}:function(a,b){var d;if(!(d=c.$isEmpty(b)||z(q))){d=n||0;var e=q;if((0|(f=Number(b)))!==f||(0|d)!==d||(0|e)!==e){var g=Math.max(wc(f),wc(d),wc(e)),f=f*(g=Math.pow(10,g));d*=g,e*=g}d=0==(f-d)%e}return d},g("step",function(a){q=qb(a),X(c.$modelValue)||(m&&c.$viewValue!==b.val()?c.$setViewValue(b.val()):c.$validate())}))},checkbox:function(a,b,d,c,e,f,g,h){var k=be(h,a,"ngTrueValue",d.ngTrueValue,!0),l=be(h,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)}),c.$render=function(){b[0].checked=c.$viewValue},c.$isEmpty=function(a){return!1===a},c.$formatters.push(function(a){return oa(a,k)}),c.$parsers.push(function(a){return a?k:l})},hidden:C,button:C,submit:C,reset:C,file:C},Nc=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){if(h[0]){var k=P(g.type);"range"!==k||g.hasOwnProperty("ngInputRange")||(k="text"),(le[k]||le.text)(e,f,g,h[0],b,a,d,c)}}}}}],fh=/^(true|false|\d+)$/,jf=function(){return{restrict:"A",priority:100,compile:function(a,b){return fh.test(b.ngValue)?function(a,b,e){e.$set("value",a.$eval(e.ngValue))}:function(a,b,e){a.$watch(e.ngValue,function(a){e.$set("value",a)})}}}},Je=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,e){a.$$addBindingInfo(c,e.ngBind),c=c[0],b.$watch(e.ngBind,function(a){c.textContent=z(a)?"":a})}}}}],Le=["$interpolate","$compile",function(a,b){return{compile:function(d){return b.$$addBindingClass(d),function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate)),b.$$addBindingInfo(d,c.expressions),d=d[0],f.$observe("ngBindTemplate",function(a){d.textContent=z(a)?"":a})}}}}],Ke=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});return d.$$addBindingClass(c),function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml),b.$watch(g,function(){var d=f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],hf=ma({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),Me=xc("",!0),Oe=xc("Odd",0),Ne=xc("Even",1),Pe=Ua({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),Qe=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Sc={},gh={blur:!0,focus:!0};q("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Ba("ng-"+a);Sc[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b],null,!0);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};gh[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Te=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var h,k,l;d.$watch(e.ngIf,function(d){d?k||g(function(d,f){k=f,d[d.length++]=b.$$createComment("end ngIf",e.ngIf),h={clone:d},a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),k&&(k.$destroy(),k=null),h&&(l=wb(h.clone),a.leave(l).then(function(){l=null}),h=null))})}}}],Ue=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ga.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(c,e,m,n,p){var r,t,s,q=0,D=function(){t&&(t.remove(),t=null),r&&(r.$destroy(),r=null),s&&(d.leave(s).then(function(){t=null}),t=s,s=null)};c.$watch(f,function(f){var m=function(){!u(h)||h&&!c.$eval(h)||b()},w=++q;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&w===q){var b=c.$new();n.template=a,a=p(b,function(a){D(),d.enter(a,null,e).then(m)}),s=a,(r=b).$emit("$includeContentLoaded",f),c.$eval(g)}},function(){c.$$destroyed||w!==q||(D(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(D(),n.template=null)})}}}}],lf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,d,c,e){na.call(d[0]).match(/SVG/)?(d.empty(),a(Vc(e.template,B.document).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],Ve=Ua({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),gf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=b.attr(d.$attr.ngList)||", ",f="false"!==d.ngTrim,g=f?U(e):e;c.$parsers.push(function(a){if(!z(a)){var b=[];return a&&q(a.split(g),function(a){a&&b.push(f?U(a):a)}),b}}),c.$formatters.push(function(a){if(K(a))return a.join(e)}),c.$isEmpty=function(a){return!a||!a.length}}}},rb="ng-valid",ce="ng-invalid",Va="ng-pristine",Pb="ng-dirty",ee="ng-pending",pb=N("ngModel"),hh=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,c,e,f,g,h,k,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(d.name||"",!1)(a),this.$$parentForm=Ob;var t,m=e(d.ngModel),n=m.assign,p=m,r=n,J=null,s=this;this.$$setOptions=function(a){if((s.$options=a)&&a.getterSetter){var b=e(d.ngModel+"()"),f=e(d.ngModel+"($$$p)");p=function(a){var c=m(a);return F(c)&&(c=b(a)),c},r=function(a,b){F(m(a))?f(a,{$$$p:b}):n(a,b)}}else if(!m.assign)throw pb("nonassign",d.ngModel,wa(c))},this.$render=C,this.$isEmpty=function(a){return z(a)||""===a||null===a||a!=a},this.$$updateEmptyClasses=function(a){s.$isEmpty(a)?(f.removeClass(c,"ng-not-empty"),f.addClass(c,"ng-empty")):(f.removeClass(c,"ng-empty"),f.addClass(c,"ng-not-empty"))};var D=0;Zd({ctrl:this,$element:c,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:f}),this.$setPristine=function(){s.$dirty=!1,s.$pristine=!0,f.removeClass(c,Pb),f.addClass(c,Va)},this.$setDirty=function(){s.$dirty=!0,s.$pristine=!1,f.removeClass(c,Va),f.addClass(c,Pb),s.$$parentForm.$setDirty()},this.$setUntouched=function(){s.$touched=!1,s.$untouched=!0,f.setClass(c,"ng-untouched","ng-touched")},this.$setTouched=function(){s.$touched=!0,s.$untouched=!1,f.setClass(c,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){g.cancel(J),s.$viewValue=s.$$lastCommittedViewValue,s.$render()},this.$validate=function(){if(!X(s.$modelValue)){var a=s.$$rawModelValue,b=s.$valid,c=s.$modelValue,d=s.$options&&s.$options.allowInvalid;s.$$runValidators(a,s.$$lastCommittedViewValue,function(e){d||b===e||(s.$modelValue=e?a:void 0,s.$modelValue!==c&&s.$$writeModelToScope())})}},this.$$runValidators=function(a,b,c){function f(a,b){h===D&&s.$setValidity(a,b)}function g(a){h===D&&c(a)}var h=++D;!function(){var a=s.$$parserName||"parse";return z(t)?(f(a,null),!0):(t||(q(s.$validators,function(a,b){f(b,null)}),q(s.$asyncValidators,function(a,b){f(b,null)})),f(a,t),t)}()?g(!1):function(){var c=!0;return q(s.$validators,function(d,e){var g=d(a,b);c=c&&g,f(e,g)}),!!c||(q(s.$asyncValidators,function(a,b){f(b,null)}),!1)}()?function(){var c=[],d=!0;q(s.$asyncValidators,function(e,g){var h=e(a,b);if(!h||!F(h.then))throw pb("nopromise",h);f(g,void 0),c.push(h.then(function(){f(g,!0)},function(){f(g,d=!1)}))}),c.length?k.all(c).then(function(){g(d)},C):g(!0)}():g(!1)},this.$commitViewValue=function(){var a=s.$viewValue;g.cancel(J),(s.$$lastCommittedViewValue!==a||""===a&&s.$$hasNativeValidators)&&(s.$$updateEmptyClasses(a),s.$$lastCommittedViewValue=a,s.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var b=s.$$lastCommittedViewValue;if(t=!z(b)||void 0)for(var c=0;c<s.$parsers.length;c++)if(z(b=s.$parsers[c](b))){t=!1;break}X(s.$modelValue)&&(s.$modelValue=p(a));var d=s.$modelValue,e=s.$options&&s.$options.allowInvalid;s.$$rawModelValue=b,e&&(s.$modelValue=b,s.$modelValue!==d&&s.$$writeModelToScope()),s.$$runValidators(b,s.$$lastCommittedViewValue,function(a){e||(s.$modelValue=a?b:void 0,s.$modelValue!==d&&s.$$writeModelToScope())})},this.$$writeModelToScope=function(){r(a,s.$modelValue),q(s.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){s.$viewValue=a,s.$options&&!s.$options.updateOnDefault||s.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c=0,d=s.$options;d&&u(d.debounce)&&(Z(d=d.debounce)?c=d:Z(d[b])?c=d[b]:Z(d.default)&&(c=d.default)),g.cancel(J),c?J=g(function(){s.$commitViewValue()},c):h.$$phase?s.$commitViewValue():a.$apply(function(){s.$commitViewValue()})},a.$watch(function(){var b=p(a);if(b!==s.$modelValue&&(s.$modelValue==s.$modelValue||b==b)){s.$modelValue=s.$$rawModelValue=b,t=void 0;for(var c=s.$formatters,d=c.length,e=b;d--;)e=c[d](e);s.$viewValue!==e&&(s.$$updateEmptyClasses(e),s.$viewValue=s.$$lastCommittedViewValue=e,s.$render(),s.$$runValidators(s.$modelValue,s.$viewValue,C))}return b})}],ff=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:hh,priority:1,compile:function(b){return b.addClass(Va).addClass("ng-untouched").addClass(rb),{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm,g.$$setOptions(f[2]&&f[2].$options),b.$addControl(g),e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)}),a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){var g=f[0];g.$options&&g.$options.updateOn&&c.on(g.$options.updateOn,function(a){g.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(){g.$touched||(a.$$phase?b.$evalAsync(g.$setTouched):b.$apply(g.$setTouched))})}}}}}],ih=/(\s+|^)default(\s+|$)/,kf=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=pa(a.$eval(b.ngModelOptions)),u(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=U(this.$options.updateOn.replace(ih,function(){return d.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},We=Ua({terminal:!0,priority:1e3}),jh=N("ngOptions"),kh=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,df=["$compile","$document","$parse",function(a,b,d){function c(a,b,c){function e(a,b,c,d,f){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=f}function f(a){var b;if(!q&&ra(a))b=a;else for(var c in b=[],a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c);return b}var n=a.match(kh);if(!n)throw jh("iexp",a,wa(b));var p=n[5]||n[7],q=n[6];a=/ as /.test(n[0])&&n[1];var r=n[9];b=d(n[2]?n[1]:p);var t=a&&d(a)||b,s=r&&d(r),u=r?function(a,b){return s(c,b)}:function(a){return za(a)},y=function(a,b){return u(a,A(a,b))},z=d(n[2]||n[1]),w=d(n[3]||""),C=d(n[4]||""),F=d(n[8]),B={},A=q?function(a,b){return B[q]=b,B[p]=a,B}:function(a){return B[p]=a,B};return{trackBy:r,getTrackByValue:y,getWatchables:d(F,function(a){for(var b=[],d=f(a=a||[]),e=d.length,g=0;g<e;g++){var l=a[h=a===d?g:d[g]],h=A(l,h);l=u(l,h);b.push(l),(n[2]||n[1])&&(l=z(c,h),b.push(l)),n[4]&&(h=C(c,h),b.push(h))}return b}),getOptions:function(){for(var a=[],b={},d=F(c)||[],g=f(d),h=g.length,n=0;n<h;n++){var p=d===g?n:g[n],q=A(d[p],p),s=t(c,q);s=new e(p=u(s,q),s,z(c,q),w(c,q),q=C(c,q));a.push(s),b[p]=s}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[y(a)]},getViewValueFromOption:function(a){return r?ga.copy(a.viewValue):a.viewValue}}}}}var e=B.document.createElement("option"),f=B.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=C},post:function(d,h,k,l){function n(){var a=w&&p.readValue();if(w)for(var b=w.items.length-1;0<=b;b--){var c=w.items[b];u(c.group)?Gb(c.element.parentNode):Gb(c.element)}w=B.getOptions();var d={};y&&h.prepend(t),w.items.forEach(function(a){var b;if(u(a.group)){(b=d[a.group])||(b=f.cloneNode(!1),F.appendChild(b),b.label=null===a.group?"null":a.group,d[a.group]=b);var c=e.cloneNode(!1)}else b=F,c=e.cloneNode(!1);b.appendChild(c),function(a,b){(a.element=b).disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),a.value!==b.value&&(b.value=a.selectValue)}(a,c)}),h[0].appendChild(F),r.$render(),r.$isEmpty(a)||(b=p.readValue(),(B.trackBy||z?oa(a,b):a===b)||(r.$setViewValue(b),r.$render()))}var t,p=l[0],r=l[1],z=k.multiple;l=0;for(var s=h.children(),D=s.length;l<D;l++)if(""===s[l].value){t=s.eq(l);break}var y=!!t,C=E(e.cloneNode(!1));C.val("?");var w,B=c(k.ngOptions,h,d),F=b[0].createDocumentFragment(),H=function(){y?t.removeAttr("selected"):t.remove()};z?(r.$isEmpty=function(a){return!a||0===a.length},p.writeValue=function(a){w.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){(a=w.getOptionFromViewValue(a))&&(a.element.selected=!0)})},p.readValue=function(){var a=h.val()||[],b=[];return q(a,function(a){(a=w.selectValueMap[a])&&!a.disabled&&b.push(w.getViewValueFromOption(a))}),b},B.trackBy&&d.$watchCollection(function(){if(K(r.$viewValue))return r.$viewValue.map(function(a){return B.getTrackByValue(a)})},function(){r.$render()})):(p.writeValue=function(a){var b=w.selectValueMap[h.val()],c=w.getOptionFromViewValue(a);b&&b.element.removeAttribute("selected"),c?(h[0].value!==c.selectValue&&(C.remove(),H(),h[0].value=c.selectValue,c.element.selected=!0),c.element.setAttribute("selected","selected")):null===a||y?(C.remove(),y||h.prepend(t),h.val(""),t.prop("selected",!0),t.attr("selected",!0)):(H(),h.prepend(C),h.val("?"),C.prop("selected",!0),C.attr("selected",!0))},p.readValue=function(){var a=w.selectValueMap[h.val()];return a&&!a.disabled?(H(),C.remove(),w.getViewValueFromOption(a)):null},B.trackBy&&d.$watch(function(){return B.getTrackByValue(r.$viewValue)},function(){r.$render()})),y?(t.remove(),a(t)(d),t.removeClass("ng-scope")):t=E(e.cloneNode(!1)),h.empty(),n(),d.$watchCollection(B.getWatchables,n)}}}}],Xe=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||"")}var y,l=h.count,m=h.$attr.when&&g.attr(h.$attr.when),n=h.offset||0,p=f.$eval(m)||{},r={},u=b.startSymbol(),t=b.endSymbol(),s=u+l+"-"+n+t,D=ga.noop;q(h,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+P(c[2]),p[c]=g.attr(h.$attr[b]))}),q(p,function(a,d){r[d]=b(a.replace(c,s))}),f.$watch(l,function(b){var c=parseFloat(b),e=X(c);e||c in p||(c=a.pluralCat(c-n)),c===y||e&&X(y)||(D(),z(e=r[c])?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),D=C,k()):D=f.$watch(e,k),y=c)})}}}],Ye=["$parse","$animate","$compile",function(a,b,d){var c=N("ngRepeat"),e=function(a,b,c,d,e,m,n){a[c]=d,e&&(a[e]=m),a.$index=b,a.$first=0===b,a.$last=b===n-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0==(1&b))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,k=d.$$createComment("end ngRepeat",h);if(!(l=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw c("iexp",h);var l,m=l[1],n=l[2],p=l[3],r=l[4];if(!(l=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw c("iidexp",m);var u=l[3]||l[1],t=l[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw c("badident",p);var s,z,y,C,w={$id:za};return r?s=a(r):(y=function(a,b){return za(b)},C=function(a){return a}),function(a,d,f,g,l){s&&(z=function(b,c,d){return t&&(w[t]=b),w[u]=c,w.$index=d,s(a,w)});var m=S();a.$watchCollection(n,function(f){var g,n,r,w,B,F,A,H,E,I,s=d[0],x=S();if(p&&(a[p]=f),ra(f))H=f,n=z||y;else for(I in n=z||C,H=[],f)sa.call(f,I)&&"$"!==I.charAt(0)&&H.push(I);for(w=H.length,I=Array(w),g=0;g<w;g++)if(B=f===H?g:H[g],F=f[B],A=n(B,F,g),m[A])E=m[A],delete m[A],x[A]=E,I[g]=E;else{if(x[A])throw q(I,function(a){a&&a.scope&&(m[a.id]=a)}),c("dupes",h,A,F);I[g]={id:A,scope:void 0,clone:void 0},x[A]=!0}for(r in m){if(A=wb((E=m[r]).clone),b.leave(A),A[0].parentNode)for(g=0,n=A.length;g<n;g++)A[g].$$NG_REMOVED=!0;E.scope.$destroy()}for(g=0;g<w;g++)if(B=f===H?g:H[g],F=f[B],(E=I[g]).scope){for(r=s;(r=r.nextSibling)&&r.$$NG_REMOVED;);E.clone[0]!==r&&b.move(wb(E.clone),null,s),s=E.clone[E.clone.length-1],e(E.scope,g,u,F,t,B,w)}else l(function(a,c){E.scope=c;var d=k.cloneNode(!1);a[a.length++]=d,b.enter(a,null,s),s=d,E.clone=a,x[E.id]=E,e(E.scope,g,u,F,t,B,w)});m=x})}}}}],Ze=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Se=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],$e=Ua(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&q(d,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),af=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g=[],h=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){var d,e;for(d=0,e=k.length;d<e;++d)a.cancel(k[d]);for(d=k.length=0,e=l.length;d<e;++d){var r=wb(h[d].clone);l[d].$destroy(),(k[d]=a.leave(r)).then(m(k,d))}h.length=0,l.length=0,(g=f.cases["!"+c]||f.cases["?"])&&q(g,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen"),h.push({clone:d}),a.enter(d,f.parent(),f)})})})}}}],bf=Ua({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["!"+d.ngSwitchWhen]=c.cases["!"+d.ngSwitchWhen]||[],c.cases["!"+d.ngSwitchWhen].push({transclude:e,element:b})}}),cf=Ua({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[],c.cases["?"].push({transclude:e,element:b})}}),lh=N("ngTransclude"),ef=["$compile",function(a){return{restrict:"EAC",terminal:!0,compile:function(b){var d=a(b.contents());return b.empty(),function(a,b,f,g,h){function k(){d(a,function(a){b.append(a)})}if(!h)throw lh("orphan",wa(b));f.ngTransclude===f.$attr.ngTransclude&&(f.ngTransclude=""),h(function(a,c){a.length?b.append(a):(k(),c.$destroy())},null,f=f.ngTransclude||f.ngTranscludeSlot),f&&!h.isSlotFilled(f)&&k()}}}}],Ge=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"===d.type&&a.put(d.id,b[0].text)}}}],mh={$setViewValue:C,$render:C},nh=["$element","$scope",function(a,b){var d=this,c=new Ra;d.ngModelCtrl=mh,d.unknownOption=E(B.document.createElement("option")),d.renderUnknownOption=function(b){b="? "+za(b)+" ?",d.unknownOption.val(b),a.prepend(d.unknownOption),a.val(b)},b.$on("$destroy",function(){d.renderUnknownOption=C}),d.removeUnknownOption=function(){d.unknownOption.parent()&&d.unknownOption.remove()},d.readValue=function(){return d.removeUnknownOption(),a.val()},d.writeValue=function(b){d.hasOption(b)?(d.removeUnknownOption(),a.val(b),""===b&&d.emptyOption.prop("selected",!0)):null==b&&d.emptyOption?(d.removeUnknownOption(),a.val("")):d.renderUnknownOption(b)},d.addOption=function(a,b){if(8!==b[0].nodeType){Qa(a,'"option value"'),""===a&&(d.emptyOption=b);var g=c.get(a)||0;c.put(a,g+1),d.ngModelCtrl.$render(),b[0].hasAttribute("selected")&&(b[0].selected=!0)}},d.removeOption=function(a){var b=c.get(a);b&&(1===b?(c.remove(a),""===a&&(d.emptyOption=void 0)):c.put(a,b-1))},d.hasOption=function(a){return!!c.get(a)},d.registerOption=function(a,b,c,h,k){var l;h?c.$observe("value",function(a){u(l)&&d.removeOption(l),l=a,d.addOption(a,b)}):k?a.$watch(k,function(a,e){c.$set("value",a),e!==a&&d.removeOption(e),d.addOption(a,b)}):d.addOption(c.value,b);b.on("$destroy",function(){d.removeOption(c.value),d.ngModelCtrl.$render()})}}],He=function(){return{restrict:"E",require:["select","?ngModel"],controller:nh,priority:1,link:{pre:function(a,b,d,c){var e=c[1];if(e){var f=c[0];if(f.ngModelCtrl=e,b.on("change",function(){a.$apply(function(){e.$setViewValue(f.readValue())})}),d.multiple){f.readValue=function(){var a=[];return q(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},f.writeValue=function(a){var c=new Ra(a);q(b.find("option"),function(a){a.selected=u(c.get(a.value))})};var g,h=NaN;a.$watch(function(){h!==e.$viewValue||oa(g,e.$viewValue)||(g=ia(e.$viewValue),e.$render()),h=e.$viewValue}),e.$isEmpty=function(a){return!a||0===a.length}}}},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},Ie=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){if(u(d.value))var c=a(d.value,!0);else{var e=a(b.text(),!0);e||d.$set("value",b.text())}return function(a,b,d){var k=b.parent();(k=k.data("$selectController")||k.parent().data("$selectController"))&&k.registerOption(a,b,d,c,e)}}}}],Pc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},Oc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){if(H(a)&&0<a.length&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw N("ngPattern")("noregexp",f,a,wa(b));e=a||void 0,c.$validate()}),c.$validators.pattern=function(a,b){return c.$isEmpty(b)||z(e)||e.test(b)}}}}},Rc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=aa(a),e=X(a)?-1:a,c.$validate()}),c.$validators.maxlength=function(a,b){return e<0||c.$isEmpty(b)||b.length<=e}}}}},Qc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=aa(a)||0,c.$validate()}),c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};B.angular.bootstrap?B.console&&console.log("WARNING: Tried to load angular more than once."):(function(){var a;if(!Kc){var b=ub();(xa=z(b)?B.jQuery:b?B[b]:void 0)&&xa.fn.on?(R((E=xa).fn,{scope:Oa.scope,isolateScope:Oa.isolateScope,controller:Oa.controller,injector:Oa.injector,inheritedData:Oa.inheritedData}),a=xa.cleanData,xa.cleanData=function(b){for(var c,f,e=0;null!=(f=b[e]);e++)(c=xa._data(f,"events"))&&c.$destroy&&xa(f).triggerHandler("$destroy");a(b)}):E=T,ga.element=E,Kc=!0}}(),R(ga,{bootstrap:Ic,copy:pa,extend:R,merge:ne,equals:oa,element:E,forEach:q,injector:eb,noop:C,bind:cb,toJson:db,fromJson:Ec,identity:Za,isUndefined:z,isDefined:u,isString:H,isFunction:F,isObject:I,isNumber:Z,isElement:Tb,isArray:K,version:Ce,isDate:ba,lowercase:P,uppercase:xb,callbacks:{$$counter:0},getTestability:xe,$$minErr:N,$$csp:ya,reloadWithDebugInfo:we}),(Xb=function(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=N("$injector"),c=N("ng");return(a=b(a,"angular",Object)).$$minErr=a.$$minErr||N,b(a,"module",function(){var a={};return function(f,g,h){if("hasOwnProperty"===f)throw c("badname","module");return g&&a.hasOwnProperty(f)&&(a[f]=null),b(a,f,function(){function a(b,d,e,f){return f||(f=c),function(){return f[e||"push"]([b,d,arguments]),J}}function b(a,d){return function(b,e){return e&&F(e)&&(e.$$moduleName=f),c.push([a,d,arguments]),J}}if(!g)throw d("nomod",f);var c=[],e=[],p=[],x=a("$injector","invoke","push",e),J={_invokeQueue:c,_configBlocks:e,_runBlocks:p,requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:x,run:function(a){return p.push(a),this}};return h&&x(h),J})}})}(B))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:De}),a.provider("$compile",Mc).directive({a:Ee,input:Nc,textarea:Nc,form:Fe,script:Ge,select:He,option:Ie,ngBind:Je,ngBindHtml:Ke,ngBindTemplate:Le,ngClass:Me,ngClassEven:Ne,ngClassOdd:Oe,ngCloak:Pe,ngController:Qe,ngForm:Re,ngHide:Se,ngIf:Te,ngInclude:Ue,ngInit:Ve,ngNonBindable:We,ngPluralize:Xe,ngRepeat:Ye,ngShow:Ze,ngStyle:$e,ngSwitch:af,ngSwitchWhen:bf,ngSwitchDefault:cf,ngOptions:df,ngTransclude:ef,ngModel:ff,ngList:gf,ngChange:hf,pattern:Oc,ngPattern:Oc,required:Pc,ngRequired:Pc,minlength:Qc,ngMinlength:Qc,maxlength:Rc,ngMaxlength:Rc,ngValue:jf,ngModelOptions:kf}).directive({ngInclude:lf}).directive(yb).directive(Sc),a.provider({$anchorScroll:mf,$animate:nf,$animateCss:of,$$animateJs:pf,$$animateQueue:qf,$$AnimateRunner:rf,$$animateAsyncRun:sf,$browser:tf,$cacheFactory:uf,$controller:vf,$document:wf,$exceptionHandler:xf,$filter:Tc,$$forceReflow:yf,$interpolate:zf,$interval:Af,$http:Bf,$httpParamSerializer:Cf,$httpParamSerializerJQLike:Df,$httpBackend:Ef,$xhrFactory:Ff,$jsonpCallbacks:Gf,$location:Hf,$log:If,$parse:Jf,$rootScope:Kf,$q:Lf,$$q:Mf,$sce:Nf,$sceDelegate:Of,$sniffer:Pf,$templateCache:Qf,$templateRequest:Rf,$$testability:Sf,$timeout:Tf,$window:Uf,$$rAF:Vf,$$jqLite:Wf,$$HashMap:Xf,$$cookieReader:Yf})}]),ga.module("ngLocale",[],["$provide",function(a){a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var e=0|a,f=c;return void 0===f&&(f=Math.min(function(a){var b=(a+="").indexOf(".");return-1==b?0:a.length-b-1}(a),3)),Math.pow(10,f),1==e&&0==f?"one":"other"}})}]),E(B.document).ready(function(){ue(B.document,Ic)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(E,d){"use strict";function y(t,l,g){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(b,e,a,c,k){function p(){m&&(g.cancel(m),m=null),h&&(h.$destroy(),h=null),n&&((m=g.leave(n)).then(function(){m=null}),n=null)}function B(){var a=t.current&&t.current.locals;if(d.isDefined(a&&a.$template)){a=b.$new();var c=t.current;n=k(a,function(a){g.enter(a,null,n||e).then(function(){!d.isDefined(A)||A&&!b.$eval(A)||l()}),p()}),(h=c.scope=a).$emit("$viewContentLoaded"),h.$eval(s)}else p()}var h,n,m,A=a.autoscroll,s=a.onload||"";b.$on("$routeChangeSuccess",B),B()}}}function w(d,l,g){return{restrict:"ECA",priority:-400,link:function(b,e){var a=g.current,c=a.locals;e.html(c.$template);var k=d(e.contents());if(a.controller){c.$scope=b;var p=l(a.controller,c);a.controllerAs&&(b[a.controllerAs]=p),e.data("$ngControllerController",p),e.children().data("$ngControllerController",p)}b[a.resolveAs||"$resolve"]=c,k(b)}}}var x,C,s=d.module("ngRoute",["ng"]).provider("$route",function(){function t(b,e){return d.extend(Object.create(b),e)}function l(b,d){var a=d.caseInsensitiveMatch,c={originalPath:b,regexp:b},g=c.keys=[];return b=b.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[\?\*])?/g,function(b,a,d,c){return b="?"===c||"*?"===c?"?":null,c="*"===c||"*?"===c?"*":null,g.push({name:d,optional:!!b}),a=a||"",(b?"":a)+"(?:"+(b?a:"")+(c?"(.+?)":"([^/]+)")+(b||"")+")"+(b||"")}).replace(/([\/$\*])/g,"\\$1"),c.regexp=new RegExp("^"+b+"$",a?"i":""),c}x=d.isArray,C=d.isObject;var g={};this.when=function(b,e){var a;if(a=void 0,x(e)){a=a||[];for(var c=0,k=e.length;c<k;c++)a[c]=e[c]}else if(C(e))for(c in a=a||{},e)"$"===c.charAt(0)&&"$"===c.charAt(1)||(a[c]=e[c]);return a=a||e,d.isUndefined(a.reloadOnSearch)&&(a.reloadOnSearch=!0),d.isUndefined(a.caseInsensitiveMatch)&&(a.caseInsensitiveMatch=this.caseInsensitiveMatch),g[b]=d.extend(a,b&&l(b,a)),b&&(c="/"===b[b.length-1]?b.substr(0,b.length-1):b+"/",g[c]=d.extend({redirectTo:b},l(c,a))),this},this.caseInsensitiveMatch=!1,this.otherwise=function(b){return"string"==typeof b&&(b={redirectTo:b}),this.when(null,b),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(b,e,a,c,k,p,l){function h(a){var f=v.current;(x=(r=function(){var a,b;return d.forEach(g,function(c,g){var q;if(q=!b){var h=e.path();q=c.keys;var l={};if(c.regexp)if(h=c.regexp.exec(h)){for(var k=1,p=h.length;k<p;++k){var m=q[k-1],n=h[k];m&&n&&(l[m.name]=n)}q=l}else q=null;else q=null;q=a=q}q&&((b=t(c,{params:d.extend({},e.search(),a),pathParams:a})).$$route=c)}),b||g.null&&t(g.null,{params:{},pathParams:{}})}())&&f&&r.$$route===f.$$route&&d.equals(r.pathParams,f.pathParams)&&!r.reloadOnSearch&&!z)||!f&&!r||b.$broadcast("$routeChangeStart",r,f).defaultPrevented&&a&&a.preventDefault()}function n(){var u=v.current,f=r;x?(u.params=f.params,d.copy(u.params,a),b.$broadcast("$routeUpdate",u)):(f||u)&&(z=!1,(v.current=f)&&f.redirectTo&&(d.isString(f.redirectTo)?e.path(w(f.redirectTo,f.params)).search(f.params).replace():e.url(f.redirectTo(f.pathParams,e.path(),e.search())).replace()),c.when(f).then(m).then(function(c){f===v.current&&(f&&(f.locals=c,d.copy(f.params,a)),b.$broadcast("$routeChangeSuccess",f,u))},function(a){f===v.current&&b.$broadcast("$routeChangeError",f,u,a)}))}function m(a){if(a){var b=d.extend({},a.resolve);return d.forEach(b,function(a,c){b[c]=d.isString(a)?k.get(a):k.invoke(a,null,null,c)}),a=function(a){var b,c;return d.isDefined(b=a.template)?d.isFunction(b)&&(b=b(a.params)):d.isDefined(c=a.templateUrl)&&(d.isFunction(c)&&(c=c(a.params)),d.isDefined(c)&&(a.loadedTemplateUrl=l.valueOf(c),b=p(c))),b}(a),d.isDefined(a)&&(b.$template=a),c.all(b)}}function w(a,b){var c=[];return d.forEach((a||"").split(":"),function(a,d){if(0===d)c.push(a);else{var e=a.match(/(\w+)(?:[?*])?(.*)/),g=e[1];c.push(b[g]),c.push(e[2]||""),delete b[g]}}),c.join("")}var r,x,z=!1,v={routes:g,reload:function(){var a={defaultPrevented:!(z=!0),preventDefault:function(){this.defaultPrevented=!0,z=!1}};b.$evalAsync(function(){h(a),a.defaultPrevented||n()})},updateParams:function(a){if(!this.current||!this.current.$$route)throw D("norout");a=d.extend({},this.current.params,a),e.path(w(this.current.$$route.originalPath,a)),e.search(a)}};return b.$on("$locationChangeStart",h),b.$on("$locationChangeSuccess",n),v}]}),D=d.$$minErr("ngRoute");s.provider("$routeParams",function(){this.$get=function(){return{}}}),s.directive("ngView",y),s.directive("ngView",w),y.$inject=["$route","$anchorScroll","$animate"],w.$inject=["$compile","$controller","$route"]}(window,window.angular),function(M,f,S){"use strict";f.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(T,B,k){k=k.ngAnimateChildren,f.isString(k)&&0===k.length?B.data("$$ngAnimateChildren",!0):T.$watch(k,function(f){B.data("$$ngAnimateChildren",!!f)})}}).factory("$$animateReflow",["$$rAF","$document",function(f,B){return function(k){return f(function(){k()})}}]).config(["$provide","$animateProvider",function(T,B){function k(f){for(var g=0;g<f.length;g++){var k=f[g];if(1==k.nodeType)return k}}function N(f,g){return k(f)==k(g)}var s=f.noop,g=f.forEach,ba=B.$$selectors,$=f.isArray,ca=f.isString,da=f.isObject,t={running:!0};T.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest",function(O,M,I,U,x,C,P,S,V){function A(a,c){var b=a.data("$$ngAnimateState")||{};return c&&(b.running=!0,b.structural=!0,a.data("$$ngAnimateState",b)),b.disabled||b.running&&b.structural}function z(a){var c,b=M.defer();return b.promise.$$cancelFn=function(){c&&c()},P.$$postDigest(function(){c=a(function(){b.resolve()})}),b.promise}function J(a){if(da(a))return a.tempClasses&&ca(a.tempClasses)&&(a.tempClasses=a.tempClasses.split(/\s+/)),a}function R(a,c,b,e){function m(a,d){var b=a[d],c=a["before"+d.charAt(0).toUpperCase()+d.substr(1)];if(b||c)return"leave"==d&&(c=b,b=null),l.push({event:d,fn:b}),H.push({event:d,fn:c}),!0}function k(c,h,G){var w=[];g(c,function(a){a.fn&&w.push(a)});var f=0;g(w,function(c,n){var u=function(){a:{if(h){if((h[n]||s)(),++f<w.length)break a;h=null}G()}};switch(c.event){case"setClass":h.push(c.fn(a,F,d,u,e));break;case"animate":h.push(c.fn(a,b,e.from,e.to,u));break;case"addClass":h.push(c.fn(a,F||b,u,e));break;case"removeClass":h.push(c.fn(a,d||b,u,e));break;default:h.push(c.fn(a,u,e))}}),h&&0===h.length&&G()}var p=a[0];if(p){var F,d;e&&(e.to=e.to||{},e.from=e.from||{}),$(b)&&(F=b[0],d=b[1],F?d?b=F+" "+d:(b=F,c="addClass"):(b=d,c="removeClass"));var h="setClass"==c,G=h||"addClass"==c||"removeClass"==c||"animate"==c,w=a.attr("class")+" "+b;if(X(w)){var u=s,n=[],H=[],q=s,r=[],l=[];w=(" "+w).replace(/\s+/g,".");return g(function(a){if(a){var c=[],b={};a=a.substr(1).split("."),(U.transitions||U.animations)&&c.push(I.get(ba[""]));for(var e=0;e<a.length;e++){var f=a[e],k=ba[f];k&&!b[f]&&(c.push(I.get(k)),b[f]=!0)}return c}}(w),function(a){!m(a,c)&&h&&(m(a,"addClass"),m(a,"removeClass"))}),{node:p,event:c,className:b,isClassBased:G,isSetClassOperation:h,applyStyles:function(){e&&a.css(f.extend(e.from||{},e.to||{}))},before:function(a){u=a,k(H,n,function(){u=s,a()})},after:function(a){q=a,k(l,r,function(){q=s,a()})},cancel:function(){g(n,function(a){(a||s)(!0)}),u(!0),g(r,function(a){(a||s)(!0)}),q(!0)}}}}}function y(a,c,b,e,m,k,p,F){function d(d){var h="$animate:"+d;H&&H[h]&&0<H[h].length&&C(function(){b.triggerHandler(h,{event:a,className:c})})}function h(){d("before")}function G(){d("after")}function w(){w.hasBeenRun||(w.hasBeenRun=!0,k())}function u(){if(!u.hasBeenRun){n&&n.applyStyles(),u.hasBeenRun=!0,p&&p.tempClasses&&g(p.tempClasses,function(a){b.removeClass(a)});var h=b.data("$$ngAnimateState");h&&(n&&n.isClassBased?l(b,c):(C(function(){var d=b.data("$$ngAnimateState")||{};v==d.index&&l(b,c)}),b.data("$$ngAnimateState",h))),d("close"),F()}}var n=R(b,a,c,p);if(!n)return w(),h(),G(),u(),s;a=n.event,c=n.className;var H=(H=f.element._data(n.node))&&H.events;if(e||(e=m?m.parent():b.parent()),Y(b,e))return w(),h(),G(),u(),s;var q=(e=b.data("$$ngAnimateState")||{}).active||{},r=e.totalActive||0,t=e.last;if(m=!1,0<r){if(r=[],n.isClassBased)"setClass"==t.event?(r.push(t),l(b,c)):q[c]&&((aa=q[c]).event==a?m=!0:(r.push(aa),l(b,c)));else if("leave"==a&&q["ng-leave"])m=!0;else{for(var aa in q)r.push(q[aa]);e={},l(b,!0)}0<r.length&&g(r,function(a){a.cancel()})}if(!n.isClassBased||n.isSetClassOperation||"animate"==a||m||(m="addClass"==a==b.hasClass(c)),m)return w(),h(),G(),d("close"),F(),s;q=e.active||{},r=e.totalActive||0,"leave"==a&&b.one("$destroy",function(a){var d=(a=f.element(this)).data("$$ngAnimateState");d&&(d=d.active["ng-leave"])&&(d.cancel(),l(a,"ng-leave"))}),b.addClass("ng-animate"),p&&p.tempClasses&&g(p.tempClasses,function(a){b.addClass(a)});var v=Z++;return r++,q[c]=n,b.data("$$ngAnimateState",{last:n,active:q,index:v,totalActive:r}),h(),n.before(function(d){var h=b.data("$$ngAnimateState");d=d||!h||!h.active[c]||n.isClassBased&&h.active[c].event!=a,w(),!0===d?u():(G(),n.after(u))}),n.cancel}function K(a){(a=k(a))&&(a=f.isFunction(a.getElementsByClassName)?a.getElementsByClassName("ng-animate"):a.querySelectorAll(".ng-animate"),g(a,function(a){(a=(a=f.element(a)).data("$$ngAnimateState"))&&a.active&&g(a.active,function(a){a.cancel()})}))}function l(a,c){if(N(a,x))t.disabled||(t.running=!1,t.structural=!1);else if(c){var b=a.data("$$ngAnimateState")||{},e=!0===c;!e&&b.active&&b.active[c]&&(b.totalActive--,delete b.active[c]),!e&&b.totalActive||(a.removeClass("ng-animate"),a.removeData("$$ngAnimateState"))}}function Y(a,c){if(t.disabled)return!0;if(N(a,x))return t.running;var b,e,k;do{if(0===c.length)break;var g=N(c,x),p=g?t:c.data("$$ngAnimateState")||{};if(p.disabled)return!0;g&&(k=!0),!1!==b&&(g=c.data("$$ngAnimateChildren"),f.isDefined(g)&&(b=g)),e=e||p.running||p.last&&!p.last.isClassBased}while(c=c.parent());return!k||!b&&e}x.data("$$ngAnimateState",t);var L=P.$watch(function(){return V.totalPendingRequests},function(a,c){0===a&&(L(),P.$$postDigest(function(){P.$$postDigest(function(){t.running=!1})}))}),Z=0,E=B.classNameFilter(),X=E?function(a){return E.test(a)}:function(){return!0};return{animate:function(a,c,b,e,g){return e=e||"ng-inline-animate",(g=J(g)||{}).from=b?c:null,g.to=b||c,z(function(b){return y("animate",e,f.element(k(a)),null,null,s,g,b)})},enter:function(a,c,b,e){return e=J(e),a=f.element(a),c=c&&f.element(c),b=b&&f.element(b),A(a,!0),O.enter(a,c,b),z(function(g){return y("enter","ng-enter",f.element(k(a)),c,b,s,e,g)})},leave:function(a,c){return c=J(c),K(a=f.element(a)),A(a,!0),z(function(b){return y("leave","ng-leave",f.element(k(a)),null,null,function(){O.leave(a)},c,b)})},move:function(a,c,b,e){return e=J(e),a=f.element(a),c=c&&f.element(c),b=b&&f.element(b),K(a),A(a,!0),O.move(a,c,b),z(function(g){return y("move","ng-move",f.element(k(a)),c,b,s,e,g)})},addClass:function(a,c,b){return this.setClass(a,c,[],b)},removeClass:function(a,c,b){return this.setClass(a,[],c,b)},setClass:function(a,c,b,e){if(e=J(e),a=f.element(a),A(a=f.element(k(a))))return O.$$setClassImmediately(a,c,b,e);var m,l=a.data("$$animateClasses"),p=!!l;return l||(l={classes:{}}),m=l.classes,c=$(c)?c:c.split(" "),g(c,function(a){a&&a.length&&(m[a]=!0)}),b=$(b)?b:b.split(" "),g(b,function(a){a&&a.length&&(m[a]=!1)}),p?(e&&l.options&&(l.options=f.extend(l.options||{},e)),l.promise):(a.data("$$animateClasses",l={classes:m,options:e}),l.promise=z(function(b){var d=a.parent(),h=k(a);if((c=h.parentNode)&&!c.$$NG_REMOVED&&!h.$$NG_REMOVED){h=a.data("$$animateClasses"),a.removeData("$$animateClasses");var c=a.data("$$ngAnimateState")||{},e=function(a,c,b){var e={};g(b=b||{},function(a,d){g(d.split(" "),function(d){e[d]=a})});var m=Object.create(null);g((a.attr("class")||"").split(/\s+/),function(a){m[a]=!0});var f=[],k=[];return g(c&&c.classes||[],function(a,d){var b=m[d],c=e[d]||{};!1===a?(b||"addClass"==c.event)&&k.push(d):!0===a&&(b&&"removeClass"!=c.event||f.push(d))}),0<f.length+k.length&&[f.join(" "),k.join(" ")]}(a,h,c.active);return e?y("setClass",e,a,d,null,function(){e[0]&&O.$$addClassImmediately(a,e[0]),e[1]&&O.$$removeClassImmediately(a,e[1])},h.options,b):b()}b()}))},cancel:function(a){a.$$cancelFn()},enabled:function(a,c){switch(arguments.length){case 2:if(a)l(c);else{var b=c.data("$$ngAnimateState")||{};b.disabled=!0,c.data("$$ngAnimateState",b)}break;case 1:t.disabled=!a;break;default:a=!t.disabled}return!!a}}}]),B.register("",["$window","$sniffer","$timeout","$$animateReflow",function(t,B,I,U){function x(){e||(e=U(function(){b=[],e=null,a={}}))}function C(c,d){e&&e(),b.push(d),e=U(function(){g(b,function(a){a()}),b=[],e=null,a={}})}function P(a,d){var h=k(a);a=f.element(h),p.push(a),(h=Date.now()+d)<=N||(I.cancel(m),N=h,m=I(function(){g(p,function(a){(a=a.data("$$ngAnimateCSS3Data"))&&g(a.closeAnimationFns,function(a){a()})}),p=[]},d,!1))}function V(b,d){var h=d?a[d]:null;if(!h){var c=0,e=0,f=0,k=0;g(b,function(a){if(1==a.nodeType){a=t.getComputedStyle(a)||{},c=Math.max(A(a[L+"Duration"]),c),e=Math.max(A(a[L+"Delay"]),e),k=Math.max(A(a[E+"Delay"]),k);var d=A(a[E+"Duration"]);0<d&&(d*=parseInt(a[E+"IterationCount"],10)||1),f=Math.max(d,f)}}),h={total:0,transitionDelay:e,transitionDuration:c,animationDelay:k,animationDuration:f},d&&(a[d]=h)}return h}function A(a){var d=0;return a=ca(a)?a.split(/\s*,\s*/):[],g(a,function(a){d=Math.max(parseFloat(a)||0,d)}),d}function z(b,d,h,e){var f;b=0<=["ng-enter","ng-leave","ng-move"].indexOf(h),(n=(g=d.parent()).data("$$ngAnimateKey"))||(g.data("$$ngAnimateKey",++c),n=c),f=n+"-"+k(d).getAttribute("class");var g,n,l={};0<(n=a[g=f+" "+h]?++a[g].total:0)&&((f=!a[l=f+" "+(q=h+"-stagger")])&&d.addClass(q),l=V(d,l),f&&d.removeClass(q));d.addClass(h);var q=d.data("$$ngAnimateCSS3Data")||{},r=V(d,g);return f=r.transitionDuration,r=r.animationDuration,b&&0===f&&0===r?(d.removeClass(h),!1):(h=e||b&&0<f,b=0<r&&0<l.animationDelay&&0===l.animationDuration,d.data("$$ngAnimateCSS3Data",{stagger:l,cacheKey:g,running:q.running||0,itemIndex:n,blockTransition:h,closeAnimationFns:q.closeAnimationFns||[]}),g=k(d),h&&(W(g,!0),e&&d.css(e)),b&&(g.style[E+"PlayState"]="paused"),!0)}function W(a,d){a.style[L+"Property"]=d?"none":""}function Q(a,d,b,c){if(z(a,d,b,c))return function(a){a&&K(d,b)}}function R(a,d,b,c,e){if(d.data("$$ngAnimateCSS3Data"))return function(a,d,b,c,e){function f(){d.off(C,l),d.removeClass(q),d.removeClass(r),z&&I.cancel(z),K(d,b);var c,a=k(d);for(c in p)a.style.removeProperty(p[c])}function l(a){a.stopPropagation();var d=a.originalEvent||a;a=d.$manualTimeStamp||d.timeStamp||Date.now(),d=parseFloat(d.elapsedTime.toFixed(3)),Math.max(a-B,0)>=A&&x<=d&&c()}var m=k(d);if(a=d.data("$$ngAnimateCSS3Data"),-1!=m.getAttribute("class").indexOf(b)&&a){var q="",r="";g(b.split(" "),function(a,d){var b=(0<d?" ":"")+a;q+=b+"-active",r+=b+"-pending"});var p=[],t=a.itemIndex,v=a.stagger,s=0;if(0<t){(s=0)<v.transitionDelay&&0===v.transitionDuration&&(s=v.transitionDelay*t);var y=0;0<v.animationDelay&&0===v.animationDuration&&(y=v.animationDelay*t,p.push(Y+"animation-play-state")),s=Math.round(100*Math.max(s,y))/100}s||(d.addClass(q),a.blockTransition&&W(m,!1));var D=V(d,a.cacheKey+" "+q),x=Math.max(D.transitionDuration,D.animationDuration);if(0!==x){!s&&e&&(D.transitionDuration||(d.css("transition",D.animationDuration+"s linear all"),p.push("transition")),d.css(e));var A=1e3*(t=Math.max(D.transitionDelay,D.animationDelay));0<p.length&&(";"!==(v=m.getAttribute("style")||"").charAt(v.length-1)&&(v+=";"),m.setAttribute("style",v+" "));var z,B=Date.now(),C=X+" "+Z;return t=1e3*(s+1.5*(t+x)),0<s&&(d.addClass(r),z=I(function(){z=null,0<D.transitionDuration&&W(m,!1),0<D.animationDuration&&(m.style[E+"PlayState"]=""),d.addClass(q),d.removeClass(r),e&&(0===D.transitionDuration&&d.css("transition",D.animationDuration+"s linear all"),d.css(e),p.push("transition"))},1e3*s,!1)),d.on(C,l),a.closeAnimationFns.push(function(){f(),c()}),a.running++,P(d,t),f}d.removeClass(q),K(d,b),c()}else c()}(a,d,b,c,e);K(d,b),c()}function y(a,d,b,c,e){var f=Q(a,d,b,e.from);if(f){var g=f;return C(0,function(){g=R(a,d,b,c,e.to)}),function(a){(g||s)(a)}}x(),c()}function K(a,d){a.removeClass(d);var b=a.data("$$ngAnimateCSS3Data");b&&(b.running&&b.running--,b.running&&0!==b.running||a.removeData("$$ngAnimateCSS3Data"))}function l(a,d){var b="";return a=$(a)?a:a.split(/\s+/),g(a,function(a,c){a&&0<a.length&&(b+=(0<c?" ":"")+a+d)}),b}var L,Z,E,X,Y="";Z=M.ontransitionend===S&&M.onwebkittransitionend!==S?(Y="-webkit-",L="WebkitTransition","webkitTransitionEnd transitionend"):(L="transition","transitionend"),X=M.onanimationend===S&&M.onwebkitanimationend!==S?(Y="-webkit-",E="WebkitAnimation","webkitAnimationEnd animationend"):(E="animation","animationend");var e,a={},c=0,b=[],m=null,N=0,p=[];return{animate:function(a,d,b,c,e,f){return(f=f||{}).from=b,f.to=c,y("animate",a,d,e,f)},enter:function(a,b,c){return y("enter",a,"ng-enter",b,c=c||{})},leave:function(a,b,c){return y("leave",a,"ng-leave",b,c=c||{})},move:function(a,b,c){return y("move",a,"ng-move",b,c=c||{})},beforeSetClass:function(a,b,c,e,f){if(f=f||{},f=Q("setClass",a,b=l(c,"-remove")+" "+l(b,"-add"),f.from))return C(0,e),f;x(),e()},beforeAddClass:function(a,b,c,e){if(e=e||{},b=Q("addClass",a,l(b,"-add"),e.from))return C(0,c),b;x(),c()},beforeRemoveClass:function(a,b,c,e){if(e=e||{},b=Q("removeClass",a,l(b,"-remove"),e.from))return C(0,c),b;x(),c()},setClass:function(a,b,c,e,f){return f=f||{},R("setClass",a,(c=l(c,"-remove"))+" "+(b=l(b,"-add")),e,f.to)},addClass:function(a,b,c,e){return e=e||{},R("addClass",a,l(b,"-add"),c,e.to)},removeClass:function(a,b,c,e){return e=e||{},R("removeClass",a,l(b,"-remove"),c,e.to)}}}])}])}(window,window.angular),function(p,g,q){"use strict";function k(a){var c,d={};for(a=a.split(","),c=0;c<a.length;c++)d[a[c]]=!0;return d}function s(a){if(!a)return"";var d=N.exec(a);a=d[1];var c=d[3];return(d=d[2])&&(r.innerHTML=d.replace(/</g,"&lt;"),d="textContent"in r?r.textContent:r.innerText),a+d+c}function C(a){return a.replace(/&/g,"&amp;").replace(O,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+((a=a.charCodeAt(1))-56320)+65536)+";"}).replace(P,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function t(a,d){var c=!1,e=g.bind(a,a.push);return{start:function(a,m,f){a=g.lowercase(a),!c&&y[a]&&(c=a),c||!0!==D[a]||(e("<"),e(a),g.forEach(m,function(c,f){var l=g.lowercase(f),m="img"===a&&"src"===l||"background"===l;!0!==Q[l]||!0===E[l]&&!d(c,m)||(e(" "),e(f),e('="'),e(C(c)),e('"'))}),e(f?"/>":">"))},end:function(a){a=g.lowercase(a),c||!0!==D[a]||(e("</"),e(a),e(">")),a==c&&(c=!1)},chars:function(a){c||e(C(a))}}}var M=g.$$minErr("$sanitize"),B=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,A=/^<\/\s*([\w:-]+)[^>]*>/,H=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,L=/^</,K=/^<\//,I=/\x3c!--(.*?)--\x3e/g,z=/<!DOCTYPE([^>]*?)>/i,J=/<!\[CDATA\[(.*?)]]\x3e/g,O=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,P=/([^\#-~| |!])/g,x=k("area,br,col,hr,img,wbr");p=k("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),q=k("rp,rt");var w=g.extend({},q,p),u=g.extend({},p,k("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),v=g.extend({},q,k("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));p=k("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var y=k("script,style"),D=g.extend({},x,u,v,w,p),E=k("background,cite,href,longdesc,src,usemap,xlink:href");p=k("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),q=k("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");var Q=g.extend({},E,q,p),r=document.createElement("pre"),N=/^(\s*)([\s\S]*?)(\s*)$/;g.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(a){return function(d){var c=[];return function(a,d){function c(a,b,c,h){if(b=g.lowercase(b),u[b])for(;f.last()&&v[f.last()];)e(0,f.last());w[b]&&f.last()==b&&e(0,b),(h=x[b]||!!h)||f.push(b);var n={};c.replace(H,function(a,b,d,c,e){n[b]=s(d||c||e||"")}),d.start&&d.start(b,n,h)}function e(a,b){var e,c=0;if(b=g.lowercase(b))for(c=f.length-1;0<=c&&f[c]!=b;c--);if(0<=c){for(e=f.length-1;c<=e;e--)d.end&&d.end(f[e]);f.length=c}}"string"!=typeof a&&(a=null==a?"":""+a);var b,m,h,f=[],n=a;for(f.last=function(){return f[f.length-1]};a;){if(m=!(h=""),f.last()&&y[f.last()]?(a=a.replace(new RegExp("(.*)<\\s*\\/\\s*"+f.last()+"[^>]*>","i"),function(a,b){return b=b.replace(I,"$1").replace(J,"$1"),d.chars&&d.chars(s(b)),""}),e(0,f.last())):(0===a.indexOf("\x3c!--")?0<=(b=a.indexOf("--",4))&&a.lastIndexOf("--\x3e",b)===b&&(d.comment&&d.comment(a.substring(4,b)),a=a.substring(b+3),m=!1):z.test(a)?(b=a.match(z))&&(a=a.replace(b[0],""),m=!1):K.test(a)?(b=a.match(A))&&(a=a.substring(b[0].length),b[0].replace(A,e),m=!1):L.test(a)&&((b=a.match(B))?(b[4]&&(a=a.substring(b[0].length),b[0].replace(B,c)),m=!1):(h+="<",a=a.substring(1))),m&&(h+=(b=a.indexOf("<"))<0?a:a.substring(0,b),a=b<0?"":a.substring(b),d.chars&&d.chars(s(h)))),a==n)throw M("badparse",a);n=a}e()}(d,t(c,function(c,b){return!/^unsafe/.test(a(c,b))})),c.join("")}}]}),g.module("ngSanitize").filter("linky",["$sanitize",function(a){var d=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,c=/^mailto:/;return function(e,b){function m(a){a&&l.push(function(a){var d=[];return t(d,g.noop).chars(a),d.join("")}(a))}function f(a,c){l.push("<a "),g.isDefined(b)&&(l.push('target="'),l.push(b),l.push('" ')),l.push('href="'),l.push(a),l.push('">'),m(c),l.push("</a>")}if(!e)return e;for(var n,k,p,h=e,l=[];n=h.match(d);)k=n[0],n[2]==n[3]&&(k="mailto:"+k),p=n.index,m(h.substr(0,p)),f(k,n[0].replace(c,"")),h=h.substring(p+n[0].length);return m(h),a(l.join(""))}}])}(window,window.angular),function(e,t,n){"use strict";angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab","mgcrea.ngStrap.collapse"]),angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var e=this.defaults={offsetTop:"auto"};this.$get=["$window","debounce","dimensions",function(t,n,a){var i=angular.element(t.document.body),r=angular.element(t);return function(o,s){function u(){return p[0]===t?t.pageYOffset:p[0].scrollTop}function c(){return p[0]===t?t.document.body.scrollHeight:p[0].scrollHeight}var d={},f=angular.extend({},e,s),p=f.target,m=!1,$=0,h=0,v=0,y=0,w=null,b=null,D=o.parent();if(f.offsetParent)if(f.offsetParent.match(/^\d+$/))for(var k=0;k<1*f.offsetParent-1;k++)D=D.parent();else D=angular.element(f.offsetParent);return d.init=function(){d.$parseOffsets(),h=a.offset(o[0]).top+$,m=!o[0].style.width,p.on("scroll",d.checkPosition),p.on("click",d.checkPositionWithEventLoop),r.on("resize",d.$debouncedOnResize),d.checkPosition(),d.checkPositionWithEventLoop()},d.destroy=function(){p.off("scroll",d.checkPosition),p.off("click",d.checkPositionWithEventLoop),r.off("resize",d.$debouncedOnResize)},d.checkPositionWithEventLoop=function(){setTimeout(d.checkPosition,1)},d.checkPosition=function(){var e=u(),t=a.offset(o[0]),n=a.height(o[0]),r=function(e,t,n){var a=u(),o=c();return a<=v?"top":null!==e&&a+e<=t.top?"middle":null!==y&&t.top+n+$>=o-y?"bottom":"middle"}(b,t,n);w!==r&&(w=r,o.removeClass("affix affix-top affix-bottom").addClass("affix"+("middle"!==r?"-"+r:"")),"top"===r?(b=null,o.css("position",f.offsetParent?"":"relative"),m&&o.css("width",""),o.css("top","")):"bottom"===r?(b=f.offsetUnpin?-1*f.offsetUnpin:t.top-e,m&&o.css("width",""),o.css("position",f.offsetParent?"":"relative"),o.css("top",f.offsetParent?"":i[0].offsetHeight-y-n-h+"px")):(b=null,m&&o.css("width",o[0].offsetWidth+"px"),o.css("position","fixed"),o.css("top",$+"px")))},d.$onResize=function(){d.$parseOffsets(),d.checkPosition()},d.$debouncedOnResize=n(d.$onResize,50),d.$parseOffsets=function(){var e=o.css("position");o.css("position",f.offsetParent?"":"relative"),f.offsetTop&&("auto"===f.offsetTop&&(f.offsetTop="+0"),v=f.offsetTop.match(/^[-+]\d+$/)?($=1*-f.offsetTop,f.offsetParent?a.offset(D[0]).top+1*f.offsetTop:a.offset(o[0]).top-a.css(o[0],"marginTop",!0)+1*f.offsetTop):1*f.offsetTop),f.offsetBottom&&(y=f.offsetParent&&f.offsetBottom.match(/^[-+]\d+$/)?c()-(a.offset(D[0]).top+a.height(D[0]))+1*f.offsetBottom+1:1*f.offsetBottom),o.css("position",e)},d.init(),d}}]}).directive("bsAffix",["$affix","$window",function(e,t){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(n,a,o,i){var r={scope:n,offsetTop:"auto",target:i?i.$element:angular.element(t)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin"],function(e){angular.isDefined(o[e])&&(r[e]=o[e])});var s=e(a,r);n.$on("$destroy",function(){s&&s.destroy(),s=r=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(e){this.$element=e}]}}),angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var e=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,template:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(t,n){return function(a){var o={},i=angular.extend({},e,a);(o=t(i)).$scope.dismissable=!!i.dismissable,i.type&&(o.$scope.type=i.type);var r=o.show;return i.duration&&(o.show=function(){r(),n(function(){o.hide()},1e3*i.duration)}),o}}]}).directive("bsAlert",["$window","$sce","$alert",function(e,t,n){return e.requestAnimationFrame||e.setTimeout,{restrict:"EAC",scope:!0,link:function(e,a,o){var i={scope:e,element:a,show:!1};angular.forEach(["template","placement","keyboard","html","container","animation","duration","dismissable"],function(e){angular.isDefined(o[e])&&(i[e]=o[e])}),angular.forEach(["title","content","type"],function(n){o[n]&&o.$observe(n,function(a){e[n]=t.trustAsHtml(a)})}),o.bsAlert&&e.$watch(o.bsAlert,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var r=n(i);a.on(o.trigger||"click",r.toggle),e.$on("$destroy",function(){r&&r.destroy(),r=i=null})}}}]),angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var e=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",prefixEvent:"aside",placement:"right",template:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(t){return function(n){var o=angular.extend({},e,n);return t(o)}}]}).directive("bsAside",["$window","$sce","$aside",function(e,t,n){return e.requestAnimationFrame||e.setTimeout,{restrict:"EAC",scope:!0,link:function(e,a,o){var i={scope:e,element:a,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(e){angular.isDefined(o[e])&&(i[e]=o[e])}),angular.forEach(["title","content"],function(n){o[n]&&o.$observe(n,function(a){e[n]=t.trustAsHtml(a)})}),o.bsAside&&e.$watch(o.bsAside,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var r=n(i);a.on(o.trigger||"click",r.toggle),e.$on("$destroy",function(){r&&r.destroy(),r=i=null})}}}]),angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var e=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:e}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(e,t){e.attr("data-toggle","buttons"),e.removeAttr("ng-model");var n=e[0].querySelectorAll('input[type="checkbox"]');angular.forEach(n,function(e){var n=angular.element(e);n.attr("bs-checkbox",""),n.attr("ng-model",t.ngModel+"."+n.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(e,t){var n=e.defaults,a=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(e,o,i,r){var s=n,l="INPUT"===o[0].nodeName,u=l?o.parent():o,c=!angular.isDefined(i.trueValue)||i.trueValue;a.test(i.trueValue)&&(c=e.$eval(i.trueValue));var d=!!angular.isDefined(i.falseValue)&&i.falseValue;a.test(i.falseValue)&&(d=e.$eval(i.falseValue));var f="boolean"!=typeof c||"boolean"!=typeof d;f&&(r.$parsers.push(function(e){return e?c:d}),r.$formatters.push(function(e){return angular.equals(e,c)}),e.$watch(i.ngModel,function(){r.$render()})),r.$render=function(){var e=angular.equals(r.$modelValue,c);t(function(){l&&(o[0].checked=e),u.toggleClass(s.activeClass,e)})},o.bind(s.toggleEvent,function(){e.$apply(function(){l||r.$setViewValue(!u.hasClass("active")),f||r.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(e,t){e.attr("data-toggle","buttons"),e.removeAttr("ng-model");var n=e[0].querySelectorAll('input[type="radio"]');angular.forEach(n,function(e){angular.element(e).attr("bs-radio",""),angular.element(e).attr("ng-model",t.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(e,t){var n=e.defaults,a=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(e,o,i,r){var s=n,l="INPUT"===o[0].nodeName,u=l?o.parent():o,c=a.test(i.value)?e.$eval(i.value):i.value;r.$render=function(){var e=angular.equals(r.$modelValue,c);t(function(){l&&(o[0].checked=e),u.toggleClass(s.activeClass,e)})},o.bind(s.toggleEvent,function(){e.$apply(function(){r.$setViewValue(c),r.$render()})})}}}]),angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var e=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1},t=this.controller=function(t,n,a){var o=this;o.$options=angular.copy(e),angular.forEach(["animation","disallowToggle","activeClass","startCollapsed"],function(e){angular.isDefined(a[e])&&(o.$options[e]=a[e])}),o.$toggles=[],o.$targets=[],o.$viewChangeListeners=[],o.$registerToggle=function(e){o.$toggles.push(e)},o.$registerTarget=function(e){o.$targets.push(e)},o.$targets.$active=o.$options.startCollapsed?-1:0,o.$setActive=t.$setActive=function(e){o.$targets.$active=o.$options.disallowToggle?e:o.$targets.$active===e?-1:e,o.$viewChangeListeners.forEach(function(e){e()})}};this.$get=function(){var n={};return n.defaults=e,n.controller=t,n}}).directive("bsCollapse",["$window","$animate","$collapse",function(e,t,n){return n.defaults,{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",n.controller],link:function(e,t,n,a){var o=a[0],i=a[1];o&&(i.$viewChangeListeners.push(function(){o.$setViewValue(i.$targets.$active)}),o.$formatters.push(function(e){return i.$targets.$active!==1*e&&i.$setActive(1*e),e}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(e,t,n,a){var o=(a[0],a[1]);t.attr("data-toggle","collapse"),o.$registerToggle(t),t.on("click",function(){var a=n.bsCollapseToggle||o.$toggles.indexOf(t);o.$setActive(1*a),e.$apply()})}}}).directive("bsCollapseTarget",["$animate",function(e){return{require:["^?ngModel","^bsCollapse"],link:function(t,n,a,o){function i(){var t=r.$targets.indexOf(n),a=r.$targets.$active;e[t===a?"addClass":"removeClass"](n,r.$options.activeClass)}var r=(o[0],o[1]);n.addClass("collapse"),r.$options.animation&&n.addClass(r.$options.animation),r.$registerTarget(n),r.$viewChangeListeners.push(function(){i()}),i()}}}]),angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var e=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",template:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",modelDateFormat:null,dayFormat:"dd",strictFormat:!1,autoclose:!1,minDate:-1/0,maxDate:1/0,startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$locale","dateFilter","datepickerViews","$tooltip","$timeout",function(t,n,a,o,i,r,s,l,u){function c(t,n,a){function o(e){e.selected=r.$isSelected(e.date)}function i(){t[0].focus()}var r=l(t,angular.extend({},e,a)),c=a.scope,p=r.$options,g=r.$scope;p.startView&&(p.startView-=p.minView);var m=s(r);r.$views=m.views;var $=m.viewDate;g.$mode=p.startView,g.$iconLeft=p.iconLeft,g.$iconRight=p.iconRight;var h=r.$views[g.$mode];g.$select=function(e){r.select(e)},g.$selectPane=function(e){r.$selectPane(e)},g.$toggleMode=function(){r.setMode((g.$mode+1)%r.$views.length)},r.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())&&(r.$date=e,h.update.call(h,e)),r.$build(!0)},r.updateDisabledDates=function(e){p.disabledDateRanges=e;for(var t=0,n=g.rows.length;t<n;t++)angular.forEach(g.rows[t],r.$setDisabledEl)},r.select=function(e,t){angular.isDate(n.$dateValue)||(n.$dateValue=new Date(e)),!g.$mode||t?(n.$setViewValue(angular.copy(e)),n.$render(),p.autoclose&&!t&&u(function(){r.hide(!0)})):(angular.extend($,{year:e.getFullYear(),month:e.getMonth(),date:e.getDate()}),r.setMode(g.$mode-1),r.$build())},r.setMode=function(e){g.$mode=e,h=r.$views[g.$mode],r.$build()},r.$build=function(e){!0===e&&h.built||(!1!==e||h.built)&&h.build.call(h)},r.$updateSelected=function(){for(var e=0,t=g.rows.length;e<t;e++)angular.forEach(g.rows[e],o)},r.$isSelected=function(e){return h.isSelected(e)},r.$setDisabledEl=function(e){e.disabled=h.isDisabled(e.date)},r.$selectPane=function(e){var t=h.steps,n=new Date(Date.UTC($.year+(t.year||0)*e,$.month+(t.month||0)*e,$.date+(t.day||0)*e));angular.extend($,{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate()}),r.$build()},r.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),f){var t=angular.element(e.target);"button"!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler("click")}},r.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return g.$mode?g.$apply(function(){r.setMode(g.$mode-1)}):r.hide(!0);h.onKeyDown(e),c.$digest()}};var v=r.init;r.init=function(){return d&&p.useNative?(t.prop("type","date"),void t.css("-webkit-appearance","textfield")):(f&&(t.prop("type","text"),t.attr("readonly","true"),t.on("click",i)),void v())};var y=r.destroy;r.destroy=function(){d&&p.useNative&&t.off("click",i),y()};var w=r.show;r.show=function(){w(),r.$element.on(f?"touchstart":"mousedown",r.$onMouseDown),p.keyboard&&t.on("keydown",r.$onKeyDown)};var b=r.hide;return r.hide=function(e){r.$isShown&&(r.$element.off(f?"touchstart":"mousedown",r.$onMouseDown),p.keyboard&&t.off("keydown",r.$onKeyDown),b(e))},r}var d=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),f="createTouch"in t.document&&d;return e.lang||(e.lang=i.id),c.defaults=e,c}]}).directive("bsDatepicker",["$window","$parse","$q","$locale","dateFilter","$datepicker","$dateParser",function(e,t,n,a,o,i,r){var s=(i.defaults,/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent));return{restrict:"EAC",require:"ngModel",link:function(e,t,n,a){function l(e){return e&&e.length?e:null}function u(e){if(angular.isDate(e)){var t=isNaN(d.$options.minDate)||e.getTime()>=d.$options.minDate,n=isNaN(d.$options.maxDate)||e.getTime()<=d.$options.maxDate,o=t&&n;a.$setValidity("date",o),a.$setValidity("min",t),a.$setValidity("max",n),o&&(a.$dateValue=e)}}var c={scope:e,controller:a};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","dateType","dateFormat","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled"],function(e){angular.isDefined(n[e])&&(c[e]=n[e])}),n.bsShow&&e.$watch(n.bsShow,function(e){d&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(datepicker),?/i)),!0===e?d.show():d.hide())});var d=i(t,a,c);c=d.$options,s&&c.useNative&&(c.dateFormat="yyyy-MM-dd");var f=r({format:c.dateFormat,lang:c.lang,strict:c.strictFormat});angular.forEach(["minDate","maxDate"],function(e){angular.isDefined(n[e])&&n.$observe(e,function(t){d.$options[e]=f.getDateForAttribute(e,t),!isNaN(d.$options[e])&&d.$build(!1),u(a.$dateValue)})}),e.$watch(n.ngModel,function(){d.update(a.$dateValue)},!0),angular.isDefined(n.disabledDates)&&e.$watch(n.disabledDates,function(e,t){e=l(e),t=l(t),e&&d.updateDisabledDates(e)}),a.$parsers.unshift(function(e){if(e){var t=f.parse(e,a.$dateValue);return!t||isNaN(t.getTime())?void a.$setValidity("date",!1):(u(t),"string"===c.dateType?o(t,c.modelDateFormat||c.dateFormat):"number"===c.dateType?a.$dateValue.getTime():"iso"===c.dateType?a.$dateValue.toISOString():new Date(a.$dateValue))}a.$setValidity("date",!0)}),a.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?NaN:angular.isDate(e)?e:"string"===c.dateType?f.parse(e,null,c.modelDateFormat):new Date(e),a.$dateValue=t,a.$dateValue}),a.$render=function(){t.val(!a.$dateValue||isNaN(a.$dateValue.getTime())?"":o(a.$dateValue,c.dateFormat))},e.$on("$destroy",function(){d&&d.destroy(),d=c=null})}}}]).provider("datepickerViews",function(){function e(e,t){for(var n=[];0<e.length;)n.push(e.splice(0,t));return n}this.defaults={dayFormat:"dd",daySplit:7},this.$get=["$locale","$sce","dateFilter","$dateParser",function(n,a,o,i){return function(r){var s=r.$scope,l=r.$options,u=i(),c=n.DATETIME_FORMATS.SHORTDAY,d=c.slice(l.startWeek).concat(c.slice(0,l.startWeek)),f=a.trustAsHtml('<th class="dow text-center">'+d.join('</th><th class="dow text-center">')+"</th>"),p=r.$date||(l.startDate?u.getDateForAttribute("startDate",l.startDate):new Date),g={year:p.getFullYear(),month:p.getMonth(),date:p.getDate()},m=(p.getTimezoneOffset(),[{format:l.dayFormat,split:7,steps:{month:1},update:function(e,t){!this.built||t||e.getFullYear()!==g.year||e.getMonth()!==g.month?(angular.extend(g,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build()):e.getDate()!==g.date&&(g.date=r.$date.getDate(),r.$updateSelected())},build:function(){var n=new Date(g.year,g.month,1),a=n.getTimezoneOffset(),i=new Date(+n-864e5*function(e,t){return(e%t+t)%t}(n.getDay()-l.startWeek,7)),u=i.getTimezoneOffset(),c=(new Date).toDateString();u!==a&&(i=new Date(+i+6e4*(u-a)));for(var d,p=[],m=0;m<42;m++)d=new Date(i.getFullYear(),i.getMonth(),i.getDate()+m),p.push({date:d,isToday:d.toDateString()===c,label:o(d,this.format),selected:r.$date&&this.isSelected(d),muted:d.getMonth()!==g.month,disabled:this.isDisabled(d)});s.title=o(n,"MMMM yyyy"),s.showLabels=!0,s.labels=f,s.rows=e(p,this.split),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()&&e.getMonth()===r.$date.getMonth()&&e.getDate()===r.$date.getDate()},isDisabled:function(e){var t=e.getTime();if(t<l.minDate||t>l.maxDate)return!0;if(-1!==l.daysOfWeekDisabled.indexOf(e.getDay()))return!0;if(l.disabledDateRanges)for(var n=0;n<l.disabledDateRanges.length;n++)if(t>=l.disabledDateRanges[n].start&&t<=l.disabledDateRanges[n].end)return!0;return!1},onKeyDown:function(e){if(r.$date){var t,n=r.$date.getTime();37===e.keyCode?t=new Date(n-864e5):38===e.keyCode?t=new Date(n-6048e5):39===e.keyCode?t=new Date(n+864e5):40===e.keyCode&&(t=new Date(n+6048e5)),this.isDisabled(t)||r.select(t,!0)}}},{name:"month",format:"MMM",split:4,steps:{year:1},update:function(e){this.built&&e.getFullYear()===g.year?e.getMonth()!==g.month&&(angular.extend(g,{month:r.$date.getMonth(),date:r.$date.getDate()}),r.$updateSelected()):(angular.extend(g,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build())},build:function(){for(var t,n=(new Date(g.year,0,1),[]),a=0;a<12;a++)t=new Date(g.year,a,1),n.push({date:t,label:o(t,this.format),selected:r.$isSelected(t),disabled:this.isDisabled(t)});s.title=o(t,"yyyy"),s.showLabels=!1,s.rows=e(n,this.split),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()&&e.getMonth()===r.$date.getMonth()},isDisabled:function(e){return+new Date(e.getFullYear(),e.getMonth()+1,0)<l.minDate||e.getTime()>l.maxDate},onKeyDown:function(e){if(r.$date){var t=r.$date.getMonth(),n=new Date(r.$date);37===e.keyCode?n.setMonth(t-1):38===e.keyCode?n.setMonth(t-4):39===e.keyCode?n.setMonth(t+1):40===e.keyCode&&n.setMonth(t+4),this.isDisabled(n)||r.select(n,!0)}}},{name:"year",format:"yyyy",split:4,steps:{year:12},update:function(e,t){!this.built||t||parseInt(e.getFullYear()/20,10)!==parseInt(g.year/20,10)?(angular.extend(g,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build()):e.getFullYear()!==g.year&&(angular.extend(g,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$updateSelected())},build:function(){for(var t,n=g.year-g.year%(3*this.split),a=[],i=0;i<12;i++)t=new Date(n+i,0,1),a.push({date:t,label:o(t,this.format),selected:r.$isSelected(t),disabled:this.isDisabled(t)});s.title=a[0].label+"-"+a[a.length-1].label,s.showLabels=!1,s.rows=e(a,this.split),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()},isDisabled:function(e){return+new Date(e.getFullYear()+1,0,0)<l.minDate||e.getTime()>l.maxDate},onKeyDown:function(e){if(r.$date){var t=r.$date.getFullYear(),n=new Date(r.$date);37===e.keyCode?n.setYear(t-1):38===e.keyCode?n.setYear(t-4):39===e.keyCode?n.setYear(t+1):40===e.keyCode&&n.setYear(t+4),this.isDisabled(n)||r.select(n,!0)}}}]);return{views:l.minView?Array.prototype.slice.call(m,l.minView):m,viewDate:g}}}]}),angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var e=this.defaults={animation:"am-fade",prefixClass:"dropdown",placement:"bottom-left",template:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip",function(t,n,a){var i=angular.element(t.document.body),r=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return function(t,o){function s(e){return e.target!==t[0]?e.target!==t[0]&&l.hide():void 0}var l={},u=angular.extend({},e,o);l.$scope=u.scope&&u.scope.$new()||n.$new(),l=a(t,u);var c=t.parent();l.$onKeyDown=function(e){if(/(38|40)/.test(e.keyCode)){e.preventDefault(),e.stopPropagation();var n,t=angular.element(l.$element[0].querySelectorAll("li:not(.divider) a"));t.length&&(angular.forEach(t,function(e,t){r&&r.call(e,":focus")&&(n=t)}),38===e.keyCode&&0<n?n--:40===e.keyCode&&n<t.length-1?n++:angular.isUndefined(n)&&(n=0),t.eq(n)[0].focus())}};var d=l.show;l.show=function(){d(),u.keyboard&&l.$element.on("keydown",l.$onKeyDown),i.on("click",s),c.hasClass("dropdown")&&c.addClass("open")};var f=l.hide;return l.hide=function(){l.$isShown&&(u.keyboard&&l.$element.off("keydown",l.$onKeyDown),i.off("click",s),c.hasClass("dropdown")&&c.removeClass("open"),f())},l}}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(e,t,n){return{restrict:"EAC",scope:!0,link:function(e,t,a){var o={scope:e};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template"],function(e){angular.isDefined(a[e])&&(o[e]=a[e])}),a.bsDropdown&&e.$watch(a.bsDropdown,function(t){e.content=t},!0),a.bsShow&&e.$watch(a.bsShow,function(e){i&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(dropdown),?/i)),!0===e?i.show():i.hide())});var i=n(t,o);e.$on("$destroy",function(){i&&i.destroy(),i=o=null})}}}]),angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(){function e(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}function t(){}function n(e){return!isNaN(parseFloat(e))&&isFinite(e)}function a(e,t){for(var n=e.length,a=t.toString().toLowerCase(),o=0;o<n;o++)if(e[o].toLowerCase()===a)return o;return-1}e.prototype.setMilliseconds=function(e){this.milliseconds=e},e.prototype.setSeconds=function(e){this.seconds=e},e.prototype.setMinutes=function(e){this.minutes=e},e.prototype.setHours=function(e){this.hours=e},e.prototype.getHours=function(){return this.hours},e.prototype.setDate=function(e){this.day=e},e.prototype.setMonth=function(e){this.month=e},e.prototype.setFullYear=function(e){this.year=e},e.prototype.fromDate=function(e){return this.year=e.getFullYear(),this.month=e.getMonth(),this.day=e.getDate(),this.hours=e.getHours(),this.minutes=e.getMinutes(),this.seconds=e.getSeconds(),this.milliseconds=e.getMilliseconds(),this},e.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var o=e.prototype,i=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(r,s){return function(l){function u(e){var t,n=Object.keys(h),a=[],o=[],i=e;for(t=0;t<n.length;t++)if(1<e.split(n[t]).length){var r=i.search(n[t]);e=e.split(n[t]).join(""),h[n[t]]&&(a[r]=h[n[t]])}return angular.forEach(a,function(e){e&&o.push(e)}),o}function d(e){var t,n=Object.keys($),a=e;for(t=0;t<n.length;t++)a=a.split(n[t]).join("${"+t+"}");for(t=0;t<n.length;t++)a=a.split("${"+t+"}").join("("+$[n[t]]+")");return e=function(e){return e.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}(e),new RegExp("^"+a+"$",["i"])}var f,p,g=angular.extend({},i,l),m={},$={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:g.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:g.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:g.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:g.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:r.DATETIME_FORMATS.DAY.join("|"),EEE:r.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:g.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:r.DATETIME_FORMATS.MONTH.join("|"),MMM:r.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:g.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:g.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},h={sss:o.setMilliseconds,ss:o.setSeconds,s:o.setSeconds,mm:o.setMinutes,m:o.setMinutes,HH:o.setHours,H:o.setHours,hh:o.setHours,h:o.setHours,EEEE:t,EEE:t,dd:o.setDate,d:o.setDate,a:function(e){var t=this.getHours()%12;return this.setHours(e.match(/pm/i)?t+12:t)},MMMM:function(e){return this.setMonth(a(r.DATETIME_FORMATS.MONTH,e))},MMM:function(e){return this.setMonth(a(r.DATETIME_FORMATS.SHORTMONTH,e))},MM:function(e){return this.setMonth(1*e-1)},M:function(e){return this.setMonth(1*e-1)},yyyy:o.setFullYear,yy:function(e){return this.setFullYear(2e3+1*e)},y:o.setFullYear};return m.init=function(){m.$format=r.DATETIME_FORMATS[g.format]||g.format,f=d(m.$format),p=u(m.$format)},m.isValid=function(e){return angular.isDate(e)?!isNaN(e.getTime()):f.test(e)},m.parse=function(t,n,a){angular.isDate(t)&&(t=s(t,a||m.$format));var o=a?d(a):f,i=a?u(a):p,r=o.exec(t);if(!r)return!1;for(var l=(new e).fromDate(n&&!isNaN(n.getTime())?n:new Date(1970,0,1,0)),c=0;c<r.length-1;c++)i[c]&&i[c].call(l,r[c+1]);return l.toDate()},m.getDateForAttribute=function(e,t){var a;if("today"===t){var o=new Date;a=new Date(o.getFullYear(),o.getMonth(),o.getDate()+("maxDate"===e?1:0),0,0,0,"minDate"===e?0:-1)}else a=angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)):n(t)?new Date(parseInt(t,10)):angular.isString(t)&&0===t.length?"minDate"===e?-1/0:1/0:new Date(t);return a},m.getTimeForAttribute=function(e,t){return"now"===t?(new Date).setFullYear(1970,0,1):angular.isString(t)&&t.match(/^".+"$/)?new Date(t.substr(1,t.length-2)).setFullYear(1970,0,1):n(t)?new Date(parseInt(t,10)).setFullYear(1970,0,1):angular.isString(t)&&0===t.length?"minTime"===e?-1/0:1/0:m.parse(t,new Date(1970,0,1,0))},m.init(),m}}]}]),angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(e){return function(t,n,a){var o=null;return function(){var i=this,r=arguments,s=a&&!o;return o&&e.cancel(o),o=e(function(){o=null,a||t.apply(i,r)},n,!1),s&&t.apply(i,r),o}}}]).factory("throttle",["$timeout",function(e){return function(t,n,a){var o=null;return a||(a={}),function(){var i=this,r=arguments;o||(!1!==a.leading&&t.apply(i,r),o=e(function(){o=null,!1!==a.trailing&&t.apply(i,r)},n,!1))}}}]),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(){var t=(angular.element,{}),n=t.nodeName=function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()};t.css=function(t,n,a){var o;return o=t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n],!0===a?parseFloat(o)||0:o},t.offset=function(t){var n=t.getBoundingClientRect(),a=t.ownerDocument;return{width:n.width||t.offsetWidth,height:n.height||t.offsetHeight,top:n.top+(e.pageYOffset||a.documentElement.scrollTop)-(a.documentElement.clientTop||0),left:n.left+(e.pageXOffset||a.documentElement.scrollLeft)-(a.documentElement.clientLeft||0)}},t.position=function(e){var o,i,r={top:0,left:0};return"fixed"===t.css(e,"position")?i=e.getBoundingClientRect():(o=a(e),i=t.offset(e),n(o,"html")||(r=t.offset(o)),r.top+=t.css(o,"borderTopWidth",!0),r.left+=t.css(o,"borderLeftWidth",!0)),{width:e.offsetWidth,height:e.offsetHeight,top:i.top-r.top-t.css(e,"marginTop",!0),left:i.left-r.left-t.css(e,"marginLeft",!0)}};var a=function(e){var a=e.ownerDocument,o=e.offsetParent||a;if(n(o,"#document"))return a.documentElement;for(;o&&!n(o,"html")&&"static"===t.css(o,"position");)o=o.offsetParent;return o||a.documentElement};return t.height=function(e,n){var a=e.offsetHeight;return n?a+=t.css(e,"marginTop",!0)+t.css(e,"marginBottom",!0):a-=t.css(e,"paddingTop",!0)+t.css(e,"paddingBottom",!0)+t.css(e,"borderTopWidth",!0)+t.css(e,"borderBottomWidth",!0),a},t.width=function(e,n){var a=e.offsetWidth;return n?a+=t.css(e,"marginLeft",!0)+t.css(e,"marginRight",!0):a-=t.css(e,"paddingLeft",!0)+t.css(e,"paddingRight",!0)+t.css(e,"borderLeftWidth",!0)+t.css(e,"borderRightWidth",!0),a},t}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var e=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(t,n){return function(a,o){var l,u,c,p,g,r={},s=angular.extend({},e,o);return r.$values=[],r.init=function(){r.$match=l=a.match(s.regexp),u=t(l[2]||l[1]),c=l[4]||l[6],l[5],t(l[3]||""),p=t(l[2]?l[1]:c),g=t(l[7])},r.valuesFn=function(e,t){return n.when(g(e,t)).then(function(t){return r.$values=t?function(e,t){return e.map(function(e,n){var i={};return i[c]=e,{label:u(t,i),value:p(t,i),index:n}})}(t,e):{},r.$values})},r.displayValue=function(e){var t={};return t[c]=e,u(t)},r.init(),r}}]}),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,a=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,o=!!n,i=o?function(e){var t=n(e);return function(){a(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return i.supported=o,i}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var e=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",prefixClass:"modal",prefixEvent:"modal",placement:"top",template:"modal/modal.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","$sce","dimensions",function(n,a,o,i,r,s,l,u,c){function f(e,n){return angular.element((n||t).querySelectorAll(e))}function p(e){return i.when(r.get(e)||s.get(e)).then(function(t){return angular.isObject(t)?(r.put(e,t.data),t.data):t})}var g=angular.forEach,m=String.prototype.trim,$=n.requestAnimationFrame||n.setTimeout,h=angular.element(n.document.body),v=/ng-bind="/gi;return function(t){function n(){d.$emit(u.prefixEvent+".show",s)}function i(){d.$emit(u.prefixEvent+".hide",s),h.removeClass(u.prefixClass+"-open"),u.animation&&h.removeClass(u.prefixClass+"-with-"+u.animation)}function r(e){e.target===e.currentTarget&&("static"===u.backdrop?s.focus():s.hide())}var s={},u=s.$options=angular.extend({},e,t);s.$promise=p(u.template);var d=s.$scope=u.scope&&u.scope.$new()||a.$new();u.element||u.container||(u.container="body"),g(["title","content"],function(e){u[e]&&(d[e]=c.trustAsHtml(u[e]))}),d.$hide=function(){d.$$postDigest(function(){s.hide()})},d.$show=function(){d.$$postDigest(function(){s.show()})},d.$toggle=function(){d.$$postDigest(function(){s.toggle()})},u.contentTemplate&&(s.$promise=s.$promise.then(function(e){var n=angular.element(e);return p(u.contentTemplate).then(function(e){var a=f('[ng-bind="content"]',n[0]).removeAttr("ng-bind").html(e);return t.template||a.next().remove(),n[0].outerHTML})}));var y,w,b=angular.element('<div class="'+u.prefixClass+'-backdrop"/>');return s.$promise.then(function(e){angular.isObject(e)&&(e=e.data),u.html&&(e=e.replace(v,'ng-bind-html="')),e=m.apply(e),y=o(e),s.init()}),s.init=function(){u.show&&d.$$postDigest(function(){s.show()})},s.destroy=function(){w&&(w.remove(),w=null),b&&(b.remove(),b=null),d.$destroy()},s.show=function(){if(!d.$isShown&&!d.$emit(u.prefixEvent+".show.before",s).defaultPrevented){var e;e=angular.isElement(u.container)?u.container:u.container?f(u.container):null;var t=u.container?null:u.element;(w=s.$element=y(d,function(){})).css({display:"block"}).addClass(u.placement),u.animation&&(u.backdrop&&b.addClass(u.backdropAnimation),w.addClass(u.animation)),u.backdrop&&l.enter(b,h,null);var a=l.enter(w,e,t,n);a&&a.then&&a.then(n),d.$isShown=!0,d.$$phase||d.$root&&d.$root.$$phase||d.$digest();var o=w[0];$(function(){o.focus()}),h.addClass(u.prefixClass+"-open"),u.animation&&h.addClass(u.prefixClass+"-with-"+u.animation),u.backdrop&&(w.on("click",r),b.on("click",r)),u.keyboard&&w.on("keyup",s.$onKeyUp)}},s.hide=function(){if(d.$isShown&&!d.$emit(u.prefixEvent+".hide.before",s).defaultPrevented){var e=l.leave(w,i);e&&e.then&&e.then(i),u.backdrop&&l.leave(b),d.$isShown=!1,d.$$phase||d.$root&&d.$root.$$phase||d.$digest(),u.backdrop&&(w.off("click",r),b.off("click",r)),u.keyboard&&w.off("keyup",s.$onKeyUp)}},s.toggle=function(){d.$isShown?s.hide():s.show()},s.focus=function(){w[0].focus()},s.$onKeyUp=function(e){27===e.which&&d.$isShown&&(s.hide(),e.stopPropagation())},s}}]}).directive("bsModal",["$window","$sce","$modal",function(e,t,n){return{restrict:"EAC",scope:!0,link:function(e,a,o){var i={scope:e,element:a,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(e){angular.isDefined(o[e])&&(i[e]=o[e])}),angular.forEach(["title","content"],function(n){o[n]&&o.$observe(n,function(a){e[n]=t.trustAsHtml(a)})}),o.bsModal&&e.$watch(o.bsModal,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var r=n(i);a.on(o.trigger||"click",r.toggle),e.$on("$destroy",function(){r&&r.destroy(),r=i=null})}}}]),angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var e=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:e}}}).directive("bsNavbar",["$window","$location","$navbar",function(e,t,n){var a=n.defaults;return{restrict:"A",link:function(e,n,o){var i=angular.copy(a);angular.forEach(Object.keys(a),function(e){angular.isDefined(o[e])&&(i[e]=o[e])}),e.$watch(function(){return t.path()},function(e){var t=n[0].querySelectorAll("li["+i.routeAttr+"]");angular.forEach(t,function(t){var n=angular.element(t),a=n.attr(i.routeAttr).replace("/","\\/");i.strict&&(a="^"+a+"$"),new RegExp(a,["i"]).test(e)?n.addClass(i.activeClass):n.removeClass(i.activeClass)})})}}}]),angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var e=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",template:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!1};this.$get=["$tooltip",function(t){return function(n,a){var o=angular.extend({},e,a),i=t(n,o);return o.content&&(i.$scope.content=o.content),i}}]}).directive("bsPopover",["$window","$sce","$popover",function(e,t,n){var a=e.requestAnimationFrame||e.setTimeout;return{restrict:"EAC",scope:!0,link:function(e,o,i){var r={scope:e};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","customClass","autoClose"],function(e){angular.isDefined(i[e])&&(r[e]=i[e])}),angular.forEach(["title","content"],function(n){i[n]&&i.$observe(n,function(o,i){e[n]=t.trustAsHtml(o),angular.isDefined(i)&&a(function(){s&&s.$applyPlacement()})})}),i.bsPopover&&e.$watch(i.bsPopover,function(t,n){angular.isObject(t)?angular.extend(e,t):e.content=t,angular.isDefined(n)&&a(function(){s&&s.$applyPlacement()})},!0),i.bsShow&&e.$watch(i.bsShow,function(e){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(popover),?/i)),!0===e?s.show():s.hide())});var s=n(o,r);e.$on("$destroy",function(){s&&s.destroy(),s=r=null})}}}]),angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var e=this.$$spies={},n=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(a,o,i,r,s,l){function u(e,t){return e[0].nodeName&&e[0].nodeName.toLowerCase()===t.toLowerCase()}var d=angular.element(a),f=angular.element(o.prop("documentElement")),p=angular.element(a.document.body);return function(o){var c=angular.extend({},n,o);c.element||(c.element=p);var g=u(c.element,"body"),m=g?d:c.element,$=g?"window":c.id;if(e[$])return e[$].$$count++,e[$];var h,v,y,w,b,D,S,T={},x=T.$trackedElements=[],C=[];return T.init=function(){this.$$count=1,w=s(this.checkPosition,c.debounce),b=l(this.checkPosition,c.throttle),m.on("click",this.checkPositionWithEventLoop),d.on("resize",w),m.on("scroll",b),D=s(this.checkOffsets,c.debounce),h=i.$on("$viewContentLoaded",D),v=i.$on("$includeContentLoaded",D),D(),$&&(e[$]=T)},T.destroy=function(){this.$$count--,0<this.$$count||(m.off("click",this.checkPositionWithEventLoop),d.off("resize",w),m.off("scroll",w),h(),v(),$&&delete e[$])},T.checkPosition=function(){if(C.length){if(S=(g?a.pageYOffset:m.prop("scrollTop"))||0,Math.max(a.innerHeight,f.prop("clientHeight")),S<C[0].offsetTop&&y!==C[0].target)return T.$activateElement(C[0]);for(var e=C.length;e--;)if(!angular.isUndefined(C[e].offsetTop)&&null!==C[e].offsetTop&&y!==C[e].target&&!(S<C[e].offsetTop||C[e+1]&&S>C[e+1].offsetTop))return T.$activateElement(C[e])}},T.checkPositionWithEventLoop=function(){setTimeout(this.checkPosition,1)},T.$activateElement=function(e){if(y){var t=T.$getTrackedElement(y);t&&(t.source.removeClass("active"),u(t.source,"li")&&u(t.source.parent().parent(),"li")&&t.source.parent().parent().removeClass("active"))}y=e.target,e.source.addClass("active"),u(e.source,"li")&&u(e.source.parent().parent(),"li")&&e.source.parent().parent().addClass("active")},T.$getTrackedElement=function(e){return x.filter(function(t){return t.target===e})[0]},T.checkOffsets=function(){angular.forEach(x,function(e){var n=t.querySelector(e.target);e.offsetTop=n?r.offset(n).top:null,c.offset&&null!==e.offsetTop&&(e.offsetTop-=1*c.offset)}),C=x.filter(function(e){return null!==e.offsetTop}).sort(function(e,t){return e.offsetTop-t.offsetTop}),w()},T.trackElement=function(e,t){x.push({target:e,source:t})},T.untrackElement=function(e,t){for(var n,a=x.length;a--;)if(x[a].target===e&&x[a].source===t){n=a;break}x=x.splice(n,1)},T.activate=function(e){x[e].addClass("active")},T.init(),T}}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(e,t,n,a){return{restrict:"EAC",link:function(e,t,n){var o={scope:e};angular.forEach(["offset","target"],function(e){angular.isDefined(n[e])&&(o[e]=n[e])});var i=a(o);i.trackElement(o.target,t),e.$on("$destroy",function(){i&&(i.untrackElement(o.target,t),i.destroy()),i=o=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(){return{restrict:"A",compile:function(e){var t=e[0].querySelectorAll("li > a[href]");angular.forEach(t,function(e){var t=angular.element(e);t.parent().attr("bs-scrollspy","").attr("data-target",t.attr("href"))})}}}]),angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var e=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",template:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok"};this.$get=["$window","$document","$rootScope","$tooltip",function(t,n,a,o){function i(t,n,a){var i={},r=angular.extend({},e,a),l=(i=o(t,r)).$scope;l.$matches=[],l.$activeIndex=0,l.$isMultiple=r.multiple,l.$showAllNoneButtons=r.allNoneButtons&&r.multiple,l.$iconCheckmark=r.iconCheckmark,l.$activate=function(e){l.$$postDigest(function(){i.activate(e)})},l.$select=function(e){l.$$postDigest(function(){i.select(e)})},l.$isVisible=function(){return i.$isVisible()},l.$isActive=function(e){return i.$isActive(e)},l.$selectAll=function(){for(var e=0;e<l.$matches.length;e++)l.$isActive(e)||l.$select(e)},l.$selectNone=function(){for(var e=0;e<l.$matches.length;e++)l.$isActive(e)&&l.$select(e)},i.update=function(e){l.$matches=e,i.$updateActiveIndex()},i.activate=function(e){return r.multiple?(l.$activeIndex.sort(),i.$isActive(e)?l.$activeIndex.splice(l.$activeIndex.indexOf(e),1):l.$activeIndex.push(e),r.sort&&l.$activeIndex.sort()):l.$activeIndex=e,l.$activeIndex},i.select=function(e){var t=l.$matches[e].value;l.$apply(function(){i.activate(e),r.multiple?n.$setViewValue(l.$activeIndex.map(function(e){return l.$matches[e].value})):(n.$setViewValue(t),i.hide())}),l.$emit(r.prefixEvent+".select",t,e)},i.$updateActiveIndex=function(){n.$modelValue&&l.$matches.length?l.$activeIndex=r.multiple&&angular.isArray(n.$modelValue)?n.$modelValue.map(function(e){return i.$getIndex(e)}):i.$getIndex(n.$modelValue):l.$activeIndex>=l.$matches.length&&(l.$activeIndex=r.multiple?[]:0)},i.$isVisible=function(){return r.minLength&&n?l.$matches.length&&n.$viewValue.length>=r.minLength:l.$matches.length},i.$isActive=function(e){return r.multiple?-1!==l.$activeIndex.indexOf(e):l.$activeIndex===e},i.$getIndex=function(e){var t=l.$matches.length,n=t;if(t){for(n=t;n--&&l.$matches[n].value!==e;);if(!(n<0))return n}},i.$onMouseDown=function(e){(e.preventDefault(),e.stopPropagation(),s)&&angular.element(e.target).triggerHandler("click")},i.$onKeyDown=function(e){if(/(9|13|38|40)/.test(e.keyCode)){if(e.preventDefault(),e.stopPropagation(),!r.multiple&&(13===e.keyCode||9===e.keyCode))return i.select(l.$activeIndex);38===e.keyCode&&0<l.$activeIndex?l.$activeIndex--:40===e.keyCode&&l.$activeIndex<l.$matches.length-1?l.$activeIndex++:angular.isUndefined(l.$activeIndex)&&(l.$activeIndex=0),l.$digest()}};var u=i.show;i.show=function(){u(),r.multiple&&i.$element.addClass("select-multiple"),i.$element.on(s?"touchstart":"mousedown",i.$onMouseDown),r.keyboard&&t.on("keydown",i.$onKeyDown)};var c=i.hide;return i.hide=function(){i.$element.off(s?"touchstart":"mousedown",i.$onMouseDown),r.keyboard&&t.off("keydown",i.$onKeyDown),c(!0)},i}var r=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),s="createTouch"in t.document&&r;return i.defaults=e,i}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(e,t,n,a,o){var i=a.defaults;return{restrict:"EAC",require:"ngModel",link:function(e,t,n,r){var s={scope:e,placeholder:i.placeholder};if(angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","placeholder","multiple","allNoneButtons","maxLength","maxLengthHtml"],function(e){angular.isDefined(n[e])&&(s[e]=n[e])}),"select"===t[0].nodeName.toLowerCase()){var l=t;l.css("display","none"),t=angular.element('<button type="button" class="btn btn-default"></button>'),l.after(t)}var u=o(n.ngOptions),c=a(t,r,s),d=u.$match[7].replace(/\|.+/,"").trim();e.$watch(d,function(){u.valuesFn(e,r).then(function(e){c.update(e),r.$render()})},!0),e.$watch(n.ngModel,function(){c.$updateActiveIndex(),r.$render()},!0),r.$render=function(){var e,n;e=s.multiple&&angular.isArray(r.$modelValue)?(e=r.$modelValue.map(function(e){return n=c.$getIndex(e),!!angular.isDefined(n)&&c.$scope.$matches[n].label}).filter(angular.isDefined)).length>(s.maxLength||i.maxLength)?e.length+" "+(s.maxLengthHtml||i.maxLengthHtml):e.join(", "):(n=c.$getIndex(r.$modelValue),!!angular.isDefined(n)&&c.$scope.$matches[n].label),t.html((e||s.placeholder)+i.caretHtml)},e.$on("$destroy",function(){c&&c.destroy(),c=s=null})}}}]),angular.module("mgcrea.ngStrap.tab",[]).provider("$tab",function(){var e=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html",navClass:"nav-tabs",activeClass:"active"},t=this.controller=function(t,n,a){var o=this;o.$options=angular.copy(e),angular.forEach(["animation","navClass","activeClass"],function(e){angular.isDefined(a[e])&&(o.$options[e]=a[e])}),t.$navClass=o.$options.navClass,t.$activeClass=o.$options.activeClass,o.$panes=t.$panes=[],o.$viewChangeListeners=[],o.$push=function(e){o.$panes.push(e)},o.$remove=function(e){var t=o.$panes.indexOf(e),n=o.$panes.$active;o.$panes.splice(t,1),t<n?n--:t===n&&n===o.$panes.length&&n--,o.$setActive(n)},o.$panes.$active=0,o.$setActive=t.$setActive=function(e){o.$panes.$active=e,o.$viewChangeListeners.forEach(function(e){e()})}};this.$get=function(){var n={};return n.defaults=e,n.controller=t,n}}).directive("bsTabs",["$window","$animate","$tab",function(e,t,n){var a=n.defaults;return{require:["?ngModel","bsTabs"],transclude:!0,scope:!0,controller:["$scope","$element","$attrs",n.controller],templateUrl:function(e,t){return t.template||a.template},link:function(e,t,n,a){var o=a[0],i=a[1];o&&(i.$viewChangeListeners.push(function(){o.$setViewValue(i.$panes.$active)}),o.$formatters.push(function(e){return i.$setActive(1*e),e}))}}}]).directive("bsPane",["$window","$animate","$sce",function(e,t,n){return{require:["^?ngModel","^bsTabs"],scope:!0,link:function(e,a,o,i){function r(){var n=s.$panes.indexOf(e),o=s.$panes.$active;t[n===o?"addClass":"removeClass"](a,s.$options.activeClass)}var s=(i[0],i[1]);a.addClass("tab-pane"),o.$observe("title",function(t){e.title=n.trustAsHtml(t)}),s.$options.animation&&a.addClass(s.$options.animation),s.$push(e),e.$on("$destroy",function(){s.$remove(e)}),s.$viewChangeListeners.push(function(){r()}),r()}}}]),angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var e=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",template:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",modelTimeFormat:null,autoclose:!1,minTime:-1/0,maxTime:1/0,length:5,hourStep:1,minuteStep:5,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$locale","dateFilter","$tooltip","$timeout",function(t,n,a,o,i,r,s,l){function u(t,n,a){function o(e,n){if(t[0].createTextRange){var a=t[0].createTextRange();a.collapse(!0),a.moveStart("character",e),a.moveEnd("character",n),a.select()}else t[0].setSelectionRange?t[0].setSelectionRange(e,n):angular.isUndefined(t[0].selectionStart)&&(t[0].selectionStart=e,t[0].selectionEnd=n)}function u(){t[0].focus()}var f=s(t,angular.extend({},e,a)),p=a.scope,g=f.$options,m=f.$scope,$=0,h=n.$dateValue||new Date,v={hour:h.getHours(),meridian:h.getHours()<12,minute:h.getMinutes(),second:h.getSeconds(),millisecond:h.getMilliseconds()},y=i.DATETIME_FORMATS[g.timeFormat]||g.timeFormat,w=/(h+)([:\.])?(m+)[ ]?(a?)/i.exec(y).slice(1);m.$iconUp=g.iconUp,m.$iconDown=g.iconDown,m.$select=function(e,t){f.select(e,t)},m.$moveIndex=function(e,t){f.$moveIndex(e,t)},m.$switchMeridian=function(e){f.switchMeridian(e)},f.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())?(f.$date=e,angular.extend(v,{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}),f.$build()):f.$isBuilt||f.$build()},f.select=function(e,t,a){(!n.$dateValue||isNaN(n.$dateValue.getTime()))&&(n.$dateValue=new Date(1970,0,1)),angular.isDate(e)||(e=new Date(e)),0===t?n.$dateValue.setHours(e.getHours()):1===t&&n.$dateValue.setMinutes(e.getMinutes()),n.$setViewValue(angular.copy(n.$dateValue)),n.$render(),g.autoclose&&!a&&l(function(){f.hide(!0)})},f.switchMeridian=function(e){if(n.$dateValue&&!isNaN(n.$dateValue.getTime())){var t=(e||n.$dateValue).getHours();n.$dateValue.setHours(t<12?t+12:t-12),n.$setViewValue(angular.copy(n.$dateValue)),n.$render()}},f.$build=function(){var e,t,n=m.midIndex=parseInt(g.length/2,10),a=[];for(e=0;e<g.length;e++)t=new Date(1970,0,1,v.hour-(n-e)*g.hourStep),a.push({date:t,label:r(t,w[0]),selected:f.$date&&f.$isSelected(t,0),disabled:f.$isDisabled(t,0)});var o,i=[];for(e=0;e<g.length;e++)o=new Date(1970,0,1,0,v.minute-(n-e)*g.minuteStep),i.push({date:o,label:r(o,w[2]),selected:f.$date&&f.$isSelected(o,1),disabled:f.$isDisabled(o,1)});var s=[];for(e=0;e<g.length;e++)s.push([a[e],i[e]]);m.rows=s,m.showAM=!!w[3],m.isAM=(f.$date||a[n].date).getHours()<12,m.timeSeparator=w[1],f.$isBuilt=!0},f.$isSelected=function(e,t){return!!f.$date&&(0===t?e.getHours()===f.$date.getHours():1===t?e.getMinutes()===f.$date.getMinutes():void 0)},f.$isDisabled=function(e,t){var n;return 0===t?n=e.getTime()+6e4*v.minute:1===t&&(n=e.getTime()+36e5*v.hour),n<1*g.minTime||n>1*g.maxTime},m.$arrowAction=function(e,t){"picker"===g.arrowBehavior?f.$setTimeByStep(e,t):f.$moveIndex(e,t)},f.$setTimeByStep=function(e,t){var n=new Date(f.$date),a=n.getHours(),o=(r(n,"h").length,n.getMinutes());r(n,"mm").length,0===t?n.setHours(a-parseInt(g.hourStep,10)*e):n.setMinutes(o-parseInt(g.minuteStep,10)*e),f.select(n,t,!0)},f.$moveIndex=function(e,t){var n;0===t?(n=new Date(1970,0,1,v.hour+e*g.length,v.minute),angular.extend(v,{hour:n.getHours()})):1===t&&(n=new Date(1970,0,1,v.hour,v.minute+e*g.length*g.minuteStep),angular.extend(v,{minute:n.getMinutes()})),f.$build()},f.$onMouseDown=function(e){if("input"!==e.target.nodeName.toLowerCase()&&e.preventDefault(),e.stopPropagation(),d){var t=angular.element(e.target);"button"!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler("click")}},f.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return f.hide(!0);var t=new Date(f.$date),n=t.getHours(),a=r(t,"h").length,i=t.getMinutes(),s=r(t,"mm").length,l=/(37|39)/.test(e.keyCode),u=2+1*!!w[3];l&&(37===e.keyCode?$=$<1?u-1:$-1:39===e.keyCode&&($=$<u-1?$+1:0));var c=[0,a];0===$?(38===e.keyCode?t.setHours(n-parseInt(g.hourStep,10)):40===e.keyCode&&t.setHours(n+parseInt(g.hourStep,10)),c=[0,a]):1===$?(38===e.keyCode?t.setMinutes(i-parseInt(g.minuteStep,10)):40===e.keyCode&&t.setMinutes(i+parseInt(g.minuteStep,10)),c=[a+1,a+1+s]):2===$&&(l||f.switchMeridian(),c=[a+1+s+1,a+1+s+3]),f.select(t,$,!0),o(c[0],c[1]),p.$digest()}};var b=f.init;f.init=function(){return c&&g.useNative?(t.prop("type","time"),void t.css("-webkit-appearance","textfield")):(d&&(t.prop("type","text"),t.attr("readonly","true"),t.on("click",u)),void b())};var D=f.destroy;f.destroy=function(){c&&g.useNative&&t.off("click",u),D()};var k=f.show;f.show=function(){k(),f.$element.on(d?"touchstart":"mousedown",f.$onMouseDown),g.keyboard&&t.on("keydown",f.$onKeyDown)};var S=f.hide;return f.hide=function(e){f.$isShown&&(f.$element.off(d?"touchstart":"mousedown",f.$onMouseDown),g.keyboard&&t.off("keydown",f.$onKeyDown),S(e))},f}var c=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),d="createTouch"in t.document&&c;return e.lang||(e.lang=i.id),u.defaults=e,u}]}).directive("bsTimepicker",["$window","$parse","$q","$locale","dateFilter","$timepicker","$dateParser",function(e,t,n,a,o,i,r){var s=i.defaults,l=/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent);return e.requestAnimationFrame||e.setTimeout,{restrict:"EAC",require:"ngModel",link:function(e,t,n,a){function u(e){if(angular.isDate(e)){var t=isNaN(d.minTime)||new Date(e.getTime()).setFullYear(1970,0,1)>=d.minTime,n=isNaN(d.maxTime)||new Date(e.getTime()).setFullYear(1970,0,1)<=d.maxTime,o=t&&n;a.$setValidity("date",o),a.$setValidity("min",t),a.$setValidity("max",n),o&&(a.$dateValue=e)}}function c(){return!a.$dateValue||isNaN(a.$dateValue.getTime())?"":o(a.$dateValue,d.timeFormat)}var d={scope:e,controller:a};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","timeType","timeFormat","modelTimeFormat","useNative","hourStep","minuteStep","length","arrowBehavior","iconUp","iconDown"],function(e){angular.isDefined(n[e])&&(d[e]=n[e])}),n.bsShow&&e.$watch(n.bsShow,function(e){f&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(timepicker),?/i)),!0===e?f.show():f.hide())}),l&&(d.useNative||s.useNative)&&(d.timeFormat="HH:mm");var f=i(t,a,d);d=f.$options;var p=r({format:d.timeFormat,lang:d.lang});angular.forEach(["minTime","maxTime"],function(e){angular.isDefined(n[e])&&n.$observe(e,function(t){f.$options[e]=p.getTimeForAttribute(e,t),!isNaN(f.$options[e])&&f.$build(),u(a.$dateValue)})}),e.$watch(n.ngModel,function(){f.update(a.$dateValue)},!0),a.$parsers.unshift(function(e){if(e){var t=angular.isDate(e)?e:p.parse(e,a.$dateValue);return!t||isNaN(t.getTime())?void a.$setValidity("date",!1):(u(t),"string"===d.timeType?o(t,d.modelTimeFormat||d.timeFormat):"number"===d.timeType?a.$dateValue.getTime():"iso"===d.timeType?a.$dateValue.toISOString():new Date(a.$dateValue))}a.$setValidity("date",!0)}),a.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?NaN:angular.isDate(e)?e:"string"===d.timeType?p.parse(e,null,d.modelTimeFormat):new Date(e),a.$dateValue=t,c()}),a.$render=function(){t.val(c())},e.$on("$destroy",function(){f&&f.destroy(),f=d=null})}}}]),angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var e=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:"tooltip/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","dimensions","$$rAF","$timeout",function(n,a,o,i,r,s,l,u,c,d){function p(e,n){return angular.element((n||t).querySelectorAll(e))}function g(e){return i.when(r.get(e)||s.get(e)).then(function(t){return angular.isObject(t)?(r.put(e,t.data),t.data):t})}var m=String.prototype.trim,$="createTouch"in n.document,h=/ng-bind="/gi,v=angular.element(n.document);return function(t,n){function i(){k.$emit(D.prefixEvent+".show",w)}function r(){return k.$emit(D.prefixEvent+".hide",w),F&&"focus"===D.trigger?t[0].blur():void y()}function s(){return"body"===D.container?u.offset(D.target[0]||t[0]):u.position(D.target[0]||t[0])}function y(){clearTimeout(T),V&&(V.$destroy(),V=null),M&&(M.remove(),M=w.$element=null)}var w={},b=t[0].nodeName.toLowerCase(),D=w.$options=angular.extend({},e,n);w.$promise=g(D.template);var T,x,C,M,A,V,F,k=w.$scope=D.scope&&D.scope.$new()||a.$new();if(D.delay&&angular.isString(D.delay)){var S=D.delay.split(",").map(parseFloat);D.delay=1<S.length?{show:S[0],hide:S[1]}:S[0]}return D.title&&(w.$scope.title=D.title),k.$setEnabled=function(e){k.$$postDigest(function(){w.setEnabled(e)})},k.$hide=function(){k.$$postDigest(function(){w.hide()})},k.$show=function(){k.$$postDigest(function(){w.show()})},k.$toggle=function(){k.$$postDigest(function(){w.toggle()})},w.$isShown=k.$isShown=!1,D.contentTemplate&&(w.$promise=w.$promise.then(function(e){var t=angular.element(e);return g(D.contentTemplate).then(function(e){var n=p('[ng-bind="content"]',t[0]);return n.length||(n=p('[ng-bind="title"]',t[0])),n.removeAttr("ng-bind").html(e),t[0].outerHTML})})),w.$promise.then(function(e){angular.isObject(e)&&(e=e.data),D.html&&(e=e.replace(h,'ng-bind-html="')),e=m.apply(e),C=o(e),w.init()}),w.init=function(){D.delay&&angular.isNumber(D.delay)&&(D.delay={show:D.delay,hide:D.delay}),"self"===D.container?A=t:angular.isElement(D.container)?A=D.container:D.container&&(A=p(D.container));var e=D.trigger.split(" ");angular.forEach(e,function(e){"click"===e?t.on("click",w.toggle):"manual"!==e&&(t.on("hover"===e?"mouseenter":"focus",w.enter),t.on("hover"===e?"mouseleave":"blur",w.leave),"button"===b&&"hover"!==e&&t.on($?"touchstart":"mousedown",w.$onFocusElementMouseDown))}),D.target&&(D.target=angular.isElement(D.target)?D.target:p(D.target)),D.show&&k.$$postDigest(function(){"focus"===D.trigger?t[0].focus():w.show()})},w.destroy=function(){for(var e=D.trigger.split(" "),n=e.length;n--;){var a=e[n];"click"===a?t.off("click",w.toggle):"manual"!==a&&(t.off("hover"===a?"mouseenter":"focus",w.enter),t.off("hover"===a?"mouseleave":"blur",w.leave),"button"===b&&"hover"!==a&&t.off($?"touchstart":"mousedown",w.$onFocusElementMouseDown))}D.autoClose&&w.$isShown&&null!==M&&(v.off("click"),M.off("click")),y(),k.$destroy()},w.enter=function(){return clearTimeout(T),x="in",D.delay&&D.delay.show?void(T=setTimeout(function(){"in"===x&&w.show()},D.delay.show)):w.show()},w.show=function(){if(D.bsEnabled){k.$emit(D.prefixEvent+".show.before",w);var e=D.container?A:null,n=D.container?null:t;M&&y(),V=w.$scope.$new(),(M=w.$element=C(V,function(){})).css({top:"-9999px",left:"-9999px",display:"block",visibility:"hidden"}).addClass(D.placement),D.animation&&M.addClass(D.animation),D.type&&M.addClass(D.prefixClass+"-"+D.type),D.customClass&&M.addClass(D.customClass);var a=l.enter(M,e,n,i);a&&a.then&&a.then(i),w.$isShown=k.$isShown=!0,k.$$phase||k.$root&&k.$root.$$phase||k.$digest(),c(function(){w.$applyPlacement(),M&&M.css({visibility:"visible"})}),D.keyboard&&("focus"!==D.trigger?(w.focus(),M.on("keyup",w.$onKeyUp)):t.on("keyup",w.$onFocusKeyUp)),D.autoClose&&(M.on("click",function(e){e.stopPropagation()}),d(function(){v.on("click",function(){w.hide()})},0,!1))}},w.leave=function(){return clearTimeout(T),x="out",D.delay&&D.delay.hide?void(T=setTimeout(function(){"out"===x&&w.hide()},D.delay.hide)):w.hide()},w.hide=function(e){if(w.$isShown){k.$emit(D.prefixEvent+".hide.before",w),F=e;var t=l.leave(M,r);t&&t.then&&t.then(r),w.$isShown=k.$isShown=!1,k.$$phase||k.$root&&k.$root.$$phase||k.$digest(),D.keyboard&&null!==M&&M.off("keyup",w.$onKeyUp),D.autoClose&&null!==M&&(v.off("click"),M.off("click"))}},w.toggle=function(){w.$isShown?w.leave():w.enter()},w.focus=function(){M[0].focus()},w.setEnabled=function(e){D.bsEnabled=e},w.$applyPlacement=function(){if(M){var e=s(),t=M.prop("offsetWidth"),n=M.prop("offsetHeight"),a=function(e,t,n,a){var o,i=e.split("-");switch(i[0]){case"right":o={top:t.top+t.height/2-a/2,left:t.left+t.width};break;case"bottom":o={top:t.top+t.height,left:t.left+t.width/2-n/2};break;case"left":o={top:t.top+t.height/2-a/2,left:t.left-n};break;default:o={top:t.top-a,left:t.left+t.width/2-n/2}}if(!i[1])return o;if("top"===i[0]||"bottom"===i[0])switch(i[1]){case"left":o.left=t.left;break;case"right":o.left=t.left+t.width-n}else if("left"===i[0]||"right"===i[0])switch(i[1]){case"top":o.top=t.top-a;break;case"bottom":o.top=t.top+t.height}return o}(D.placement,e,t,n);a.top+="px",a.left+="px",M.css(a)}},w.$onKeyUp=function(e){27===e.which&&w.$isShown&&(w.hide(),e.stopPropagation())},w.$onFocusKeyUp=function(e){27===e.which&&(t[0].blur(),e.stopPropagation())},w.$onFocusElementMouseDown=function(e){e.preventDefault(),e.stopPropagation(),w.$isShown?t[0].blur():t[0].focus()},w}}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(e,t,n,a,o){return{restrict:"EAC",scope:!0,link:function(e,t,i){var r={scope:e};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","type","customClass"],function(e){angular.isDefined(i[e])&&(r[e]=i[e])}),e.hasOwnProperty("title")||(e.title=""),i.$observe("title",function(t){if(angular.isDefined(t)||!e.hasOwnProperty("title")){var a=e.title;e.title=n.trustAsHtml(t),angular.isDefined(a)&&o(function(){s&&s.$applyPlacement()})}}),i.bsTooltip&&e.$watch(i.bsTooltip,function(t,n){angular.isObject(t)?angular.extend(e,t):e.title=t,angular.isDefined(n)&&o(function(){s&&s.$applyPlacement()})},!0),i.bsShow&&e.$watch(i.bsShow,function(e){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(tooltip),?/i)),!0===e?s.show():s.hide())}),i.bsEnabled&&e.$watch(i.bsEnabled,function(e){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|1|,?(tooltip),?/i)),s.setEnabled(!1!==e))});var s=a(t,r);e.$on("$destroy",function(){s&&s.destroy(),s=r=null})}}}]),angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var e=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",template:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"filter",limit:6,comparator:""};this.$get=["$window","$rootScope","$tooltip",function(t,n,a){function o(t,n,o){var i={},r=angular.extend({},e,o);i=a(t,r);var s=o.scope,l=i.$scope;l.$resetMatches=function(){l.$matches=[],l.$activeIndex=0},l.$resetMatches(),l.$activate=function(e){l.$$postDigest(function(){i.activate(e)})},l.$select=function(e){l.$$postDigest(function(){i.select(e)})},l.$isVisible=function(){return i.$isVisible()},i.update=function(e){l.$matches=e,l.$activeIndex>=e.length&&(l.$activeIndex=0)},i.activate=function(e){l.$activeIndex=e},i.select=function(e){var t=l.$matches[e].value;n.$setViewValue(t),n.$render(),l.$resetMatches(),s&&s.$digest(),l.$emit(r.prefixEvent+".select",t,e)},i.$isVisible=function(){return r.minLength&&n?l.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=r.minLength:!!l.$matches.length},i.$getIndex=function(e){var t=l.$matches.length,n=t;if(t){for(n=t;n--&&l.$matches[n].value!==e;);if(!(n<0))return n}},i.$onMouseDown=function(e){e.preventDefault(),e.stopPropagation()},i.$onKeyDown=function(e){/(38|40|13)/.test(e.keyCode)&&(i.$isVisible()&&(e.preventDefault(),e.stopPropagation()),13===e.keyCode&&l.$matches.length?i.select(l.$activeIndex):38===e.keyCode&&0<l.$activeIndex?l.$activeIndex--:40===e.keyCode&&l.$activeIndex<l.$matches.length-1?l.$activeIndex++:angular.isUndefined(l.$activeIndex)&&(l.$activeIndex=0),l.$digest())};var u=i.show;i.show=function(){u(),i.$element.on("mousedown",i.$onMouseDown),r.keyboard&&t.on("keydown",i.$onKeyDown)};var c=i.hide;return i.hide=function(){i.$element.off("mousedown",i.$onMouseDown),r.keyboard&&t.off("keydown",i.$onKeyDown),c()},i}return angular.element(t.document.body),o.defaults=e,o}]}).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(e,t,a,o,i){var r=o.defaults;return{restrict:"EAC",require:"ngModel",link:function(e,t,a,s){var l={scope:e};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","filter","limit","minLength","watchOptions","selectMode","comparator"],function(e){angular.isDefined(a[e])&&(l[e]=a[e])});var u=l.filter||r.filter,c=l.limit||r.limit,d=l.comparator||r.comparator,f=a.ngOptions;u&&(f+=" | "+u+":$viewValue"),d&&(f+=":"+d),c&&(f+=" | limitTo:"+c);var p=i(f),g=o(t,s,l);if(l.watchOptions){var m=p.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim();e.$watch(m,function(){p.valuesFn(e,s).then(function(e){g.update(e),s.$render()})},!0)}e.$watch(a.ngModel,function(t){e.$modelValue=t,p.valuesFn(e,s).then(function(e){if(l.selectMode&&!e.length&&0<t.length)s.$setViewValue(s.$viewValue.substring(0,s.$viewValue.length-1));else{e.length>c&&(e=e.slice(0,c));var n=g.$isVisible();n&&g.update(e),(1!==e.length||e[0].value!==t)&&(!n&&g.update(e),s.$render())}})}),s.$formatters.push(function(e){var t=p.displayValue(e);return void 0===t?"":t}),s.$render=function(){if(s.$isEmpty(s.$viewValue))return t.val("");var e=g.$getIndex(s.$modelValue),n=angular.isDefined(e)?g.$scope.$matches[e].label:s.$viewValue;n=angular.isObject(n)?n.label:n,t.val(n?n.toString().replace(/<(?:.|\n)*?>/gm,"").trim():"")},e.$on("$destroy",function(){g&&g.destroy(),g=l=null})}}}])}(window,document),function(){"use strict";angular.module("mgcrea.ngStrap.aside").run(["$templateCache",function(t){t.put("aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(t){t.put("alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span></div>')}]),angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(t){t.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn-warning pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn-warning pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-show="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn-default" style="width: 100%" ng-class="{\'btn-danger\': el.selected, \'btn-warning btn-today\': el.isToday && !el.selected, \'btn btn-default disabled\': el.disabled}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody></table></div>')}]),angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(t){t.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu"><li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(t){t.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(t){t.put("popover/popover.tpl.html",'<div class="popover"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(t){t.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button class="btn btn-default btn-xs" ng-click="$selectAll()">All</button> <button class="btn btn-default btn-xs" ng-click="$selectNone()">None</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><span ng-bind="match.label"></span></a> <i style="cursor: default" class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)" ng-click="$select($index, $event)"></i></li></ul>')}]),angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(t){t.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn-cal btn-default-cal pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn-cal btn-default-cal pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn-cal btn-default-cal" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn-cal btn-default-cal" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn-cal btn-default-cal" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn-cal btn-default-cal" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn-cal btn-default-cal pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn-cal btn-default-cal pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>')}]),angular.module("mgcrea.ngStrap.tab").run(["$templateCache",function(t){t.put("tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist"><li ng-repeat="$pane in $panes" ng-class="$index == $panes.$active ? $activeClass : \'\'"><a role="tab" data-toggle="tab" ng-click="$setActive($index)" data-index="{{ $index }}" ng-bind-html="$pane.title"></a></li></ul><div ng-transclude class="tab-content"></div>')}]),angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(t){t.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}]),angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(t){t.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}])}(window,document),window,document,angular.module("angularUtils.directives.dirPagination",[]).directive("dirPaginate",["$compile","$parse","paginationService",function($compile,$parse,paginationService){return{terminal:!0,multiElement:!0,priority:100,compile:function(tElement,tAttrs){var expression=tAttrs.dirPaginate,match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),filterPattern=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(null===match[2].match(filterPattern))throw"pagination directive: the 'itemsPerPage' filter must be set.";var itemsPerPageFilterRemoved=match[2].replace(filterPattern,""),collectionGetter=$parse(itemsPerPageFilterRemoved);!function(tElement){angular.forEach(tElement,function(el){1===el.nodeType&&angular.element(el).attr("dir-paginate-no-compile",!0)})}(tElement);var rawId=tAttrs.paginationId||"__default";return paginationService.registerInstance(rawId),function(scope,element,attrs){var paginationId=$parse(attrs.paginationId)(scope)||attrs.paginationId||"__default";paginationService.registerInstance(paginationId);var repeatExpression=function(expression,paginationId){var idDefinedInFilter=!!expression.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return"__default"===paginationId||idDefinedInFilter?expression:expression.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+paginationId+"'")}(expression,paginationId);!function(element,attrs,repeatExpression){element[0].hasAttribute("dir-paginate-start")||element[0].hasAttribute("data-dir-paginate-start")?(attrs.$set("ngRepeatStart",repeatExpression),element.eq(element.length-1).attr("ng-repeat-end",!0)):attrs.$set("ngRepeat",repeatExpression)}(element,attrs,repeatExpression),function(element){angular.forEach(element,function(el){1===el.nodeType&&angular.element(el).removeAttr("dir-paginate-no-compile")}),element.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),element.eq(element.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}(element);var compiled=$compile(element),currentPageGetter=function(scope,attrs,paginationId){var currentPageGetter;if(attrs.currentPage)currentPageGetter=$parse(attrs.currentPage);else{var defaultCurrentPage=(paginationId+"__currentPage").replace(/\W/g,"_");scope[defaultCurrentPage]=1,currentPageGetter=$parse(defaultCurrentPage)}return currentPageGetter}(scope,attrs,paginationId);paginationService.setCurrentPageParser(paginationId,currentPageGetter,scope),void 0!==attrs.totalItems?(paginationService.setAsyncModeTrue(paginationId),scope.$watch(function(){return $parse(attrs.totalItems)(scope)},function(result){0<=result&&paginationService.setCollectionLength(paginationId,result)})):(paginationService.setAsyncModeFalse(paginationId),scope.$watchCollection(function(){return collectionGetter(scope)},function(collection){if(collection){var collectionLength=collection instanceof Array?collection.length:Object.keys(collection).length;paginationService.setCollectionLength(paginationId,collectionLength)}})),compiled(scope)}}}}]).directive("dirPaginateNoCompile",function(){return{priority:5e3,terminal:!0}}).directive("dirPaginationControls",["paginationService","paginationTemplate",function(paginationService,paginationTemplate){var numberRegex=/^\d+$/,DDO={restrict:"AE",scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:function(scope,element,attrs){var rawId=attrs.paginationId||"__default",paginationId=scope.paginationId||attrs.paginationId||"__default";if(!paginationService.isRegistered(paginationId)&&!paginationService.isRegistered(rawId)){var idMessage="__default"!==paginationId?" (id: "+paginationId+") ":" ";window.console&&console.warn("Pagination directive: the pagination controls"+idMessage+"cannot be used without the corresponding pagination directive, which was not found at link time.")}scope.maxSize||(scope.maxSize=9),scope.autoHide=void 0===scope.autoHide||scope.autoHide,scope.directionLinks=!angular.isDefined(attrs.directionLinks)||scope.$parent.$eval(attrs.directionLinks),scope.boundaryLinks=!!angular.isDefined(attrs.boundaryLinks)&&scope.$parent.$eval(attrs.boundaryLinks);var paginationRange=Math.max(scope.maxSize,5);function goToPage(num){if(paginationService.isRegistered(paginationId)&&isValidPageNumber(num)){var oldPageNumber=scope.pagination.current;scope.pages=generatePagesArray(num,paginationService.getCollectionLength(paginationId),paginationService.getItemsPerPage(paginationId),paginationRange),scope.pagination.current=num,updateRangeValues(),scope.onPageChange&&scope.onPageChange({newPageNumber:num,oldPageNumber:oldPageNumber})}}function generatePagination(){if(paginationService.isRegistered(paginationId)){var page=parseInt(paginationService.getCurrentPage(paginationId))||1;scope.pages=generatePagesArray(page,paginationService.getCollectionLength(paginationId),paginationService.getItemsPerPage(paginationId),paginationRange),scope.pagination.current=page,scope.pagination.last=scope.pages[scope.pages.length-1],scope.pagination.last<scope.pagination.current?scope.setCurrent(scope.pagination.last):updateRangeValues()}}function updateRangeValues(){if(paginationService.isRegistered(paginationId)){var currentPage=paginationService.getCurrentPage(paginationId),itemsPerPage=paginationService.getItemsPerPage(paginationId),totalItems=paginationService.getCollectionLength(paginationId);scope.range.lower=(currentPage-1)*itemsPerPage+1,scope.range.upper=Math.min(currentPage*itemsPerPage,totalItems),scope.range.total=totalItems}}function isValidPageNumber(num){return numberRegex.test(num)&&0<num&&num<=scope.pagination.last}scope.pages=[],scope.pagination={last:1,current:1},scope.range={lower:1,upper:1,total:1},scope.$watch("maxSize",function(val){val&&(paginationRange=Math.max(scope.maxSize,5),generatePagination())}),scope.$watch(function(){if(paginationService.isRegistered(paginationId))return(paginationService.getCollectionLength(paginationId)+1)*paginationService.getItemsPerPage(paginationId)},function(length){0<length&&generatePagination()}),scope.$watch(function(){if(paginationService.isRegistered(paginationId))return paginationService.getItemsPerPage(paginationId)},function(current,previous){current!=previous&&void 0!==previous&&goToPage(scope.pagination.current)}),scope.$watch(function(){if(paginationService.isRegistered(paginationId))return paginationService.getCurrentPage(paginationId)},function(currentPage,previousPage){currentPage!=previousPage&&goToPage(currentPage)}),scope.setCurrent=function(num){paginationService.isRegistered(paginationId)&&isValidPageNumber(num)&&(num=parseInt(num,10),paginationService.setCurrentPage(paginationId,num))},scope.tracker=function(id,index){return id+"_"+index}}},templateString=paginationTemplate.getString();return void 0!==templateString?DDO.template=templateString:DDO.templateUrl=function(elem,attrs){return attrs.templateUrl||paginationTemplate.getPath()},DDO;function generatePagesArray(currentPage,collectionLength,rowsPerPage,paginationRange){var position,pages=[],totalPages=Math.ceil(collectionLength/rowsPerPage),halfWay=Math.ceil(paginationRange/2);position=currentPage<=halfWay?"start":totalPages-halfWay<currentPage?"end":"middle";for(var ellipsesNeeded=paginationRange<totalPages,i=1;i<=totalPages&&i<=paginationRange;){var pageNumber=calculatePageNumber(i,currentPage,paginationRange,totalPages),openingEllipsesNeeded=2===i&&("middle"===position||"end"===position),closingEllipsesNeeded=i===paginationRange-1&&("middle"===position||"start"===position);ellipsesNeeded&&(openingEllipsesNeeded||closingEllipsesNeeded)?pages.push("..."):pages.push(pageNumber),i++}return pages}function calculatePageNumber(i,currentPage,paginationRange,totalPages){var halfWay=Math.ceil(paginationRange/2);return i===paginationRange?totalPages:1===i?i:paginationRange<totalPages?totalPages-halfWay<currentPage?totalPages-paginationRange+i:halfWay<currentPage?currentPage-halfWay+i:i:i}}]).filter("itemsPerPage",["paginationService",function(paginationService){return function(collection,itemsPerPage,paginationId){if(void 0===paginationId&&(paginationId="__default"),!paginationService.isRegistered(paginationId))throw"pagination directive: the itemsPerPage id argument (id: "+paginationId+") does not match a registered pagination-id.";var end,start;if(angular.isObject(collection)){if(itemsPerPage=parseInt(itemsPerPage)||9999999999,start=paginationService.isAsyncMode(paginationId)?0:(paginationService.getCurrentPage(paginationId)-1)*itemsPerPage,end=start+itemsPerPage,paginationService.setItemsPerPage(paginationId,itemsPerPage),collection instanceof Array)return collection.slice(start,end);var slicedObject={};return angular.forEach(function(obj){if(Object.keys)return Object.keys(obj);var objKeys=[];for(var i in obj)obj.hasOwnProperty(i)&&objKeys.push(i);return objKeys}(collection).slice(start,end),function(key){slicedObject[key]=collection[key]}),slicedObject}return collection}}]).service("paginationService",function(){var lastRegisteredInstance,instances={};this.registerInstance=function(instanceId){void 0===instances[instanceId]&&(instances[instanceId]={asyncMode:!1},lastRegisteredInstance=instanceId)},this.deregisterInstance=function(instanceId){delete instances[instanceId]},this.isRegistered=function(instanceId){return void 0!==instances[instanceId]},this.getLastInstanceId=function(){return lastRegisteredInstance},this.setCurrentPageParser=function(instanceId,val,scope){instances[instanceId].currentPageParser=val,instances[instanceId].context=scope},this.setCurrentPage=function(instanceId,val){instances[instanceId].currentPageParser.assign(instances[instanceId].context,val)},this.getCurrentPage=function(instanceId){var parser=instances[instanceId].currentPageParser;return parser?parser(instances[instanceId].context):1},this.setItemsPerPage=function(instanceId,val){instances[instanceId].itemsPerPage=val},this.getItemsPerPage=function(instanceId){return instances[instanceId].itemsPerPage},this.setCollectionLength=function(instanceId,val){instances[instanceId].collectionLength=val},this.getCollectionLength=function(instanceId){return instances[instanceId].collectionLength},this.setAsyncModeTrue=function(instanceId){instances[instanceId].asyncMode=!0},this.setAsyncModeFalse=function(instanceId){instances[instanceId].asyncMode=!1},this.isAsyncMode=function(instanceId){return instances[instanceId].asyncMode}}).provider("paginationTemplate",function(){var templateString,templatePath="angularUtils.directives.dirPagination.template";this.setPath=function(path){templatePath=path},this.setString=function(str){templateString=str},this.$get=function(){return{getPath:function(){return templatePath},getString:function(){return templateString}}}}).run(["$templateCache",function($templateCache){$templateCache.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}]),function(factory){"use strict";"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("jquery")):factory(window.jQuery)}(function($){"use strict";var objUrl,compare,isIE,isEdge,handler,previewCache,getNum,hasFileAPISupport,hasDragDropSupport,hasFileUploadSupport,addCss,STYLE_SETTING,OBJECT_PARAMS,DEFAULT_PREVIEW,defaultFileActionSettings,defaultLayoutTemplates,defaultPreviewTemplates,defaultPreviewTypes,defaultPreviewSettings,FileInput,defaultFileTypeSettings,isEmpty,isArray,isSet,getElement,uniqId,htmlEncode,replaceTags,cleanMemory;$.fn.fileinputLocales={},objUrl=window.URL||window.webkitURL,compare=function(input,str,exact){return void 0!==input&&(exact?input===str:input.match(str))},isIE=function(ver){if("Microsoft Internet Explorer"!==navigator.appName)return!1;if(10===ver)return new RegExp("msie\\s"+ver,"i").test(navigator.userAgent);var status,div=document.createElement("div");return div.innerHTML="\x3c!--[if IE "+ver+"]> <i></i> <![endif]--\x3e",status=div.getElementsByTagName("i").length,document.body.appendChild(div),div.parentNode.removeChild(div),status},isEdge=function(){return new RegExp("Edge/[0-9]+","i").test(navigator.userAgent)},handler=function($el,event,callback,skipNS){var ev=skipNS?event:event.split(" ").join(".fileinput ")+".fileinput";$el.off(ev).on(ev,callback)},previewCache={data:{},init:function(obj){var content=obj.initialPreview,id=obj.id;0<content.length&&!isArray(content)&&(content=content.split(obj.initialPreviewDelimiter)),previewCache.data[id]={content:content,config:obj.initialPreviewConfig,tags:obj.initialPreviewThumbTags,delimiter:obj.initialPreviewDelimiter,template:obj.previewGenericTemplate,msg:function(n){return obj._getMsgSelected(n)},initId:obj.previewInitId,footer:obj._getLayoutTemplate("footer").replace(/\{progress}/g,obj._renderThumbProgress()),isDelete:obj.initialPreviewShowDelete,caption:obj.initialCaption,actions:function(showUpload,showDelete,disabled,url,key){return obj._renderFileActions(showUpload,showDelete,disabled,url,key)}}},fetch:function(id){return previewCache.data[id].content.filter(function(n){return null!==n})},count:function(id,all){return previewCache.data[id]&&previewCache.data[id].content?all?previewCache.data[id].content.length:previewCache.fetch(id).length:0},get:function(id,i,isDisabled){var out,$tmp,ind="init_"+i,data=previewCache.data[id],config=data.config[i],previewId=data.initId+"-"+ind,frameClass=" file-preview-initial";return isDisabled=void 0===isDisabled||isDisabled,null===data.content[i]?"":(isEmpty(config)||isEmpty(config.frameClass)||(frameClass+=" "+config.frameClass),out=data.template.replace(/\{previewId}/g,previewId).replace(/\{frameClass}/g,frameClass).replace(/\{fileindex}/g,ind).replace(/\{content}/g,data.content[i]).replace(/\{footer}/g,previewCache.footer(id,i,isDisabled)),data.tags.length&&data.tags[i]&&(out=replaceTags(out,data.tags[i])),isEmpty(config)||isEmpty(config.frameAttr)||(($tmp=$(document.createElement("div")).html(out)).find(".file-preview-initial").attr(config.frameAttr),out=$tmp.html(),$tmp.remove()),out)},add:function(id,content,config,tags,append){var index,data=$.extend(!0,{},previewCache.data[id]);return isArray(content)||(content=content.split(data.delimiter)),append?(index=data.content.push(content)-1,data.config[index]=config,data.tags[index]=tags):(index=content.length,data.content=content,data.config=config,data.tags=tags),previewCache.data[id]=data,index},set:function(id,content,config,tags,append){var i,data=$.extend(!0,{},previewCache.data[id]);if(content&&content.length&&(isArray(content)||(content=content.split(data.delimiter)),content.filter(function(n){return null!==n}).length)){if(void 0===data.content&&(data.content=[]),void 0===data.config&&(data.config=[]),void 0===data.tags&&(data.tags=[]),append){for(i=0;i<content.length;i++)content[i]&&data.content.push(content[i]);for(i=0;i<config.length;i++)config[i]&&data.config.push(config[i]);for(i=0;i<tags.length;i++)tags[i]&&data.tags.push(tags[i])}else data.content=content,data.config=config,data.tags=tags;previewCache.data[id]=data}},unset:function(id,index){var chk=previewCache.count(id);if(chk){if(1===chk)return previewCache.data[id].content=[],void(previewCache.data[id].config=[]);previewCache.data[id].content[index]=null,previewCache.data[id].config[index]=null}},out:function(id){var html="",data=previewCache.data[id],len=previewCache.count(id,!0);if(0===len)return{content:"",caption:""};for(var i=0;i<len;i++)html+=previewCache.get(id,i);return{content:html,caption:data.msg(previewCache.count(id))}},footer:function(id,i,isDisabled){var data=previewCache.data[id];if(isDisabled=void 0===isDisabled||isDisabled,0===data.config.length||isEmpty(data.config[i]))return"";var config=data.config[i],caption=isSet("caption",config)?config.caption:"",width=isSet("width",config)?config.width:"auto",url=!!isSet("url",config)&&config.url,key=isSet("key",config)?config.key:null,disabled=!1===url&&isDisabled,actions=data.isDelete?data.actions(!1,!0,disabled,url,key):"";return data.footer.replace(/\{actions}/g,actions).replace(/\{caption}/g,caption).replace(/\{width}/g,width).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,"")}},getNum=function(num,def){return def=def||0,"number"==typeof num?num:("string"==typeof num&&(num=parseFloat(num)),isNaN(num)?def:num)},hasFileAPISupport=function(){return!(!window.File||!window.FileReader)},hasDragDropSupport=function(){var div=document.createElement("div");return!isIE(9)&&!isEdge()&&(void 0!==div.draggable||void 0!==div.ondragstart&&void 0!==div.ondrop)},hasFileUploadSupport=function(){return hasFileAPISupport()&&window.FormData},addCss=function($el,css){$el.removeClass(css).addClass(css)},defaultFileActionSettings={removeIcon:'<i class="glyphicon glyphicon-trash text-danger"></i>',removeClass:"btn btn-xs btn-default",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload text-info"></i>',uploadClass:"btn btn-xs btn-default",uploadTitle:"Upload file",indicatorNew:'<i class="glyphicon glyphicon-hand-down text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hand-up text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."},DEFAULT_PREVIEW='<div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',STYLE_SETTING='style="width:{width};height:{height};"',OBJECT_PARAMS='      <param name="controller" value="true" />\n      <param name="allowFullScreen" value="true" />\n      <param name="allowScriptAccess" value="always" />\n      <param name="autoPlay" value="false" />\n      <param name="autoStart" value="false" />\n      <param name="quality" value="high" />\n',defaultLayoutTemplates={main1:'{preview}\n<div class="kv-upload-progress hide"></div>\n<div class="input-group {class}">\n   {caption}\n   <div class="input-group-btn">\n       {remove}\n       {cancel}\n       {upload}\n       {browse}\n   </div>\n</div>',main2:'{preview}\n<div class="kv-upload-progress hide"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',preview:'<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',close:'<div class="close fileinput-remove">&times;</div>\n',zoom:'<button type="button" class="btn btn-default btn-xs btn-block" title="{zoomTitle}: {caption}" onclick="{dialog}">\n   {zoomInd}\n</button>\n',icon:'<span class="glyphicon glyphicon-file kv-caption-icon"></span>',caption:'<div tabindex="500" class="form-control file-caption {class}">\n   <div class="file-caption-name"></div>\n</div>\n',modal:'<div id="{id}" class="file-preview-detail-modal modal fade" tabindex="-1">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n        <h3 class="modal-title">{heading} <small>{title}</small></h3>\n      </div>\n      <div class="modal-body">\n           <pre>{body}</pre>\n      </div>\n    </div>\n  </div>\n</div>',progress:'<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {percent}%\n     </div>\n</div>',footer:'<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">{caption}</div>\n    {progress} {actions}\n</div>',actions:'<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload}{delete}{other}    </div>\n    <div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>\n    <div class="clearfix"></div>\n</div>',actionDelete:'<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n',actionUpload:'<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">   {uploadIcon}\n</button>\n',btnDefault:'<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon}{label}</button>',btnLink:'<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon}{label}</a>',btnBrowse:'<div tabindex="500" class="{css}" {status}>{icon}{label}</div>'},defaultPreviewTemplates={generic:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   {content}\n   {footer}\n</div>\n',html:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n    <object class="file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n       <div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n    </object>\n   {footer}\n</div>',image:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   <img src="{data}" class="file-preview-image" title="{caption}" alt="{caption}" style="width:{width};height:{height};">\n   {footer}\n</div>\n',text:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}">\n   <pre class="file-preview-text" title="{caption}" style="width:{width};height:{height};">{data}</pre>\n   {zoom}\n   {footer}\n</div>',video:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" style="width:{width};height:{height};">\n   <video width="{width}" height="{height}" controls>\n       <source src="{data}" type="{type}">\n       <div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n   </video>\n   {footer}\n</div>\n',audio:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" style="width:{width};height:{height};">\n   <audio controls>\n       <source src="{data}" type="{type}">\n       <div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n   </audio>\n   {footer}\n</div>',flash:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" style="width:{width};height:{height};">\n   <object class="file-object" type="application/x-shockwave-flash" width="{width}" height="{height}" data="{data}">\n      <param name="controller" value="true" />\n      <param name="allowFullScreen" value="true" />\n      <param name="allowScriptAccess" value="always" />\n      <param name="autoPlay" value="false" />\n      <param name="autoStart" value="false" />\n      <param name="quality" value="high" />\n       <div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n   </object>\n   {footer}\n</div>\n',object:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" style="width:{width};height:{height};">\n   <object class="file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n       <param name="movie" value="{caption}" />\n      <param name="controller" value="true" />\n      <param name="allowFullScreen" value="true" />\n      <param name="allowScriptAccess" value="always" />\n      <param name="autoPlay" value="false" />\n      <param name="autoStart" value="false" />\n      <param name="quality" value="high" />\n         <div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n   </object>\n   {footer}\n</div>',other:'<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" title="{caption}" style="width:{width};height:{height};">\n   <div class="file-preview-other-frame">\n   <div class="file-preview-other">\n   <span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>\n   </div>\n   <div class="file-preview-other-footer">{footer}</div>\n</div>'},defaultPreviewTypes=["image","html","text","video","audio","flash","object"],defaultPreviewSettings={image:{width:"auto",height:"160px"},html:{width:"213px",height:"160px"},text:{width:"160px",height:"136px"},video:{width:"213px",height:"160px"},audio:{width:"213px",height:"80px"},flash:{width:"213px",height:"160px"},object:{width:"160px",height:"160px"},other:{width:"160px",height:"160px"}},defaultFileTypeSettings={image:function(vType,vName){return compare(vType,"image.*")||compare(vName,/\.(gif|png|jpe?g)$/i)},html:function(vType,vName){return compare(vType,"text/html")||compare(vName,/\.(htm|html)$/i)},text:function(vType,vName){return compare(vType,"text.*")||compare(vType,/\.(xml|javascript)$/i)||compare(vName,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(vType,vName){return compare(vType,"video.*")&&(compare(vType,/(ogg|mp4|mp?g|webm|3gp)$/i)||compare(vName,/\.(og?|mp4|webm|mp?g|3gp)$/i))},audio:function(vType,vName){return compare(vType,"audio.*")&&(compare(vType,/(ogg|mp3|mp?g|wav)$/i)||compare(vName,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(vType,vName){return compare(vType,"application/x-shockwave-flash",!0)||compare(vName,/\.(swf)$/i)},object:function(vType,vName){return compare(vType,"application/pdf",!0)||compare(vName,/\.(pdf)$/i)},other:function(){return!0}},isEmpty=function(value,trim){return null==value||0===value.length||trim&&""===$.trim(value)},isArray=function(a){return Array.isArray(a)||"[object Array]"===Object.prototype.toString.call(a)},isSet=function(needle,haystack){return"object"==typeof haystack&&needle in haystack},getElement=function(options,param,value){return isEmpty(options)||isEmpty(options[param])?value:$(options[param])},uniqId=function(){return Math.round((new Date).getTime()+100*Math.random())},htmlEncode=function(str){return str.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},replaceTags=function(str,tags){var out=str;return tags&&$.each(tags,function(key,value){"function"==typeof value&&(value=value()),out=out.split(key).join(value)}),out},cleanMemory=function($thumb){var data=$thumb.is("img")?$thumb.attr("src"):$thumb.find("source").attr("src");objUrl.revokeObjectURL(data)},(FileInput=function(element,options){this.$element=$(element),this._validate()&&(this.isPreviewable=hasFileAPISupport(),this.isIE9=isIE(9),this.isIE10=isIE(10),this.isPreviewable||this.isIE9?(this._init(options),this._listen()):this.$element.removeClass("file-loading"))}).prototype={constructor:FileInput,_init:function(options){var t,self=this,$el=self.$element;$.each(options,function(key,value){switch(key){case"minFileCount":case"maxFileCount":case"maxFileSize":self[key]=getNum(value);break;default:self[key]=value}}),self.fileInputCleared=!1,self.fileBatchCompleted=!0,self.isPreviewable||(self.showPreview=!1),self.uploadFileAttr=isEmpty($el.attr("name"))?"file_data":$el.attr("name"),self.reader=null,self.formdata={},self.clearStack(),self.uploadCount=0,self.uploadStatus={},self.uploadLog=[],self.uploadAsyncCount=0,self.loadedImages=[],self.totalImagesCount=0,self.ajaxRequests=[],self.isError=!1,self.ajaxAborted=!1,self.cancelling=!1,t=self._getLayoutTemplate("progress"),self.progressTemplate=t.replace("{class}",self.progressClass),self.progressCompleteTemplate=t.replace("{class}",self.progressCompleteClass),self.progressErrorTemplate=t.replace("{class}",self.progressErrorClass),self.dropZoneEnabled=hasDragDropSupport()&&self.dropZoneEnabled,self.isDisabled=self.$element.attr("disabled")||self.$element.attr("readonly"),self.isUploadable=hasFileUploadSupport()&&!isEmpty(self.uploadUrl),self.slug="function"==typeof options.slugCallback?options.slugCallback:self._slugDefault,self.mainTemplate=self.showCaption?self._getLayoutTemplate("main1"):self._getLayoutTemplate("main2"),self.captionTemplate=self._getLayoutTemplate("caption"),self.previewGenericTemplate=self._getPreviewTemplate("generic"),self.resizeImage&&(self.maxImageWidth||self.maxImageHeight)&&(self.imageCanvas=document.createElement("canvas"),self.imageCanvasContext=self.imageCanvas.getContext("2d")),isEmpty(self.$element.attr("id"))&&self.$element.attr("id",uniqId()),void 0===self.$container?self.$container=self._createContainer():self._refreshContainer(),self.$dropZone=self.$container.find(".file-drop-zone"),self.$progress=self.$container.find(".kv-upload-progress"),self.$btnUpload=self.$container.find(".fileinput-upload"),self.$captionContainer=getElement(options,"elCaptionContainer",self.$container.find(".file-caption")),self.$caption=getElement(options,"elCaptionText",self.$container.find(".file-caption-name")),self.$previewContainer=getElement(options,"elPreviewContainer",self.$container.find(".file-preview")),self.$preview=getElement(options,"elPreviewImage",self.$container.find(".file-preview-thumbnails")),self.$previewStatus=getElement(options,"elPreviewStatus",self.$container.find(".file-preview-status")),self.$errorContainer=getElement(options,"elErrorContainer",self.$previewContainer.find(".kv-fileinput-error")),isEmpty(self.msgErrorClass)||addCss(self.$errorContainer,self.msgErrorClass),self.$errorContainer.hide(),self.fileActionSettings=$.extend(!0,defaultFileActionSettings,options.fileActionSettings),self.previewInitId="preview-"+uniqId(),self.id=self.$element.attr("id"),previewCache.init(self),self._initPreview(!0),self._initPreviewDeletes(),self.options=options,self._setFileDropZoneTitle(),self.$element.removeClass("file-loading"),self.$element.attr("disabled")&&self.disable()},_validate:function(){return"file"===this.$element.attr("type")||('<div class="help-block alert alert-warning"><h4>Invalid Input Type</h4>You must set an input <code>type = file</code> for <b>bootstrap-fileinput</b> plugin to initialize.</div>',this.$element.after('<div class="help-block alert alert-warning"><h4>Invalid Input Type</h4>You must set an input <code>type = file</code> for <b>bootstrap-fileinput</b> plugin to initialize.</div>'),!1)},_errorsExist:function(){var $err;return!!this.$errorContainer.find("li").length||(($err=$(document.createElement("div")).html(this.$errorContainer.html())).find("span.kv-error-close").remove(),$err.find("ul").remove(),!!$.trim($err.text()).length)},_errorHandler:function(evt,caption){var err=evt.target.error;err.code===err.NOT_FOUND_ERR?this._showError(this.msgFileNotFound.replace("{name}",caption)):err.code===err.SECURITY_ERR?this._showError(this.msgFileSecured.replace("{name}",caption)):err.code===err.NOT_READABLE_ERR?this._showError(this.msgFileNotReadable.replace("{name}",caption)):err.code===err.ABORT_ERR?this._showError(this.msgFilePreviewAborted.replace("{name}",caption)):this._showError(this.msgFilePreviewError.replace("{name}",caption))},_addError:function(msg){var $error=this.$errorContainer;msg&&$error.length&&($error.html(this.errorCloseButton+msg),handler($error.find(".kv-error-close"),"click",function(){$error.fadeOut("slow")}))},_resetErrors:function(fade){var $error=this.$errorContainer;this.isError=!1,this.$container.removeClass("has-error"),$error.html(""),fade?$error.fadeOut("slow"):$error.hide()},_showFolderError:function(folders){var msg,$error=this.$errorContainer;folders&&(msg=this.msgFoldersNotAllowed.replace(/\{n}/g,folders),this._addError(msg),addCss(this.$container,"has-error"),$error.fadeIn(800),this._raise("filefoldererror",[folders,msg]))},_showUploadError:function(msg,params,event){var $error=this.$errorContainer,ev=event||"fileuploaderror",e=params&&params.id?'<li data-file-id="'+params.id+'">'+msg+"</li>":"<li>"+msg+"</li>";return 0===$error.find("ul").length?this._addError("<ul>"+e+"</ul>"):$error.find("ul").append(e),$error.fadeIn(800),this._raise(ev,[params,msg]),this.$container.removeClass("file-input-new"),addCss(this.$container,"has-error"),!0},_showError:function(msg,params,event){var $error=this.$errorContainer,ev=event||"fileerror";return(params=params||{}).reader=this.reader,this._addError(msg),$error.fadeIn(800),this._raise(ev,[params,msg]),this.isUploadable||this._clearFileInput(),this.$container.removeClass("file-input-new"),addCss(this.$container,"has-error"),this.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(params){var label=1<this.minFileCount?this.filePlural:this.fileSingle,msg=this.msgFilesTooLess.replace("{n}",this.minFileCount).replace("{files}",label),$error=this.$errorContainer;this._addError(msg),this.isError=!0,this._updateFileDetails(0),$error.fadeIn(800),this._raise("fileerror",[params,msg]),this._clearFileInput(),addCss(this.$container,"has-error")},_parseError:function(jqXHR,errorThrown,fileName){var errMsg=$.trim(errorThrown+""),dot="."===errMsg.slice(-1)?"":".",text=void 0!==jqXHR.responseJSON&&void 0!==jqXHR.responseJSON.error?jqXHR.responseJSON.error:jqXHR.responseText;return this.cancelling&&this.msgUploadAborted&&(errMsg=this.msgUploadAborted),this.showAjaxErrorDetails&&text?errMsg+=dot+(text=0<(text=$.trim(text.replace(/\n\s*\n/g,"\n"))).length?"<pre>"+text+"</pre>":""):errMsg+=dot,this.cancelling=!1,fileName?"<b>"+fileName+": </b>"+errMsg:errMsg},_parseFileType:function(file){var vType,cat,i;for(i=0;i<defaultPreviewTypes.length;i+=1)if(vType=(isSet(cat=defaultPreviewTypes[i],this.fileTypeSettings)?this.fileTypeSettings[cat]:defaultFileTypeSettings[cat])(file.type,file.name)?cat:"",!isEmpty(vType))return vType;return"other"},_parseFilePreviewIcon:function(content,fname){var ext,self=this,icn=self.previewFileIcon;return fname&&-1<fname.indexOf(".")&&(ext=fname.split(".").pop(),self.previewFileIconSettings&&self.previewFileIconSettings[ext]&&(icn=self.previewFileIconSettings[ext]),self.previewFileExtSettings&&$.each(self.previewFileExtSettings,function(key,func){self.previewFileIconSettings[key]&&func(ext)&&(icn=self.previewFileIconSettings[key])})),-1<content.indexOf("{previewFileIcon}")?content.replace(/\{previewFileIconClass}/g,self.previewFileIconClass).replace(/\{previewFileIcon}/g,icn):content},_raise:function(event,params){var e=$.Event(event);if(void 0!==params?this.$element.trigger(e,params):this.$element.trigger(e),e.isDefaultPrevented())return!1;if(!e.result)return e.result;switch(event){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:this.ajaxAborted=e.result}return!0},_listen:function(){var $el=this.$element,$form=$el.closest("form"),$cont=this.$container;handler($el,"change",$.proxy(this._change,this)),handler(this.$btnFile,"click",$.proxy(this._browse,this)),handler($form,"reset",$.proxy(this.reset,this)),handler($cont.find(".fileinput-remove:not([disabled])"),"click",$.proxy(this.clear,this)),handler($cont.find(".fileinput-cancel"),"click",$.proxy(this.cancel,this)),this._initDragDrop(),this.isUploadable||handler($form,"submit",$.proxy(this._submitForm,this)),handler(this.$container.find(".fileinput-upload"),"click",$.proxy(this._uploadClick,this))},_initDragDrop:function(){var $zone=this.$dropZone;this.isUploadable&&this.dropZoneEnabled&&this.showPreview&&(handler($zone,"dragenter dragover",$.proxy(this._zoneDragEnter,this)),handler($zone,"dragleave",$.proxy(this._zoneDragLeave,this)),handler($zone,"drop",$.proxy(this._zoneDrop,this)),handler($(document),"dragenter dragover drop",this._zoneDragDropInit))},_zoneDragDropInit:function(e){e.stopPropagation(),e.preventDefault()},_zoneDragEnter:function(e){var hasFiles=-1<$.inArray("Files",e.originalEvent.dataTransfer.types);if(this._zoneDragDropInit(e),this.isDisabled||!hasFiles)return e.originalEvent.dataTransfer.effectAllowed="none",void(e.originalEvent.dataTransfer.dropEffect="none");addCss(this.$dropZone,"file-highlighted")},_zoneDragLeave:function(e){this._zoneDragDropInit(e),this.isDisabled||this.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(e){e.preventDefault(),this.isDisabled||isEmpty(e.originalEvent.dataTransfer.files)||(this._change(e,"dragdrop"),this.$dropZone.removeClass("file-highlighted"))},_uploadClick:function(e){var $form,$btn=this.$container.find(".fileinput-upload"),isEnabled=!$btn.hasClass("disabled")&&isEmpty($btn.attr("disabled"));e&&e.isDefaultPrevented()||(this.isUploadable?(e.preventDefault(),isEnabled&&this.upload()):isEnabled&&"submit"!==$btn.attr("type")&&(($form=$btn.closest("form")).length&&$form.trigger("submit"),e.preventDefault()))},_submitForm:function(){var files=this.$element.get(0).files;return files&&0<this.minFileCount&&this._getFileCount(files.length)<this.minFileCount?(this._noFilesError({}),!1):!this._abort({})},_clearPreview:function(){(this.showUploadedThumbs?this.$preview.find(".file-preview-frame:not(.file-preview-success)"):this.$preview.find(".file-preview-frame")).remove(),this.$preview.find(".file-preview-frame").length&&this.showPreview||this._resetUpload(),this._validateDefaultPreview()},_initPreview:function(isInit){var out,cap=this.initialCaption||"";if(!previewCache.count(this.id))return this._clearPreview(),void(isInit?this._setCaption(cap):this._initCaption());out=previewCache.out(this.id),cap=isInit&&this.initialCaption?this.initialCaption:out.caption,this.$preview.html(out.content),this._setCaption(cap),isEmpty(out.content)||this.$container.removeClass("file-input-new")},_initPreviewDeletes:function(){var self=this,deleteExtraData=self.deleteExtraData||{},resetProgress=function(){var hasFiles=self.isUploadable?previewCache.count(self.id):self.$element.get(0).files.length;0!==self.$preview.find(".kv-file-remove").length||hasFiles||(self.reset(),self.initialCaption="")};self.$preview.find(".kv-file-remove").each(function(){var $el=$(this),vUrl=$el.data("url")||self.deleteUrl,vKey=$el.data("key");if(!isEmpty(vUrl)&&void 0!==vKey){var settings,params,config,extraData,$frame=$el.closest(".file-preview-frame"),cache=previewCache.data[self.id],index=$frame.data("fileindex");index=parseInt(index.replace("init_","")),config=isEmpty(cache.config)&&isEmpty(cache.config[index])?null:cache.config[index],"function"==typeof(extraData=isEmpty(config)||isEmpty(config.extra)?deleteExtraData:config.extra)&&(extraData=extraData()),params={id:$el.attr("id"),key:vKey,extra:extraData},settings=$.extend(!0,{},{url:vUrl,type:"POST",dataType:"json",data:$.extend(!0,{},{key:vKey},extraData),beforeSend:function(jqXHR){self.ajaxAborted=!1,self._raise("filepredelete",[vKey,jqXHR,extraData]),self.ajaxAborted?jqXHR.abort():(addCss($frame,"file-uploading"),addCss($el,"disabled"))},success:function(data,textStatus,jqXHR){var n,cap;if(!isEmpty(data)&&!isEmpty(data.error))return params.jqXHR=jqXHR,params.response=data,self._showError(data.error,params,"filedeleteerror"),$frame.removeClass("file-uploading"),$el.removeClass("disabled"),void resetProgress();previewCache.unset(self.id,index),cap=0<(n=previewCache.count(self.id))?self._getMsgSelected(n):"",self._raise("filedeleted",[vKey,jqXHR,extraData]),self._setCaption(cap),$frame.removeClass("file-uploading").addClass("file-deleted"),$frame.fadeOut("slow",function(){self._clearObjects($frame),$frame.remove(),resetProgress(),n||0!==self.getFileStack().length||(self._setCaption(""),self.reset())})},error:function(jqXHR,textStatus,errorThrown){var errMsg=self._parseError(jqXHR,errorThrown);params.jqXHR=jqXHR,params.response={},self._showError(errMsg,params,"filedeleteerror"),$frame.removeClass("file-uploading"),resetProgress()}},self.ajaxDeleteSettings),handler($el,"click",function(){if(!self._validateMinCount())return!1;$.ajax(settings)})}})},_clearObjects:function($el){$el.find("video audio").each(function(){this.pause(),$(this).remove()}),$el.find("img object div").each(function(){$(this).remove()})},_clearFileInput:function(){var $srcFrm,$tmpFrm,$tmpEl,$el=this.$element;isEmpty($el.val())||(this.isIE9||this.isIE10?($srcFrm=$el.closest("form"),$tmpFrm=$(document.createElement("form")),$tmpEl=$(document.createElement("div")),$el.before($tmpEl),$srcFrm.length?$srcFrm.after($tmpFrm):$tmpEl.after($tmpFrm),$tmpFrm.append($el).trigger("reset"),$tmpEl.before($el).remove(),$tmpFrm.remove()):$el.val(""),this.fileInputCleared=!0)},_resetUpload:function(){this.uploadCache={content:[],config:[],tags:[],append:!0},this.uploadCount=0,this.uploadStatus={},this.uploadLog=[],this.uploadAsyncCount=0,this.loadedImages=[],this.totalImagesCount=0,this.$btnUpload.removeAttr("disabled"),this._setProgress(0),addCss(this.$progress,"hide"),this._resetErrors(!1),this.ajaxAborted=!1,this.ajaxRequests=[],this._resetCanvas()},_resetCanvas:function(){this.canvas&&this.imageCanvasContext&&this.imageCanvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)},_hasInitialPreview:function(){return!this.overwriteInitial&&previewCache.count(this.id)},_resetPreview:function(){var out,cap;previewCache.count(this.id)?(out=previewCache.out(this.id),this.$preview.html(out.content),cap=this.initialCaption?this.initialCaption:out.caption,this._setCaption(cap)):(this._clearPreview(),this._initCaption())},_clearDefaultPreview:function(){this.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){this.showPreview&&!isEmpty(this.defaultPreviewContent)&&(this.$preview.html('<div class="file-default-preview">'+this.defaultPreviewContent+"</div>"),this.$container.removeClass("file-input-new"))},_resetPreviewThumbs:function(isAjax){var out;if(isAjax)return this._clearPreview(),void this.clearStack();this._hasInitialPreview()?(out=previewCache.out(this.id),this.$preview.html(out.content),this._setCaption(out.caption),this._initPreviewDeletes()):this._clearPreview()},_getLayoutTemplate:function(t){var template=isSet(t,this.layoutTemplates)?this.layoutTemplates[t]:defaultLayoutTemplates[t];return isEmpty(this.customLayoutTags)?template:replaceTags(template,this.customLayoutTags)},_getPreviewTemplate:function(t){var template=isSet(t,this.previewTemplates)?this.previewTemplates[t]:defaultPreviewTemplates[t];return isEmpty(this.customPreviewTags)?template:replaceTags(template,this.customPreviewTags)},_getOutData:function(jqXHR,responseData,filesData){return jqXHR=jqXHR||{},responseData=responseData||{},filesData=filesData||this.filestack.slice(0)||{},{form:this.formdata,files:filesData,filenames:this.filenames,extra:this._getExtraData(),response:responseData,reader:this.reader,jqXHR:jqXHR}},_getMsgSelected:function(n){var strFiles=1===n?this.fileSingle:this.filePlural;return this.msgSelected.replace("{n}",n).replace("{files}",strFiles)},_getThumbs:function(css){return css=css||"",this.$preview.find(".file-preview-frame:not(.file-preview-initial)"+css)},_getExtraData:function(previewId,index){var data=this.uploadExtraData;return"function"==typeof this.uploadExtraData&&(data=this.uploadExtraData(previewId,index)),data},_initXhr:function(xhrobj,previewId,fileCount){var self=this;return xhrobj.upload&&xhrobj.upload.addEventListener("progress",function(event){var pct=0,position=event.loaded||event.position,total=event.total;event.lengthComputable&&(pct=Math.ceil(position/total*100)),previewId?self._setAsyncUploadStatus(previewId,pct,fileCount):self._setProgress(Math.ceil(pct))},!1),xhrobj},_ajaxSubmit:function(fnBefore,fnSuccess,fnComplete,fnError,previewId,index){var settings,self=this;self._raise("filepreajax",[previewId,index]),self._uploadExtra(previewId,index),settings=$.extend(!0,{},{xhr:function(){var xhrobj=$.ajaxSettings.xhr();return self._initXhr(xhrobj,previewId,self.getFileStack().length)},url:self.uploadUrl,type:"POST",dataType:"json",data:self.formdata,cache:!1,processData:!1,contentType:!1,beforeSend:fnBefore,success:fnSuccess,complete:fnComplete,error:fnError},self.ajaxSettings),self.ajaxRequests.push($.ajax(settings))},_initUploadSuccess:function(out,$thumb,allFiles){var append,data,index,$newThumb,content,config,tags,i,self=this;self.showPreview&&"object"==typeof out&&!$.isEmptyObject(out)&&void 0!==out.initialPreview&&0<out.initialPreview.length&&(self.hasInitData=!0,content=out.initialPreview||[],config=out.initialPreviewConfig||[],tags=out.initialPreviewThumbTags||[],append=!(void 0!==out.append&&!out.append),self.overwriteInitial=!1,void 0!==$thumb?allFiles?(i=$thumb.attr("data-fileindex"),self.uploadCache.content[i]=content[0],self.uploadCache.config[i]=config[0],self.uploadCache.tags[i]=tags[0],self.uploadCache.append=append):(index=previewCache.add(self.id,content,config[0],tags[0],append),data=previewCache.get(self.id,index,!1),$newThumb=$(data).hide(),$thumb.after($newThumb).fadeOut("slow",function(){$newThumb.fadeIn("slow").css("display:inline-block"),self._initPreviewDeletes(),self._clearFileInput(),$thumb.remove()})):(previewCache.set(self.id,content,config,tags,append),self._initPreview(),self._initPreviewDeletes()))},_initSuccessThumbs:function(){var self=this;self.showPreview&&self._getThumbs(".file-preview-success").each(function(){var $thumb=$(this),$remove=$thumb.find(".kv-file-remove");$remove.removeAttr("disabled"),handler($remove,"click",function(){var out=self._raise("filesuccessremove",[$thumb.attr("id"),$thumb.data("fileindex")]);cleanMemory($thumb),!1!==out&&$thumb.fadeOut("slow",function(){$thumb.remove(),self.$preview.find(".file-preview-frame").length||self.reset()})})})},_checkAsyncComplete:function(){var previewId,i;for(i=0;i<this.filestack.length;i++)if(this.filestack[i]&&(previewId=this.previewInitId+"-"+i,-1===$.inArray(previewId,this.uploadLog)))return!1;return this.uploadAsyncCount===this.uploadLog.length},_uploadExtra:function(previewId,index){var self=this,data=self._getExtraData(previewId,index);0!==data.length&&$.each(data,function(key,value){self.formdata.append(key,value)})},_uploadSingle:function(i,files,allFiles){var outData,$thumb,chkComplete,$btnUpload,$btnDelete,fnBefore,fnSuccess,fnComplete,fnError,updateUploadLog,self=this,total=self.getFileStack().length,formdata=new FormData,previewId=self.previewInitId+"-"+i,hasPostData=0<self.filestack.length||!$.isEmptyObject(self.uploadExtraData),params={id:previewId,index:i};self.formdata=formdata,self.showPreview&&($thumb=$("#"+previewId+":not(.file-preview-initial)"),$btnUpload=$thumb.find(".kv-file-upload"),$btnDelete=$thumb.find(".kv-file-remove"),$("#"+previewId).find(".file-thumb-progress").removeClass("hide")),0===total||!hasPostData||$btnUpload&&$btnUpload.hasClass("disabled")||self._abort(params)||(updateUploadLog=function(i,previewId){self.updateStack(i,void 0),self.uploadLog.push(previewId),self._checkAsyncComplete()&&(self.fileBatchCompleted=!0)},chkComplete=function(){self.fileBatchCompleted&&setTimeout(function(){self.showPreview&&(previewCache.set(self.id,self.uploadCache.content,self.uploadCache.config,self.uploadCache.tags,self.uploadCache.append),self.hasInitData&&(self._initPreview(),self._initPreviewDeletes())),self.unlock(),self._clearFileInput(),self._raise("filebatchuploadcomplete",[self.filestack,self._getExtraData()]),self.uploadCount=0,self.uploadStatus={},self.uploadLog=[],self._setProgress(100)},100)},fnBefore=function(jqXHR){outData=self._getOutData(jqXHR),self.fileBatchCompleted=!1,self.showPreview&&($thumb.hasClass("file-preview-success")||(self._setThumbStatus($thumb,"Loading"),addCss($thumb,"file-uploading")),$btnUpload.attr("disabled",!0),$btnDelete.attr("disabled",!0)),allFiles||self.lock(),self._raise("filepreupload",[outData,previewId,i]),$.extend(!0,params,outData),self._abort(params)&&(jqXHR.abort(),self._setProgressCancelled())},fnSuccess=function(data,textStatus,jqXHR){outData=self._getOutData(jqXHR,data),$.extend(!0,params,outData),setTimeout(function(){isEmpty(data)||isEmpty(data.error)?(self.showPreview&&(self._setThumbStatus($thumb,"Success"),$btnUpload.hide(),self._initUploadSuccess(data,$thumb,allFiles)),self._raise("fileuploaded",[outData,previewId,i]),allFiles?updateUploadLog(i,previewId):self.updateStack(i,void 0)):(self._showUploadError(data.error,params),self._setPreviewError($thumb,i),allFiles&&updateUploadLog(i,previewId))},100)},fnComplete=function(){setTimeout(function(){self.showPreview&&($btnUpload.removeAttr("disabled"),$btnDelete.removeAttr("disabled"),$thumb.removeClass("file-uploading")),allFiles?chkComplete():(self.unlock(!1),self._clearFileInput()),self._initSuccessThumbs()},100)},fnError=function(jqXHR,textStatus,errorThrown){var errMsg=self._parseError(jqXHR,errorThrown,allFiles?files[i].name:null);setTimeout(function(){allFiles&&updateUploadLog(i,previewId),self.uploadStatus[previewId]=100,self._setPreviewError($thumb,i),$.extend(!0,params,self._getOutData(jqXHR)),self._showUploadError(errMsg,params)},100)},formdata.append(self.uploadFileAttr,files[i],self.filenames[i]),formdata.append("file_id",i),self._ajaxSubmit(fnBefore,fnSuccess,fnComplete,fnError,previewId,i))},_uploadBatch:function(){var fnBefore,fnSuccess,fnError,fnComplete,setAllUploaded,self=this,files=self.filestack,total=files.length,hasPostData=0<self.filestack.length||!$.isEmptyObject(self.uploadExtraData);self.formdata=new FormData,0!==total&&hasPostData&&!self._abort({})&&(setAllUploaded=function(){$.each(files,function(key){self.updateStack(key,void 0)}),self._clearFileInput()},fnBefore=function(jqXHR){self.lock();var outData=self._getOutData(jqXHR);self.showPreview&&self._getThumbs().each(function(){var $thumb=$(this),$btnUpload=$thumb.find(".kv-file-upload"),$btnDelete=$thumb.find(".kv-file-remove");$thumb.hasClass("file-preview-success")||(self._setThumbStatus($thumb,"Loading"),addCss($thumb,"file-uploading")),$btnUpload.attr("disabled",!0),$btnDelete.attr("disabled",!0)}),self._raise("filebatchpreupload",[outData]),self._abort(outData)&&(jqXHR.abort(),self._setProgressCancelled())},fnSuccess=function(data,textStatus,jqXHR){var outData=self._getOutData(jqXHR,data),$thumbs=self._getThumbs(),key=0,keys=isEmpty(data)||isEmpty(data.errorkeys)?[]:data.errorkeys;isEmpty(data)||isEmpty(data.error)?(self._raise("filebatchuploadsuccess",[outData]),setAllUploaded(),self.showPreview?($thumbs.each(function(){var $thumb=$(this),$btnUpload=$thumb.find(".kv-file-upload");$thumb.find(".kv-file-upload").hide(),self._setThumbStatus($thumb,"Success"),$thumb.removeClass("file-uploading"),$btnUpload.removeAttr("disabled")}),self._initUploadSuccess(data)):self.reset()):(self.showPreview&&($thumbs.each(function(){var $thumb=$(this),$btnDelete=$thumb.find(".kv-file-remove"),$btnUpload=$thumb.find(".kv-file-upload");$thumb.removeClass("file-uploading"),$btnUpload.removeAttr("disabled"),$btnDelete.removeAttr("disabled"),0!==keys.length?(-1!==$.inArray(key,keys)?self._setPreviewError($thumb):($thumb.find(".kv-file-upload").hide(),self._setThumbStatus($thumb,"Success"),self.updateStack(key,void 0)),key++):self._setPreviewError($thumb)}),self._initUploadSuccess(data)),self._showUploadError(data.error,outData,"filebatchuploaderror"))},fnComplete=function(){self._setProgress(100),self.unlock(),self._initSuccessThumbs(),self._clearFileInput(),self._raise("filebatchuploadcomplete",[self.filestack,self._getExtraData()])},fnError=function(jqXHR,textStatus,errorThrown){var outData=self._getOutData(jqXHR),errMsg=self._parseError(jqXHR,errorThrown);self._showUploadError(errMsg,outData,"filebatchuploaderror"),self.uploadFileCount=total-1,self.showPreview&&(self._getThumbs().each(function(){var $thumb=$(this),key=$thumb.attr("data-fileindex");$thumb.removeClass("file-uploading"),void 0!==self.filestack[key]&&self._setPreviewError($thumb)}),self._getThumbs().removeClass("file-uploading"),self._getThumbs(" .kv-file-upload").removeAttr("disabled"),self._getThumbs(" .kv-file-delete").removeAttr("disabled"))},$.each(files,function(key,data){isEmpty(files[key])||self.formdata.append(self.uploadFileAttr,data,self.filenames[key])}),self._ajaxSubmit(fnBefore,fnSuccess,fnComplete,fnError))},_uploadExtraOnly:function(){var fnBefore,fnSuccess,fnComplete,fnError,self=this,params={};self.formdata=new FormData,self._abort(params)||(fnBefore=function(jqXHR){self.lock();var outData=self._getOutData(jqXHR);self._raise("filebatchpreupload",[outData]),self._setProgress(50),params.data=outData,params.xhr=jqXHR,self._abort(params)&&(jqXHR.abort(),self._setProgressCancelled())},fnSuccess=function(data,textStatus,jqXHR){var outData=self._getOutData(jqXHR,data);isEmpty(data)||isEmpty(data.error)?(self._raise("filebatchuploadsuccess",[outData]),self._clearFileInput(),self._initUploadSuccess(data)):self._showUploadError(data.error,outData,"filebatchuploaderror")},fnComplete=function(){self._setProgress(100),self.unlock(),self._clearFileInput(),self._raise("filebatchuploadcomplete",[self.filestack,self._getExtraData()])},fnError=function(jqXHR,textStatus,errorThrown){var outData=self._getOutData(jqXHR),errMsg=self._parseError(jqXHR,errorThrown);params.data=outData,self._showUploadError(errMsg,outData,"filebatchuploaderror")},self._ajaxSubmit(fnBefore,fnSuccess,fnComplete,fnError))},_initFileActions:function(){var self=this;self.showPreview&&(self.$preview.find(".kv-file-remove").each(function(){var hasError,n,cap,$el=$(this),$frame=$el.closest(".file-preview-frame"),id=$frame.attr("id"),ind=$frame.attr("data-fileindex");handler($el,"click",function(){if(!1===self._raise("filepreremove",[id,ind])||!self._validateMinCount())return!1;hasError=$frame.hasClass("file-preview-error"),cleanMemory($frame),$frame.fadeOut("slow",function(){self.updateStack(ind,void 0),self._clearObjects($frame),$frame.remove(),id&&hasError&&self.$errorContainer.find('li[data-file-id="'+id+'"]').fadeOut("fast",function(){$(this).remove(),self._errorsExist()||self._resetErrors()});var filestack=self.getFileStack(!0),len=filestack.length,chk=previewCache.count(self.id),hasThumb=self.showPreview&&self.$preview.find(".file-preview-frame").length;self._clearFileInput(),0!==len||0!==chk||hasThumb?(cap=1<(n=chk+len)?self._getMsgSelected(n):filestack[0]?self._getFileNames()[0]:"",self._setCaption(cap)):self.reset(),self._raise("fileremoved",[id,ind])})})}),self.$preview.find(".kv-file-upload").each(function(){var $el=$(this);handler($el,"click",function(){var $frame=$el.closest(".file-preview-frame"),ind=$frame.attr("data-fileindex");$frame.hasClass("file-preview-error")||self._uploadSingle(ind,self.filestack,!1)})}))},_hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.find(".kv-caption-icon").hide()},_showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},_previewDefault:function(file,previewId,isDisabled){if(this.showPreview){var fname=file?file.name:"",data=objUrl.createObjectURL(file),ind=previewId.slice(previewId.lastIndexOf("-")+1),config=this.previewSettings.other||defaultPreviewSettings.other,footer=this._renderFileFooter(file.name,config.width),previewOtherTemplate=this._parseFilePreviewIcon(this._getPreviewTemplate("other"),fname);!0===isDisabled&&(this.isUploadable||(footer+='<div class="file-other-error" title="'+this.fileActionSettings.indicatorErrorTitle+'">'+this.fileActionSettings.indicatorError+"</div>")),this._clearDefaultPreview(),this.$preview.append("\n"+previewOtherTemplate.replace(/\{previewId}/g,previewId).replace(/\{frameClass}/g,"").replace(/\{fileindex}/g,ind).replace(/\{caption}/g,this.slug(file.name)).replace(/\{width}/g,config.width).replace(/\{height}/g,config.height).replace(/\{type}/g,file.type).replace(/\{data}/g,data).replace(/\{footer}/g,footer)),!0===isDisabled&&this.isUploadable&&this._setThumbStatus($("#"+previewId),"Error")}},_previewFile:function(i,file,theFile,previewId,data){if(this.showPreview){var content,strText,id,cat=this._parseFileType(file),fname=file?file.name:"",caption=this.slug(fname),types=this.allowedPreviewTypes,mimes=this.allowedPreviewMimeTypes,tmplt=this._getPreviewTemplate(cat),chkTypes=types&&0<=types.indexOf(cat),config=isSet(cat,this.previewSettings)?this.previewSettings[cat]:defaultPreviewSettings[cat],chkMimes=mimes&&-1!==mimes.indexOf(file.type),footer=this._renderFileFooter(caption,config.width),modal="",ind=previewId.slice(previewId.lastIndexOf("-")+1);chkTypes||chkMimes?(tmplt=this._parseFilePreviewIcon(tmplt,fname.split(".").pop()),content="text"===cat?(strText=htmlEncode(theFile.target.result),id="text-"+uniqId(),content=tmplt.replace(/\{zoom}/g,this._getLayoutTemplate("zoom")),modal=this._getLayoutTemplate("modal").replace("{id}",id).replace(/\{title}/g,caption).replace(/\{body}/g,strText).replace(/\{heading}/g,this.msgZoomModalHeading),content.replace(/\{previewId}/g,previewId).replace(/\{caption}/g,caption).replace(/\{width}/g,config.width).replace(/\{height}/g,config.height).replace(/\{frameClass}/g,"").replace(/\{zoomInd}/g,this.zoomIndicator).replace(/\{footer}/g,footer).replace(/\{fileindex}/g,ind).replace(/\{type}/g,file.type).replace(/\{zoomTitle}/g,this.msgZoomTitle).replace(/\{dialog}/g,"$('#"+id+"').modal('show')").replace(/\{data}/g,strText)+modal):tmplt.replace(/\{previewId}/g,previewId).replace(/\{caption}/g,caption).replace(/\{frameClass}/g,"").replace(/\{type}/g,file.type).replace(/\{fileindex}/g,ind).replace(/\{width}/g,config.width).replace(/\{height}/g,config.height).replace(/\{footer}/g,footer).replace(/\{data}/g,data),this._clearDefaultPreview(),this.$preview.append("\n"+content),this._validateImage(i,previewId,caption,file.type)):this._previewDefault(file,previewId)}},_slugDefault:function(text){return isEmpty(text)?"":String(text).replace(/[\-\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_readFiles:function(files){this.reader=new FileReader;var readFile,self=this,$el=self.$element,$preview=self.$preview,reader=self.reader,$container=self.$previewContainer,$status=self.$previewStatus,msgLoading=self.msgLoading,msgProgress=self.msgProgress,previewInitId=self.previewInitId,numFiles=files.length,settings=self.fileTypeSettings,ctr=self.filestack.length,throwError=function(msg,file,previewId,index){var p1=$.extend(!0,{},self._getOutData({},{},files),{id:previewId,index:index}),p2={id:previewId,index:index,file:file,files:files};return self._previewDefault(file,previewId,!0),self.isUploadable&&self.addToStack(void 0),setTimeout(readFile(index+1),100),self._initFileActions(),self.removeFromPreviewOnError&&$("#"+previewId).remove(),self.isUploadable?self._showUploadError(msg,p1):self._showError(msg,p2)};self.loadedImages=[],self.totalImagesCount=0,$.each(files,function(key,file){var func=self.fileTypeSettings.image||defaultFileTypeSettings.image;func&&func(file.type)&&self.totalImagesCount++}),(readFile=function(i){if(isEmpty($el.attr("multiple"))&&(numFiles=1),numFiles<=i)return self.isUploadable&&0<self.filestack.length?self._raise("filebatchselected",[self.getFileStack()]):self._raise("filebatchselected",[files]),$container.removeClass("file-thumb-loading"),void $status.html("");var checkFile,j,msg,typ,chk,previewId=previewInitId+"-"+(ctr+i),file=files[i],caption=self.slug(file.name),fileSize=(file.size||0)/1e3,fileExtExpr="",previewData=objUrl.createObjectURL(file),fileCount=0,fileTypes=self.allowedFileTypes,strTypes=isEmpty(fileTypes)?"":fileTypes.join(", "),fileExt=self.allowedFileExtensions,strExt=isEmpty(fileExt)?"":fileExt.join(", ");if(isEmpty(fileExt)||(fileExtExpr=new RegExp("\\.("+fileExt.join("|")+")$","i")),fileSize=fileSize.toFixed(2),0<self.maxFileSize&&fileSize>self.maxFileSize)return msg=self.msgSizeTooLarge.replace("{name}",caption).replace("{size}",fileSize).replace("{maxSize}",self.maxFileSize),void(self.isError=throwError(msg,file,previewId,i));if(!isEmpty(fileTypes)&&isArray(fileTypes)){for(j=0;j<fileTypes.length;j+=1)typ=fileTypes[j],chk=void 0!==(checkFile=settings[typ])&&checkFile(file.type,caption),fileCount+=isEmpty(chk)?0:chk.length;if(0===fileCount)return msg=self.msgInvalidFileType.replace("{name}",caption).replace("{types}",strTypes),void(self.isError=throwError(msg,file,previewId,i))}return 0!==fileCount||isEmpty(fileExt)||!isArray(fileExt)||isEmpty(fileExtExpr)||(chk=compare(caption,fileExtExpr),0!==(fileCount+=isEmpty(chk)?0:chk.length))?self.showPreview?(0<$preview.length&&void 0!==FileReader?($status.html(msgLoading.replace("{index}",i+1).replace("{files}",numFiles)),$container.addClass("file-thumb-loading"),reader.onerror=function(evt){self._errorHandler(evt,caption)},reader.onload=function(theFile){self._previewFile(i,file,theFile,previewId,previewData),self._initFileActions()},reader.onloadend=function(){msg=msgProgress.replace("{index}",i+1).replace("{files}",numFiles).replace("{percent}",50).replace("{name}",caption),setTimeout(function(){$status.html(msg),self._updateFileDetails(numFiles),readFile(i+1)},100),self._raise("fileloaded",[file,previewId,i,reader])},reader.onprogress=function(data){if(data.lengthComputable){var fact=data.loaded/data.total*100,progress=Math.ceil(fact);msg=msgProgress.replace("{index}",i+1).replace("{files}",numFiles).replace("{percent}",progress).replace("{name}",caption),setTimeout(function(){$status.html(msg)},100)}},(isSet("text",settings)?settings.text:defaultFileTypeSettings.text)(file.type,caption)?reader.readAsText(file,self.textEncoding):reader.readAsArrayBuffer(file)):(self._previewDefault(file,previewId),setTimeout(function(){readFile(i+1),self._updateFileDetails(numFiles)},100),self._raise("fileloaded",[file,previewId,i,reader])),void self.addToStack(file)):(self.addToStack(file),setTimeout(readFile(i+1),100),void self._raise("fileloaded",[file,previewId,i,reader])):(msg=self.msgInvalidFileExtension.replace("{name}",caption).replace("{extensions}",strExt),void(self.isError=throwError(msg,file,previewId,i)))})(0),self._updateFileDetails(numFiles,!1)},_updateFileDetails:function(numFiles){var $el=this.$element,fileStack=this.getFileStack(),name=$el[0].files[0]&&$el[0].files[0].name||fileStack.length&&fileStack[0].name||"",label=this.slug(name),n=this.isUploadable?fileStack.length:numFiles,nFiles=previewCache.count(this.id)+n,log=1<n?this._getMsgSelected(nFiles):label;this.isError?(this.$previewContainer.removeClass("file-thumb-loading"),this.$previewStatus.html(""),this.$captionContainer.find(".kv-caption-icon").hide()):this._showFileIcon(),this._setCaption(log,this.isError),this.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&this._raise("fileselect",[numFiles,label]),previewCache.count(this.id)&&this._initPreviewDeletes()},_setThumbStatus:function($thumb,status){if(this.showPreview){var icon="indicator"+status,msg=icon+"Title",css="file-preview-"+status.toLowerCase(),$indicator=$thumb.find(".file-upload-indicator"),config=this.fileActionSettings;$thumb.removeClass("file-preview-success file-preview-error file-preview-loading"),"Error"===status&&$thumb.find(".kv-file-upload").attr("disabled",!0),$indicator.html(config[icon]),$indicator.attr("title",config[msg]),$thumb.addClass(css)}},_setProgressCancelled:function(){this._setProgress(100,this.$progress,this.msgCancelled)},_setProgress:function(p,$el,error){var pct=Math.min(p,100),template=pct<100?this.progressTemplate:error?this.progressErrorTemplate:this.progressCompleteTemplate;$el=$el||this.$progress,isEmpty(template)||($el.html(template.replace(/\{percent}/g,pct)),error&&$el.find('[role="progressbar"]').html(error))},_setFileDropZoneTitle:function(){var $zone=this.$container.find(".file-drop-zone");$zone.find("."+this.dropZoneTitleClass).remove(),this.isUploadable&&this.showPreview&&0!==$zone.length&&!(0<this.getFileStack().length)&&this.dropZoneEnabled&&(0===$zone.find(".file-preview-frame").length&&isEmpty(this.defaultPreviewContent)&&$zone.prepend('<div class="'+this.dropZoneTitleClass+'">'+this.dropZoneTitle+"</div>"),this.$container.removeClass("file-input-new"),addCss(this.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(previewId,pct,total){var sum=0;this._setProgress(pct,$("#"+previewId).find(".file-thumb-progress")),this.uploadStatus[previewId]=pct,$.each(this.uploadStatus,function(key,value){sum+=value}),this._setProgress(Math.ceil(sum/total))},_validateMinCount:function(){var len=this.isUploadable?this.getFileStack().length:this.$element.get(0).files.length;return!(this.validateInitialCount&&0<this.minFileCount&&this._getFileCount(len-1)<this.minFileCount)||(this._noFilesError({}),!1)},_getFileCount:function(fileCount){return this.validateInitialCount&&!this.overwriteInitial&&(fileCount+=previewCache.count(this.id)),fileCount},_getFileName:function(file){return file&&file.name?this.slug(file.name):void 0},_getFileNames:function(skipNull){return this.filenames.filter(function(n){return skipNull?void 0!==n:null!=n})},_setPreviewError:function($thumb,i,val){i&&this.updateStack(i,val),this.removeFromPreviewOnError?$thumb.remove():this._setThumbStatus($thumb,"Error")},_checkDimensions:function(i,chk,$img,$thumb,fname,type,params){var msg,dim,$imgEl,limit=this[("Small"===chk?"min":"max")+"Image"+type];!isEmpty(limit)&&$img.length&&($imgEl=$img[0],dim="Width"===type?$imgEl.naturalWidth||$imgEl.width:$imgEl.naturalHeight||$imgEl.height,("Small"===chk?limit<=dim:dim<=limit)||(msg=this["msgImage"+type+chk].replace("{name}",fname).replace("{size}",limit),this._showUploadError(msg,params),this._setPreviewError($thumb,i,null)))},_validateImage:function(i,previewId,fname,ftype){var params,w1,self=this,$preview=self.$preview,$thumb=$preview.find("#"+previewId),$img=$thumb.find("img");fname=fname||"Untitled",$img.length&&handler($img,"load",function(){w1=$thumb.width(),$preview.width()<w1&&($img.css("width","100%"),$thumb.css("width","97%")),params={ind:i,id:previewId},self._checkDimensions(i,"Small",$img,$thumb,fname,"Width",params),self._checkDimensions(i,"Small",$img,$thumb,fname,"Height",params),self.resizeImage||(self._checkDimensions(i,"Large",$img,$thumb,fname,"Width",params),self._checkDimensions(i,"Large",$img,$thumb,fname,"Height",params)),self._raise("fileimageloaded",[previewId]),self.loadedImages.push({ind:i,img:$img,thumb:$thumb,pid:previewId,typ:ftype}),self._validateAllImages(),objUrl.revokeObjectURL($img.attr("src"))})},_validateAllImages:function(){var i,config,$img,$thumb,pid,ind,errFunc,params={};if(this.loadedImages.length===this.totalImagesCount&&(this._raise("fileimagesloaded"),this.resizeImage)){for(errFunc=this.isUploadable?this._showUploadError:this._showError,i=0;i<this.loadedImages.length;i++)$img=(config=this.loadedImages[i]).img,$thumb=config.thumb,params={id:pid=config.pid,index:ind=config.ind},this._getResizedImage($img[0],config.typ,pid,ind)||(errFunc(this.msgImageResizeError,params,"fileimageresizeerror"),this._setPreviewError($thumb,ind));this._raise("fileimagesresized")}},_getResizedImage:function(image,type,pid,ind){var chkWidth,chkHeight,self=this,width=image.naturalWidth,height=image.naturalHeight,ratio=1,maxWidth=self.maxImageWidth||width,maxHeight=self.maxImageHeight||height,isValidImage=width&&height,canvas=self.imageCanvas,context=self.imageCanvasContext;if(!isValidImage)return!1;if(width===maxWidth&&height===maxHeight)return!0;type=type||self.resizeDefaultImageType,chkWidth=maxWidth<width,chkHeight=maxHeight<height,ratio="width"===self.resizePreference?chkWidth?maxWidth/width:chkHeight?maxHeight/height:1:chkHeight?maxHeight/height:chkWidth?maxWidth/width:1,self._resetCanvas(),width*=ratio,height*=ratio,canvas.width=width,canvas.height=height;try{return context.drawImage(image,0,0,width,height),canvas.toBlob(function(blob){self._raise("fileimageresized",[pid,ind]),self.filestack[ind]=blob},type,self.resizeQuality),!0}catch(err){return!1}},_initBrowse:function($container){this.$btnFile=$container.find(".btn-file"),this.$btnFile.append(this.$element)},_initCaption:function(){var cap=this.initialCaption||"";return this.overwriteInitial||isEmpty(cap)?(this.$caption.html(""),!1):(this._setCaption(cap),!0)},_setCaption:function(content,isError){var title,out,n,cap,stack=this.getFileStack();if(this.$caption.length){if(isError)title=$("<div>"+this.msgValidationError+"</div>").text(),cap=(n=stack.length)?1===n&&stack[0]?this._getFileNames()[0]:this._getMsgSelected(n):this._getMsgSelected(this.msgNo),out='<span class="'+this.msgValidationErrorClass+'">'+this.msgValidationErrorIcon+(isEmpty(content)?cap:content)+"</span>";else{if(isEmpty(content))return;title=$("<div>"+content+"</div>").text(),out=this._getLayoutTemplate("icon")+title}this.$caption.html(out),this.$caption.attr("title",title),this.$captionContainer.find(".file-caption-ellipsis").attr("title",title)}},_createContainer:function(){var $container=$(document.createElement("div")).attr({class:"file-input file-input-new"}).html(this._renderMain());return this.$element.before($container),this._initBrowse($container),$container},_refreshContainer:function(){var $container=this.$container;$container.before(this.$element),$container.html(this._renderMain()),this._initBrowse($container)},_renderMain:function(){var dropCss=this.isUploadable&&this.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",close=this.showClose?this._getLayoutTemplate("close"):"",preview=this.showPreview?this._getLayoutTemplate("preview").replace(/\{class}/g,this.previewClass).replace(/\{dropClass}/g,dropCss):"",css=this.isDisabled?this.captionClass+" file-caption-disabled":this.captionClass,caption=this.captionTemplate.replace(/\{class}/g,css+" kv-fileinput-caption");return this.mainTemplate.replace(/\{class}/g,this.mainClass).replace(/\{preview}/g,preview).replace(/\{close}/g,close).replace(/\{caption}/g,caption).replace(/\{upload}/g,this._renderButton("upload")).replace(/\{remove}/g,this._renderButton("remove")).replace(/\{cancel}/g,this._renderButton("cancel")).replace(/\{browse}/g,this._renderButton("browse"))},_renderButton:function(type){var tmplt=this._getLayoutTemplate("btnDefault"),css=this[type+"Class"],title=this[type+"Title"],icon=this[type+"Icon"],label=this[type+"Label"],status=this.isDisabled?" disabled":"",btnType="button";switch(type){case"remove":if(!this.showRemove)return"";break;case"cancel":if(!this.showCancel)return"";css+=" hide";break;case"upload":if(!this.showUpload)return"";this.isUploadable&&!this.isDisabled?tmplt=this._getLayoutTemplate("btnLink").replace("{href}",this.uploadUrl):btnType="submit";break;case"browse":tmplt=this._getLayoutTemplate("btnBrowse");break;default:return""}return css+="browse"===type?" btn-file":" fileinput-"+type+" fileinput-"+type+"-button",isEmpty(label)||(label=' <span class="'+this.buttonLabelClass+'">'+label+"</span>"),tmplt.replace("{type}",btnType).replace("{css}",css).replace("{title}",title).replace("{status}",status).replace("{icon}",icon).replace("{label}",label)},_renderThumbProgress:function(){return'<div class="file-thumb-progress hide">'+this.progressTemplate.replace(/\{percent}/g,"0")+"</div>"},_renderFileFooter:function(caption,width){var out,config=this.fileActionSettings,template=this._getLayoutTemplate("footer");return out=this.isUploadable?template.replace(/\{actions}/g,this._renderFileActions(!0,!0,!1,!1,!1)).replace(/\{caption}/g,caption).replace(/\{width}/g,width).replace(/\{progress}/g,this._renderThumbProgress()).replace(/\{indicator}/g,config.indicatorNew).replace(/\{indicatorTitle}/g,config.indicatorNewTitle):template.replace(/\{actions}/g,"").replace(/\{caption}/g,caption).replace(/\{progress}/g,"").replace(/\{width}/g,width).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,""),out=replaceTags(out,this.previewThumbTags)},_renderFileActions:function(showUpload,showDelete,disabled,url,key){if(!showUpload&&!showDelete)return"";var vUrl=!1===url?"":' data-url="'+url+'"',vKey=!1===key?"":' data-key="'+key+'"',btnDelete=this._getLayoutTemplate("actionDelete"),btnUpload="",template=this._getLayoutTemplate("actions"),otherButtons=this.otherActionButtons.replace(/\{dataKey}/g,vKey),config=this.fileActionSettings,removeClass=disabled?config.removeClass+" disabled":config.removeClass;return btnDelete=btnDelete.replace(/\{removeClass}/g,removeClass).replace(/\{removeIcon}/g,config.removeIcon).replace(/\{removeTitle}/g,config.removeTitle).replace(/\{dataUrl}/g,vUrl).replace(/\{dataKey}/g,vKey),showUpload&&(btnUpload=this._getLayoutTemplate("actionUpload").replace(/\{uploadClass}/g,config.uploadClass).replace(/\{uploadIcon}/g,config.uploadIcon).replace(/\{uploadTitle}/g,config.uploadTitle)),template.replace(/\{delete}/g,btnDelete).replace(/\{upload}/g,btnUpload).replace(/\{other}/g,otherButtons)},_browse:function(e){this._raise("filebrowse"),e&&e.isDefaultPrevented()||(this.isError&&!this.isUploadable&&this.clear(),this.$captionContainer.focus())},_change:function(e){var self=this,$el=self.$element;if(!self.isUploadable&&isEmpty($el.val())&&self.fileInputCleared)self.fileInputCleared=!1;else{self.fileInputCleared=!1;var tfiles,msg,total,f,n,len,mesg,file,previewId,index,p1,p2,isDragDrop=1<arguments.length,isAjaxUpload=self.isUploadable,i=0,files=isDragDrop?e.originalEvent.dataTransfer.files:$el.get(0).files,ctr=self.filestack.length,flagSingle=isEmpty($el.attr("multiple"))&&0<ctr,folders=0;if(self.reader=null,self._resetUpload(),self._hideFileIcon(),self.isUploadable&&self.$container.find(".file-drop-zone ."+self.dropZoneTitleClass).remove(),isDragDrop)for(tfiles=[];files[i];)(f=files[i]).type||f.size%4096!=0?tfiles.push(f):folders++,i++;else tfiles=void 0===e.target.files?e.target&&e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]:e.target.files;if(isEmpty(tfiles)||0===tfiles.length)return isAjaxUpload||self.clear(),self._showFolderError(folders),void self._raise("fileselectnone");if(self._resetErrors(),len=tfiles.length,total=self._getFileCount(self.isUploadable?self.getFileStack().length+len:len),0<self.maxFileCount&&total>self.maxFileCount){if(!self.autoReplace||len>self.maxFileCount)return n=self.autoReplace&&len>self.maxFileCount?len:total,msg=self.msgFilesTooMany.replace("{m}",self.maxFileCount).replace("{n}",n),self.isError=(mesg=msg,index=previewId=file=null,p1=$.extend(!0,{},self._getOutData({},{},files),{id:previewId,index:index}),p2={id:previewId,index:index,file:file,files:files},self.isUploadable?self._showUploadError(mesg,p1):self._showError(mesg,p2)),self.$captionContainer.find(".kv-caption-icon").hide(),self._setCaption("",!0),void self.$container.removeClass("file-input-new file-input-ajax-new");total>self.maxFileCount&&self._resetPreviewThumbs(isAjaxUpload)}else!isAjaxUpload||flagSingle?(self._resetPreviewThumbs(!1),flagSingle&&self.clearStack()):!isAjaxUpload||0!==ctr||previewCache.count(self.id)&&!self.overwriteInitial||self._resetPreviewThumbs(!0);self.isPreviewable?self._readFiles(tfiles):self._updateFileDetails(1),self._showFolderError(folders)}},_abort:function(params){var data;return!(!this.ajaxAborted||"object"!=typeof this.ajaxAborted||void 0===this.ajaxAborted.message)&&((data=$.extend(!0,{},this._getOutData(),params)).abortData=this.ajaxAborted.data||{},data.abortMessage=this.ajaxAborted.message,this.cancel(),this._setProgress(100,this.$progress,this.msgCancelled),this._showUploadError(this.ajaxAborted.message,data,"filecustomerror"),!0)},_resetFileStack:function(){var self=this,i=0,newstack=[],newnames=[];self._getThumbs().each(function(){var $thumb=$(this),ind=$thumb.attr("data-fileindex"),file=self.filestack[ind];-1!==ind&&(void 0!==file?(newstack[i]=file,newnames[i]=self._getFileName(file),$thumb.attr({id:self.previewInitId+"-"+i,"data-fileindex":i}),i++):$thumb.attr({id:"uploaded-"+uniqId(),"data-fileindex":"-1"}))}),self.filestack=newstack,self.filenames=newnames},clearStack:function(){return this.filestack=[],this.filenames=[],this.$element},updateStack:function(i,file){return this.filestack[i]=file,this.filenames[i]=this._getFileName(file),this.$element},addToStack:function(file){return this.filestack.push(file),this.filenames.push(this._getFileName(file)),this.$element},getFileStack:function(skipNull){return this.filestack.filter(function(n){return skipNull?void 0!==n:null!=n})},lock:function(){return this._resetErrors(),this.disable(),this.showRemove&&addCss(this.$container.find(".fileinput-remove"),"hide"),this.showCancel&&this.$container.find(".fileinput-cancel").removeClass("hide"),this._raise("filelock",[this.filestack,this._getExtraData()]),this.$element},unlock:function(reset){return void 0===reset&&(reset=!0),this.enable(),this.showCancel&&addCss(this.$container.find(".fileinput-cancel"),"hide"),this.showRemove&&this.$container.find(".fileinput-remove").removeClass("hide"),reset&&this._resetFileStack(),this._raise("fileunlock",[this.filestack,this._getExtraData()]),this.$element},cancel:function(){var i,self=this,xhr=self.ajaxRequests,len=xhr.length;if(0<len)for(i=0;i<len;i+=1)self.cancelling=!0,xhr[i].abort();return self._setProgressCancelled(),self._getThumbs().each(function(){var $thumb=$(this),ind=$thumb.attr("data-fileindex");$thumb.removeClass("file-uploading"),void 0!==self.filestack[ind]&&($thumb.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),$thumb.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),self.unlock()}),self.$element},clear:function(){var cap,self=this;return self.$btnUpload.removeAttr("disabled"),self._getThumbs().find("video,audio,img").each(function(){cleanMemory($(this))}),self._resetUpload(),self.clearStack(),self._clearFileInput(),self._resetErrors(!0),self._raise("fileclear"),self._hasInitialPreview()?(self._showFileIcon(),self._resetPreview(),self._initPreviewDeletes(),self.$container.removeClass("file-input-new")):(self._getThumbs().each(function(){self._clearObjects($(this))}),self.isUploadable&&(previewCache.data[self.id]={}),self.$preview.html(""),cap=!self.overwriteInitial&&0<self.initialCaption.length?self.initialCaption:"",self._setCaption(cap),self.$caption.attr("title",""),addCss(self.$container,"file-input-new"),self._validateDefaultPreview()),0===self.$container.find(".file-preview-frame").length&&(self._initCaption()||self.$captionContainer.find(".kv-caption-icon").hide()),self._hideFileIcon(),self._raise("filecleared"),self.$captionContainer.focus(),self._setFileDropZoneTitle(),self.$element},reset:function(){return this._resetPreview(),this.$container.find(".fileinput-filename").text(""),this._raise("filereset"),addCss(this.$container,"file-input-new"),(this.$preview.find(".file-preview-frame").length||this.isUploadable&&this.dropZoneEnabled)&&this.$container.removeClass("file-input-new"),this._setFileDropZoneTitle(),this.clearStack(),this.formdata={},this.$element},disable:function(){return this.isDisabled=!0,this._raise("filedisabled"),this.$element.attr("disabled","disabled"),this.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),this.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),this._initDragDrop(),this.$element},enable:function(){return this.isDisabled=!1,this._raise("fileenabled"),this.$element.removeAttr("disabled"),this.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),this.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),this._initDragDrop(),this.$element},upload:function(){var i,outData,len,totLen=this.getFileStack().length,hasExtraData=!$.isEmptyObject(this._getExtraData());if(0<this.minFileCount&&this._getFileCount(totLen)<this.minFileCount)this._noFilesError({});else if(this.isUploadable&&!this.isDisabled&&(0!==totLen||hasExtraData))if(this._resetUpload(),this.$progress.removeClass("hide"),this.uploadCount=0,this.uploadStatus={},this.uploadLog=[],this.lock(),this._setProgress(2),0===totLen&&hasExtraData)this._uploadExtraOnly();else{if(len=this.filestack.length,this.hasInitData=!1,!this.uploadAsync)return this._uploadBatch(),this.$element;for(outData=this._getOutData(),this._raise("filebatchpreupload",[outData]),this.fileBatchCompleted=!1,this.uploadCache={content:[],config:[],tags:[],append:!0},this.uploadAsyncCount=this.getFileStack().length,i=0;i<len;i++)this.uploadCache.content[i]=null,this.uploadCache.config[i]=null,this.uploadCache.tags[i]=null;for(i=0;i<len;i++)void 0!==this.filestack[i]&&this._uploadSingle(i,this.filestack,!0)}},destroy:function(){var $cont=this.$container;return $cont.find(".file-drop-zone").off(),this.$element.insertBefore($cont).off(".fileinput").removeData(),$cont.off().remove(),this.$element},refresh:function(options){var $el=this.$element;return options=options?$.extend(!0,{},this.options,options):this.options,this.destroy(),$el.fileinput(options),$el.val()&&$el.trigger("change.fileinput"),$el}},$.fn.fileinput=function(option){if(hasFileAPISupport()||isIE(9)){var args=Array.apply(null,arguments),retvals=[];switch(args.shift(),this.each(function(){var opts,self=$(this),data=self.data("fileinput"),options="object"==typeof option&&option,lang=options.language||self.data("language")||"en",loc={};data||("en"===lang||isEmpty($.fn.fileinputLocales[lang])||(loc=$.fn.fileinputLocales[lang]),opts=$.extend(!0,{},$.fn.fileinput.defaults,$.fn.fileinputLocales.en,loc,options,self.data()),data=new FileInput(this,opts),self.data("fileinput",data)),"string"==typeof option&&retvals.push(data[option].apply(data,args))}),retvals.length){case 0:return this;case 1:return retvals[0];default:return retvals}}},$.fn.fileinput.defaults={language:"en",showCaption:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,autoReplace:!1,mainClass:"",previewClass:"",captionClass:"",mainTemplate:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,layoutTemplates:defaultLayoutTemplates,previewTemplates:defaultPreviewTemplates,allowedPreviewTypes:defaultPreviewTypes,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewSettings:defaultPreviewSettings,fileTypeSettings:defaultFileTypeSettings,previewFileIcon:'<i class        = "glyphicon glyphicon-file"></i>',previewFileIconClass:"file-icon-4x",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class             = "glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class             = "glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default",cancelIcon:'<i class             = "glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default",uploadIcon:'<i class             = "glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default",uploadUrl:null,uploadAsync:!0,uploadExtraData:{},minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",maxFileSize:0,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class = "glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-success progress-bar-striped active",progressClass:"progress-bar progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar progress-bar-success",progressErrorClass:"progress-bar progress-bar-danger",previewFileType:"image",zoomIndicator:'<i class          = "glyphicon glyphicon-zoom-in"></i>',elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<span class    = "close kv-error-close">&times;</span>',slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0},$.fn.fileinputLocales.es={fileSingle:"archivo",filePlural:"archivos",browseLabel:"Examinar &hellip;",removeLabel:"Quitar",removeTitle:"Quitar archivos seleccionados",cancelLabel:"Cancelar",cancelTitle:"Abortar la subida en curso",uploadLabel:"Subir archivo",uploadTitle:"Subir archivos seleccionados",msgNo:"No",msgCancelled:"Cancelado",msgZoomTitle:"Ver detalles",msgZoomModalHeading:"Vista previa detallada",msgSizeTooLarge:'Archivo "{name}" (<b>{size} KB</b>) excede el tamaño máximo permitido de <b>{maxSize} KB</b>.',msgFilesTooLess:"Debe seleccionar al menos <b>{n}</b> {files} a cargar.",msgFilesTooMany:"El número de archivos seleccionados <b>({n})</b> excede el límite máximo permitido de <b>{m}</b>.",msgFileNotFound:'Archivo "{name}" no encontrado.',msgFileSecured:'No es posible acceder al archivo "{name}" porque estará siendo usado por otra aplicación o no tengamos permisos de lectura.',msgFileNotReadable:'No es posible acceder al archivo "{name}".',msgFilePreviewAborted:'Previsualización del archivo "{name}" cancelada.',msgFilePreviewError:'Ocurrió un error mientras se leía el archivo "{name}".',msgInvalidFileType:'Tipo de archivo no válido para "{name}". Sólo archivos "{types}" son permitidos.',msgInvalidFileExtension:'Extensión de archivo no válido para "{name}". Sólo archivos "{extensions}" son permitidos.',msgUploadAborted:"La carga de archivos se ha cancelado",msgValidationError:"Error de validacion",msgLoading:"Subiendo archivo {index} de {files} &hellip;",msgProgress:"Subiendo archivo {index} de {files} - {name} - {percent}% completado.",msgSelected:"{n} {files} seleccionado(s)",msgFoldersNotAllowed:"Arrastre y suelte únicamente archivos. Omitida(s) {n} carpeta(s).",msgImageWidthSmall:'El ancho de la imagen "{name}" debe ser al menos {size} px.',msgImageHeightSmall:'La altura de la imagen "{name}" debe ser al menos {size} px.',msgImageWidthLarge:'El ancho de la imagen "{name}" no puede exceder de {size} px.',msgImageHeightLarge:'La altura de la imagen "{name}" no puede exceder de {size} px.',msgImageResizeError:"No se pudo obtener las dimensiones de imagen para cambiar el tamaño.",msgImageResizeException:"Error al cambiar el tamaño de la imagen.<pre>{errors}</pre>",dropZoneTitle:"Arrastre y suelte aquí los archivos &hellip;",fileActionSettings:{removeTitle:"Eliminar archivo",uploadTitle:"Subir archivo",indicatorNewTitle:"No subido todavía",indicatorSuccessTitle:"Subido",indicatorErrorTitle:"Subir Error",indicatorLoadingTitle:"Subiendo ..."}},$.fn.fileinput.Constructor=FileInput,$(document).ready(function(){var $input=$("input.file[type=file]");$input.length&&$input.fileinput()})}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return sd.apply(null,arguments)}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function f(a){return void 0===a}function g(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function h(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function i(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function j(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function k(a,b){for(var c in b)j(b,c)&&(a[c]=b[c]);return j(b,"toString")&&(a.toString=b.toString),j(b,"valueOf")&&(a.valueOf=b.valueOf),a}function l(a,b,c,d){return sb(a,b,c,d,!0).utc()}function n(a){return null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),a._pf}function o(a){if(null==a._isValid){var b=n(a),c=ud.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function p(a){var b=l(NaN);return null!=a?k(n(b),a):n(b).userInvalidated=!0,b}function q(a,b){var c,d,e;if(f(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),f(b._i)||(a._i=b._i),f(b._f)||(a._f=b._f),f(b._l)||(a._l=b._l),f(b._strict)||(a._strict=b._strict),f(b._tzm)||(a._tzm=b._tzm),f(b._isUTC)||(a._isUTC=b._isUTC),f(b._offset)||(a._offset=b._offset),f(b._pf)||(a._pf=n(b)),f(b._locale)||(a._locale=b._locale),0<vd.length)for(c=0;c<vd.length;c++)f(e=b[d=vd[c]])||(a[d]=e);return a}function r(b){q(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===wd&&(wd=!0,a.updateOffset(this),wd=!1)}function s(a){return a instanceof r||null!=a&&null!=a._isAMomentObject}function t(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=t(b)),c}function v(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function w(b){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function x(b,c){var d=!0;return k(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,b),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){for(var h in e+="\n["+g+"] ",arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}w(b+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function y(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),xd[b]||(w(c),xd[b]=!0)}function z(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function B(a,b){var c,e=k({},a);for(c in b)j(b,c)&&(d(a[c])&&d(b[c])?(e[c]={},k(e[c],a[c]),k(e[c],b[c])):null!=b[c]?e[c]=b[c]:delete e[c]);for(c in a)j(a,c)&&!j(b,c)&&d(a[c])&&(e[c]=k({},e[c]));return e}function C(a){null!=a&&this.set(a)}function J(a,b){var c=a.toLowerCase();Hd[c]=Hd[c+"s"]=Hd[b]=a}function K(a){return"string"==typeof a?Hd[a]||Hd[a.toLowerCase()]:void 0}function L(a){var b,c,d={};for(c in a)j(a,c)&&((b=K(c))&&(d[b]=a[c]));return d}function M(a,b){Id[a]=b}function O(b,c){return function(d){return null!=d?(Q(this,b,d),a.updateOffset(this,c),this):P(this,b)}}function P(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function Q(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function T(a,b,c){var d=""+Math.abs(a),e=b-d.length;return(0<=a?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function U(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Md[a]=e),b&&(Md[b[0]]=function(){return T(e.apply(this,arguments),b[1],b[2])}),c&&(Md[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function V(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function X(a,b){return a.isValid()?(b=Y(b,a.localeData()),Ld[b]=Ld[b]||function(a){var b,c,d=a.match(Jd);for(b=0,c=d.length;b<c;b++)Md[d[b]]?d[b]=Md[d[b]]:d[b]=V(d[b]);return function(b){var e,f="";for(e=0;e<c;e++)f+=z(d[e])?d[e].call(b,a):d[e];return f}}(b),Ld[b](a)):a.localeData().invalidDate()}function Y(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Kd.lastIndex=0;0<=d&&Kd.test(a);)a=a.replace(Kd,c),Kd.lastIndex=0,d-=1;return a}function Z(a,b,c){ce[a]=z(b)?b:function(a,d){return a&&c?c:b}}function $(a,b){return j(ce,a)?ce[a](b._strict,b._locale):new RegExp(function(a){return aa(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}(a))}function aa(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ba(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),g(b)&&(d=function(a,c){c[b]=u(a)}),c=0;c<a.length;c++)de[a[c]]=d}function ca(a,b){ba(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function da(a,b,c){null!=b&&j(de,a)&&de[a](b,c._a,c,a)}function ea(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function ja(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=u(b);else if(!g(b=a.localeData().monthsParse(b)))return a;return c=Math.min(a.date(),ea(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ka(b){return null!=b?(ja(this,b),a.updateOffset(this,!0),this):P(this,"Month")}function oa(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=l([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=aa(d[b]),e[b]=aa(e[b]);for(b=0;b<24;b++)f[b]=aa(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function pa(a){return qa(a)?366:365}function qa(a){return a%4==0&&a%100!=0||a%400==0}function ta(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&0<=a&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function ua(a,b,c){var d=7+b-c;return-((7+ta(a,0,d).getUTCDay()-b)%7)+d-1}function va(a,b,c,d,e){var f,g,j=1+7*(b-1)+(7+c-d)%7+ua(a,d,e);return g=j<=0?pa(f=a-1)+j:j>pa(a)?(f=a+1,j-pa(a)):(f=a,j),{year:f,dayOfYear:g}}function wa(a,b,c){var d,e,f=ua(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?d=g+xa(e=a.year()-1,b,c):g>xa(a.year(),b,c)?(d=g-xa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function xa(a,b,c){var d=ua(a,b,c),e=ua(a+1,b,c);return(pa(a)-d+e)/7}function Qa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;b<7;b++)c=l([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(g.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;b<7;b++)h[b]=aa(h[b]),i[b]=aa(i[b]),j[b]=aa(j[b]);this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Ra(){return this.hours()%12||12}function Ta(a,b){U(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Ua(a,b){return b._meridiemParse}function Xa(a){return a?a.toLowerCase().replace("_","-"):a}function Za(a){var b=null;if(!Fe[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Be._abbr,require("./locale/"+a),$a(b)}catch(a){}return Fe[a]}function $a(a,b){var c;return a&&((c=f(b)?bb(a):_a(a,b))&&(Be=c)),Be._abbr}function _a(a,b){if(null===b)return delete Fe[a],null;var c=Ee;if(b.abbr=a,null!=Fe[a])y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=Fe[a]._config;else if(null!=b.parentLocale){if(null==Fe[b.parentLocale])return Ge[b.parentLocale]||(Ge[b.parentLocale]=[]),Ge[b.parentLocale].push({name:a,config:b}),null;c=Fe[b.parentLocale]._config}return Fe[a]=new C(B(c,b)),Ge[a]&&Ge[a].forEach(function(a){_a(a.name,a.config)}),$a(a),Fe[a]}function bb(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Be;if(!c(a)){if(b=Za(a))return b;a=[a]}return function(a){for(var b,c,d,e,f=0;f<a.length;){for(b=(e=Xa(a[f]).split("-")).length,c=(c=Xa(a[f+1]))?c.split("-"):null;0<b;){if(d=Za(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&v(e,c,!0)>=b-1)break;b--}f++}return null}(a)}function db(a){var b,c=a._a;return c&&-2===n(a).overflow&&(b=c[fe]<0||11<c[fe]?fe:c[ge]<1||c[ge]>ea(c[ee],c[fe])?ge:c[he]<0||24<c[he]||24===c[he]&&(0!==c[ie]||0!==c[je]||0!==c[ke])?he:c[ie]<0||59<c[ie]?ie:c[je]<0||59<c[je]?je:c[ke]<0||999<c[ke]?ke:-1,n(a)._overflowDayOfYear&&(b<ee||ge<b)&&(b=ge),n(a)._overflowWeeks&&-1===b&&(b=le),n(a)._overflowWeekday&&-1===b&&(b=me),n(a).overflow=b),a}function eb(a){var b,c,d,e,f,g,h=a._i,i=He.exec(h)||Ie.exec(h);if(i){for(n(a).iso=!0,b=0,c=Ke.length;b<c;b++)if(Ke[b][1].exec(i[1])){e=Ke[b][0],d=!1!==Ke[b][2];break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Le.length;b<c;b++)if(Le[b][1].exec(i[3])){f=(i[2]||" ")+Le[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Je.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),lb(a)}else a._isValid=!1}function fb(a){var b,c,d,e,f,h,i,j={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(b=a._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),c=Ne.exec(b)){if(d=c[1]?"ddd"+(5===c[1].length?", ":" "):"",e="D MMM "+(10<c[2].length?"YYYY ":"YY "),f="HH:mm"+(c[4]?":ss":""),c[1]){var m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(c[2]).getDay()];if(c[1].substr(0,3)!==m)return n(a).weekdayMismatch=!0,void(a._isValid=!1)}switch(c[5].length){case 2:h=0===i?" +0000":((i="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(c[5][1].toUpperCase())-12)<0?" -":" +")+(""+i).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:h=j[c[5]];break;default:h=j[" GMT"]}c[5]=h,a._i=c.splice(1).join("")," ZZ",a._f=d+e+f+" ZZ",lb(a),n(a).rfc2822=!0}else a._isValid=!1}function hb(a,b,c){return null!=a?a:null!=b?b:c}function ib(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function jb(a){var b,c,d,e,f=[];if(!a._d){for(d=ib(a),a._w&&null==a._a[ge]&&null==a._a[fe]&&function(a){var b,c,d,e,f,g,h,i;if(null!=(b=a._w).GG||null!=b.W||null!=b.E)f=1,g=4,c=hb(b.GG,a._a[ee],wa(tb(),1,4).year),d=hb(b.W,1),((e=hb(b.E,1))<1||7<e)&&(i=!0);else{f=a._locale._week.dow,g=a._locale._week.doy;var j=wa(tb(),f,g);c=hb(b.gg,a._a[ee],j.year),d=hb(b.w,j.week),null!=b.d?((e=b.d)<0||6<e)&&(i=!0):null!=b.e?(e=b.e+f,(b.e<0||6<b.e)&&(i=!0)):e=f}d<1||d>xa(c,f,g)?n(a)._overflowWeeks=!0:null!=i?n(a)._overflowWeekday=!0:(h=va(c,d,e,f,g),a._a[ee]=h.year,a._dayOfYear=h.dayOfYear)}(a),null!=a._dayOfYear&&(e=hb(a._a[ee],d[ee]),(a._dayOfYear>pa(e)||0===a._dayOfYear)&&(n(a)._overflowDayOfYear=!0),c=ta(e,0,a._dayOfYear),a._a[fe]=c.getUTCMonth(),a._a[ge]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[he]&&0===a._a[ie]&&0===a._a[je]&&0===a._a[ke]&&(a._nextDay=!0,a._a[he]=0),a._d=(a._useUTC?ta:function(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&0<=a&&isFinite(h.getFullYear())&&h.setFullYear(a),h}).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[he]=24)}}function lb(b){if(b._f!==a.ISO_8601)if(b._f!==a.RFC_2822){b._a=[],n(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=Y(b._f,b._locale).match(Jd)||[],c=0;c<e.length;c++)f=e[c],(d=(h.match($(f,b))||[])[0])&&(0<(g=h.substr(0,h.indexOf(d))).length&&n(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Md[f]?(d?n(b).empty=!1:n(b).unusedTokens.push(f),da(f,d,b)):b._strict&&!d&&n(b).unusedTokens.push(f);n(b).charsLeftOver=i-j,0<h.length&&n(b).unusedInput.push(h),b._a[he]<=12&&!0===n(b).bigHour&&0<b._a[he]&&(n(b).bigHour=void 0),n(b).parsedDateParts=b._a.slice(0),n(b).meridiem=b._meridiem,b._a[he]=function(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):(null!=a.isPM&&((d=a.isPM(c))&&b<12&&(b+=12),d||12!==b||(b=0)),b)}(b._locale,b._a[he],b._meridiem),jb(b),db(b)}else fb(b);else eb(b)}function qb(a){var b=a._i,d=a._f;return a._locale=a._locale||bb(a._l),null===b||void 0===d&&""===b?p({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),s(b)?new r(db(b)):(h(b)?a._d=b:c(d)?function(a){var b,c,d,e,f;if(0===a._f.length)return n(a).invalidFormat=!0,a._d=new Date(NaN);for(e=0;e<a._f.length;e++)f=0,b=q({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],lb(b),o(b)&&(f+=n(b).charsLeftOver,f+=10*n(b).unusedTokens.length,n(b).score=f,(null==d||f<d)&&(d=f,c=b));k(a,c||b)}(a):d?lb(a):rb(a),o(a)||(a._d=null),a))}function rb(b){var e=b._i;f(e)?b._d=new Date(a.now()):h(e)?b._d=new Date(e.valueOf()):"string"==typeof e?function(b){var c=Me.exec(b._i);null!==c?b._d=new Date(+c[1]):(eb(b),!1===b._isValid&&(delete b._isValid,fb(b),!1===b._isValid&&(delete b._isValid,a.createFromInputFallback(b))))}(b):c(e)?(b._a=i(e.slice(0),function(a){return parseInt(a,10)}),jb(b)):d(e)?function(a){if(!a._d){var b=L(a._i);a._a=i([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),jb(a)}}(b):g(e)?b._d=new Date(e):a.createFromInputFallback(b)}function sb(a,b,f,g,h){var i={};return!0!==f&&!1!==f||(g=f,f=void 0),(d(a)&&function(a){var b;for(b in a)return!1;return!0}(a)||c(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=f,i._i=a,i._f=b,i._strict=g,function(a){var b=new r(db(qb(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}(i)}function tb(a,b,c,d){return sb(a,b,c,d,!1)}function ub(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return tb();for(d=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](d)||(d=b[e]);return d}function Ab(a){var b=L(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._isValid=function(a){for(var b in a)if(-1===Re.indexOf(b)||null!=a[b]&&isNaN(a[b]))return!1;for(var c=!1,d=0;d<Re.length;++d)if(a[Re[d]]){if(c)return!1;parseFloat(a[Re[d]])!==u(a[Re[d]])&&(c=!0)}return!0}(b),this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=bb(),this._bubble()}function Bb(a){return a instanceof Ab}function Cb(a){return a<0?-1*Math.round(-1*a):Math.round(a)}function Db(a,b){U(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+T(~~(a/60),2)+b+T(~~a%60,2)})}function Eb(a,b){var c=(b||"").match(a);if(null===c)return null;var e=((c[c.length-1]||[])+"").match(Se)||["-",0,0],f=60*e[1]+u(e[2]);return 0===f?0:"+"===e[0]?f:-f}function Fb(b,c){var d,e;return c._isUTC?(d=c.clone(),e=(s(b)||h(b)?b.valueOf():tb(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),a.updateOffset(d,!1),d):tb(b).local()}function Gb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Rb(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Sb(a,b){var c,d,e,f=a,h=null;return Bb(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:g(a)?(f={},b?f[b]=a:f.milliseconds=a):(h=Te.exec(a))?(c="-"===h[1]?-1:1,f={y:0,d:u(h[ge])*c,h:u(h[he])*c,m:u(h[ie])*c,s:u(h[je])*c,ms:u(Cb(1e3*h[ke]))*c}):(h=Ue.exec(a))?(c="-"===h[1]?-1:1,f={y:Tb(h[2],c),M:Tb(h[3],c),w:Tb(h[4],c),d:Tb(h[5],c),h:Tb(h[6],c),m:Tb(h[7],c),s:Tb(h[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=function(a,b){var c;return a.isValid()&&b.isValid()?(b=Fb(b,a),a.isBefore(b)?c=Ub(a,b):((c=Ub(b,a)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}(tb(f.from),tb(f.to)),(f={}).ms=e.milliseconds,f.M=e.months),d=new Ab(f),Bb(a)&&j(a,"_locale")&&(d._locale=a._locale),d}function Tb(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Ub(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Wb(a,b){return function(c,d){var f;return null===d||isNaN(+d)||(y(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),Xb(this,Sb(c="string"==typeof c?+c:c,d),a),this}}function Xb(b,c,d,e){var f=c._milliseconds,g=Cb(c._days),h=Cb(c._months);b.isValid()&&(e=null==e||e,f&&b._d.setTime(b._d.valueOf()+f*d),g&&Q(b,"Date",P(b,"Date")+g*d),h&&ja(b,P(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function pc(a){var b;return void 0===a?this._locale._abbr:(null!=(b=bb(a))&&(this._locale=b),this)}function qc(){return this._locale}function Dc(a,b){U(0,[a,a.length],0,b)}function Ic(a,b,c,d,e){var f;return null==a?wa(this,d,e).year:((f=xa(a,d,e))<b&&(b=f),function(a,b,c,d,e){var f=va(a,b,c,d,e),g=ta(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}.call(this,a,b,c,d,e))}function Mc(a,b){b[ke]=u(1e3*("0."+a))}function Rc(a){return a}function Sc(a,b,c,d){var e=bb(),f=l().set(d,b);return e[c](f,a)}function Tc(a,b,c){if(g(a)&&(b=a,a=void 0),a=a||"",null!=b)return Sc(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=Sc(a,d,c,"month");return e}function Uc(a,b,c,d){b=("boolean"==typeof a||(c=b=a,a=!1),g(b)&&(c=b,b=void 0),b||"");var e=bb(),f=a?e._week.dow:0;if(null!=c)return Sc(b,(c+f)%7,d,"day");var h,i=[];for(h=0;h<7;h++)i[h]=Sc(b,(h+f)%7,d,"day");return i}function _c(a,b,c,d){var e=Sb(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function cd(a){return a<0?Math.floor(a):Math.ceil(a)}function ed(a){return 4800*a/146097}function fd(a){return 146097*a/4800}function id(a){return function(){return this.as(a)}}function kd(a){return function(){return this.isValid()?this._data[a]:NaN}}function rd(){if(!this.isValid())return this.localeData().invalidDate();var a,b,d=wf(this._milliseconds)/1e3,e=wf(this._days),f=wf(this._months);b=t((a=t(d/60))/60),d%=60,a%=60;var g=t(f/12),h=f%=12,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var sd,ud=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1},vd=a.momentProperties=[],wd=!1,xd={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var Ad=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)j(a,b)&&c.push(b);return c},Hd={},Id={},Jd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Kd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ld={},Md={},Nd=/\d/,Od=/\d\d/,Pd=/\d{3}/,Qd=/\d{4}/,Rd=/[+-]?\d{6}/,Sd=/\d\d?/,Td=/\d\d\d\d?/,Ud=/\d\d\d\d\d\d?/,Vd=/\d{1,3}/,Wd=/\d{1,4}/,Xd=/[+-]?\d{1,6}/,Yd=/\d+/,Zd=/[+-]?\d+/,$d=/Z|[+-]\d\d:?\d\d/gi,_d=/Z|[+-]\d\d(?::?\d\d)?/gi,be=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ce={},de={},ee=0,fe=1,ge=2,he=3,ie=4,je=5,ke=6,le=7,me=8,ne=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),U("MMMM",0,0,function(a){return this.localeData().months(this,a)}),J("month","M"),M("month",8),Z("M",Sd),Z("MM",Sd,Od),Z("MMM",function(a,b){return b.monthsShortRegex(a)}),Z("MMMM",function(a,b){return b.monthsRegex(a)}),ba(["M","MM"],function(a,b){b[fe]=u(a)-1}),ba(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[fe]=e:n(c).invalidMonth=a});var oe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),qe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),re=be,se=be;U("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),J("year","y"),M("year",1),Z("Y",Zd),Z("YY",Sd,Od),Z("YYYY",Wd,Qd),Z("YYYYY",Xd,Rd),Z("YYYYYY",Xd,Rd),ba(["YYYYY","YYYYYY"],ee),ba("YYYY",function(b,c){c[ee]=2===b.length?a.parseTwoDigitYear(b):u(b)}),ba("YY",function(b,c){c[ee]=a.parseTwoDigitYear(b)}),ba("Y",function(a,b){b[ee]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return u(a)+(68<u(a)?1900:2e3)};var te=O("FullYear",!0);U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),J("week","w"),J("isoWeek","W"),M("week",5),M("isoWeek",5),Z("w",Sd),Z("ww",Sd,Od),Z("W",Sd),Z("WW",Sd,Od),ca(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=u(a)});U("d",0,"do","day"),U("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),U("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),U("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),J("day","d"),J("weekday","e"),J("isoWeekday","E"),M("day",11),M("weekday",11),M("isoWeekday",11),Z("d",Sd),Z("e",Sd),Z("E",Sd),Z("dd",function(a,b){return b.weekdaysMinRegex(a)}),Z("ddd",function(a,b){return b.weekdaysShortRegex(a)}),Z("dddd",function(a,b){return b.weekdaysRegex(a)}),ca(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:n(c).invalidWeekday=a}),ca(["d","e","E"],function(a,b,c,d){b[d]=u(a)});var ve="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),we="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ye=be,ze=be,Ae=be;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Ra),U("k",["kk",2],0,function(){return this.hours()||24}),U("hmm",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+T(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)}),Ta("a",!0),Ta("A",!1),J("hour","h"),M("hour",13),Z("a",Ua),Z("A",Ua),Z("H",Sd),Z("h",Sd),Z("k",Sd),Z("HH",Sd,Od),Z("hh",Sd,Od),Z("kk",Sd,Od),Z("hmm",Td),Z("hmmss",Ud),Z("Hmm",Td),Z("Hmmss",Ud),ba(["H","HH"],he),ba(["k","kk"],function(a,b,c){var d=u(a);b[he]=24===d?0:d}),ba(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),ba(["h","hh"],function(a,b,c){b[he]=u(a),n(c).bigHour=!0}),ba("hmm",function(a,b,c){var d=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d)),n(c).bigHour=!0}),ba("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d,2)),b[je]=u(a.substr(e)),n(c).bigHour=!0}),ba("Hmm",function(a,b,c){var d=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d))}),ba("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d,2)),b[je]=u(a.substr(e))});var Be,De=O("Hours",!0),Ee={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:pe,monthsShort:qe,week:{dow:0,doy:6},weekdays:ve,weekdaysMin:xe,weekdaysShort:we,meridiemParse:/[ap]\.?m?\.?/i},Fe={},Ge={},He=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ie=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Je=/Z|[+-]\d\d(?::?\d\d)?/,Ke=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Le=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Me=/^\/?Date\((\-?\d+)/i,Ne=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;a.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),a.ISO_8601=function(){},a.RFC_2822=function(){};var Oe=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=tb.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:p()}),Pe=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=tb.apply(null,arguments);return this.isValid()&&a.isValid()?this<a?this:a:p()}),Re=["year","quarter","month","week","day","hour","minute","second","millisecond"];Db("Z",":"),Db("ZZ",""),Z("Z",_d),Z("ZZ",_d),ba(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Eb(_d,a)});var Se=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Te=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ue=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Sb.fn=Ab.prototype,Sb.invalid=function(){return Sb(NaN)};var Ve=Wb(1,"add"),We=Wb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xe=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dc("gggg","weekYear"),Dc("ggggg","weekYear"),Dc("GGGG","isoWeekYear"),Dc("GGGGG","isoWeekYear"),J("weekYear","gg"),J("isoWeekYear","GG"),M("weekYear",1),M("isoWeekYear",1),Z("G",Zd),Z("g",Zd),Z("GG",Sd,Od),Z("gg",Sd,Od),Z("GGGG",Wd,Qd),Z("gggg",Wd,Qd),Z("GGGGG",Xd,Rd),Z("ggggg",Xd,Rd),ca(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=u(a)}),ca(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),U("Q",0,"Qo","quarter"),J("quarter","Q"),M("quarter",7),Z("Q",Nd),ba("Q",function(a,b){b[fe]=3*(u(a)-1)}),U("D",["DD",2],"Do","date"),J("date","D"),M("date",9),Z("D",Sd),Z("DD",Sd,Od),Z("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient}),ba(["D","DD"],ge),ba("Do",function(a,b){b[ge]=u(a.match(Sd)[0])});var Ye=O("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),J("dayOfYear","DDD"),M("dayOfYear",4),Z("DDD",Vd),Z("DDDD",Pd),ba(["DDD","DDDD"],function(a,b,c){c._dayOfYear=u(a)}),U("m",["mm",2],0,"minute"),J("minute","m"),M("minute",14),Z("m",Sd),Z("mm",Sd,Od),ba(["m","mm"],ie);var Ze=O("Minutes",!1);U("s",["ss",2],0,"second"),J("second","s"),M("second",15),Z("s",Sd),Z("ss",Sd,Od),ba(["s","ss"],je);var _e,$e=O("Seconds",!1);for(U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),J("millisecond","ms"),M("millisecond",16),Z("S",Vd,Nd),Z("SS",Vd,Od),Z("SSS",Vd,Pd),_e="SSSS";_e.length<=9;_e+="S")Z(_e,Yd);for(_e="S";_e.length<=9;_e+="S")ba(_e,Mc);var af=O("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var bf=r.prototype;bf.add=Ve,bf.calendar=function(b,c){var d=b||tb(),e=Fb(d,this).startOf("day"),f=a.calendarFormat(this,e)||"sameElse",g=c&&(z(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,tb(d)))},bf.clone=function(){return new r(this)},bf.diff=function(a,b,c){var d,e,f,g;return this.isValid()&&(d=Fb(a,this)).isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),"year"===(b=K(b))||"month"===b||"quarter"===b?(g=function(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return d=b-f<0?(c=a.clone().add(e-1,"months"),(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),(b-f)/(c-f)),-(e+d)||0}(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:t(g)):NaN},bf.endOf=function(a){return void 0===(a=K(a))||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))},bf.format=function(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=X(this,b);return this.localeData().postformat(c)},bf.from=function(a,b){return this.isValid()&&(s(a)&&a.isValid()||tb(a).isValid())?Sb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()},bf.fromNow=function(a){return this.from(tb(),a)},bf.to=function(a,b){return this.isValid()&&(s(a)&&a.isValid()||tb(a).isValid())?Sb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()},bf.toNow=function(a){return this.to(tb(),a)},bf.get=function(a){return z(this[a=K(a)])?this[a]():this},bf.invalidAt=function(){return n(this).overflow},bf.isAfter=function(a,b){var c=s(a)?a:tb(a);return!(!this.isValid()||!c.isValid())&&("millisecond"===(b=K(f(b)?"millisecond":b))?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())},bf.isBefore=function(a,b){var c=s(a)?a:tb(a);return!(!this.isValid()||!c.isValid())&&("millisecond"===(b=K(f(b)?"millisecond":b))?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())},bf.isBetween=function(a,b,c,d){return("("===(d=d||"()")[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))},bf.isSame=function(a,b){var c,d=s(a)?a:tb(a);return!(!this.isValid()||!d.isValid())&&("millisecond"===(b=K(b||"millisecond"))?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))},bf.isSameOrAfter=function(a,b){return this.isSame(a,b)||this.isAfter(a,b)},bf.isSameOrBefore=function(a,b){return this.isSame(a,b)||this.isBefore(a,b)},bf.isValid=function(){return o(this)},bf.lang=Xe,bf.locale=pc,bf.localeData=qc,bf.max=Pe,bf.min=Oe,bf.parsingFlags=function(){return k({},n(this))},bf.set=function(a,b){if("object"==typeof a)for(var c=function(a){var b=[];for(var c in a)b.push({unit:c,priority:Id[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}(a=L(a)),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit]);else if(z(this[a=K(a)]))return this[a](b);return this},bf.startOf=function(a){switch(a=K(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},bf.subtract=We,bf.toArray=function(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]},bf.toObject=function(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}},bf.toDate=function(){return new Date(this.valueOf())},bf.toISOString=function(){if(!this.isValid())return null;var a=this.clone().utc();return a.year()<0||9999<a.year()?X(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(Date.prototype.toISOString)?this.toDate().toISOString():X(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},bf.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var c="["+a+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",f=b+'[")]';return this.format(c+d+"-MM-DD[T]HH:mm:ss.SSS"+f)},bf.toJSON=function(){return this.isValid()?this.toISOString():null},bf.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},bf.unix=function(){return Math.floor(this.valueOf()/1e3)},bf.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},bf.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},bf.year=te,bf.isLeapYear=function(){return qa(this.year())},bf.weekYear=function(a){return Ic.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},bf.isoWeekYear=function(a){return Ic.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)},bf.quarter=bf.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},bf.month=ka,bf.daysInMonth=function(){return ea(this.year(),this.month())},bf.week=bf.weeks=function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},bf.isoWeek=bf.isoWeeks=function(a){var b=wa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},bf.weeksInYear=function(){var a=this.localeData()._week;return xa(this.year(),a.dow,a.doy)},bf.isoWeeksInYear=function(){return xa(this.year(),1,4)},bf.date=Ye,bf.day=bf.days=function(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=function(a,b){return"string"!=typeof a?a:isNaN(a)?"number"==typeof(a=b.weekdaysParse(a))?a:null:parseInt(a,10)}(a,this.localeData()),this.add(a-b,"d")):b},bf.weekday=function(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},bf.isoWeekday=function(a){if(!this.isValid())return null!=a?this:NaN;if(null==a)return this.day()||7;var b=function(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}(a,this.localeData());return this.day(this.day()%7?b:b-7)},bf.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},bf.hour=bf.hours=De,bf.minute=bf.minutes=Ze,bf.second=bf.seconds=$e,bf.millisecond=bf.milliseconds=af,bf.utcOffset=function(b,c,d){var e,f=this._offset||0;if(!this.isValid())return null!=b?this:NaN;if(null==b)return this._isUTC?f:Gb(this);if("string"==typeof b){if(null===(b=Eb(_d,b)))return this}else Math.abs(b)<16&&!d&&(b*=60);return!this._isUTC&&c&&(e=Gb(this)),this._offset=b,this._isUTC=!0,null!=e&&this.add(e,"m"),f!==b&&(!c||this._changeInProgress?Xb(this,Sb(b-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this},bf.utc=function(a){return this.utcOffset(0,a)},bf.local=function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Gb(this),"m")),this},bf.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var a=Eb($d,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this},bf.hasAlignedHourOffset=function(a){return!!this.isValid()&&(a=a?tb(a).utcOffset():0,(this.utcOffset()-a)%60==0)},bf.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},bf.isLocal=function(){return!!this.isValid()&&!this._isUTC},bf.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},bf.isUtc=Rb,bf.isUTC=Rb,bf.zoneAbbr=function(){return this._isUTC?"UTC":""},bf.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},bf.dates=x("dates accessor is deprecated. Use date instead.",Ye),bf.months=x("months accessor is deprecated. Use month instead",ka),bf.years=x("years accessor is deprecated. Use year instead",te),bf.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}),bf.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!f(this._isDSTShifted))return this._isDSTShifted;var a={};if(q(a,this),(a=qb(a))._a){var b=a._isUTC?l(a._a):tb(a._a);this._isDSTShifted=this.isValid()&&0<v(a._a,b.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var cf=C.prototype;cf.calendar=function(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return z(d)?d.call(b,c):d},cf.longDateFormat=function(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])},cf.invalidDate=function(){return this._invalidDate},cf.ordinal=function(a){return this._ordinal.replace("%d",a)},cf.preparse=Rc,cf.postformat=Rc,cf.relativeTime=function(a,b,c,d){var e=this._relativeTime[c];return z(e)?e(a,b,c,d):e.replace(/%d/i,a)},cf.pastFuture=function(a,b){var c=this._relativeTime[0<a?"future":"past"];return z(c)?c(b):c.replace(/%s/i,b)},cf.set=function(a){var b,c;for(c in a)z(b=a[c])?this[c]=b:this["_"+c]=b;this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},cf.months=function(a,b){return a?c(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||oe).test(b)?"format":"standalone"][a.month()]:c(this._months)?this._months:this._months.standalone},cf.monthsShort=function(a,b){return a?c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[oe.test(b)?"format":"standalone"][a.month()]:c(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},cf.monthsParse=function(a,b,c){var d,e,f;if(this._monthsParseExact)return function(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=l([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?-1!==(e="MMM"===b?ne.call(this._shortMonthsParse,g):ne.call(this._longMonthsParse,g))?e:null:"MMM"===b?-1!==(e=ne.call(this._shortMonthsParse,g))?e:-1!==(e=ne.call(this._longMonthsParse,g))?e:null:-1!==(e=ne.call(this._longMonthsParse,g))?e:-1!==(e=ne.call(this._shortMonthsParse,g))?e:null}.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=l([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}},cf.monthsRegex=function(a){return this._monthsParseExact?(j(this,"_monthsRegex")||oa.call(this),a?this._monthsStrictRegex:this._monthsRegex):(j(this,"_monthsRegex")||(this._monthsRegex=se),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)},cf.monthsShortRegex=function(a){return this._monthsParseExact?(j(this,"_monthsRegex")||oa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(j(this,"_monthsShortRegex")||(this._monthsShortRegex=re),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)},cf.week=function(a){return wa(a,this._week.dow,this._week.doy).week},cf.firstDayOfYear=function(){return this._week.doy},cf.firstDayOfWeek=function(){return this._week.dow},cf.weekdays=function(a,b){return a?c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:c(this._weekdays)?this._weekdays:this._weekdays.standalone},cf.weekdaysMin=function(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin},cf.weekdaysShort=function(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort},cf.weekdaysParse=function(a,b,c){var d,e,f;if(this._weekdaysParseExact)return function(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=l([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?-1!==(e="dddd"===b?ne.call(this._weekdaysParse,g):"ddd"===b?ne.call(this._shortWeekdaysParse,g):ne.call(this._minWeekdaysParse,g))?e:null:"dddd"===b?-1!==(e=ne.call(this._weekdaysParse,g))?e:-1!==(e=ne.call(this._shortWeekdaysParse,g))?e:-1!==(e=ne.call(this._minWeekdaysParse,g))?e:null:"ddd"===b?-1!==(e=ne.call(this._shortWeekdaysParse,g))?e:-1!==(e=ne.call(this._weekdaysParse,g))?e:-1!==(e=ne.call(this._minWeekdaysParse,g))?e:null:-1!==(e=ne.call(this._minWeekdaysParse,g))?e:-1!==(e=ne.call(this._weekdaysParse,g))?e:-1!==(e=ne.call(this._shortWeekdaysParse,g))?e:null}.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=l([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}},cf.weekdaysRegex=function(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(j(this,"_weekdaysRegex")||(this._weekdaysRegex=ye),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)},cf.weekdaysShortRegex=function(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(j(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ze),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},cf.weekdaysMinRegex=function(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(j(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ae),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},cf.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)},cf.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},$a("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;return a+(1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),a.lang=x("moment.lang is deprecated. Use moment.locale instead.",$a),a.langData=x("moment.langData is deprecated. Use moment.localeData instead.",bb);var df=Math.abs,ef=id("ms"),ff=id("s"),gf=id("m"),hf=id("h"),jf=id("d"),kf=id("w"),lf=id("M"),mf=id("y"),nf=kd("milliseconds"),of=kd("seconds"),pf=kd("minutes"),qf=kd("hours"),rf=kd("days"),sf=kd("months"),tf=kd("years"),uf=Math.round,vf={ss:44,s:45,m:45,h:22,d:26,M:11},wf=Math.abs,xf=Ab.prototype;return xf.isValid=function(){return this._isValid},xf.abs=function(){var a=this._data;return this._milliseconds=df(this._milliseconds),this._days=df(this._days),this._months=df(this._months),a.milliseconds=df(a.milliseconds),a.seconds=df(a.seconds),a.minutes=df(a.minutes),a.hours=df(a.hours),a.months=df(a.months),a.years=df(a.years),this},xf.add=function(a,b){return _c(this,a,b,1)},xf.subtract=function(a,b){return _c(this,a,b,-1)},xf.as=function(a){if(!this.isValid())return NaN;var b,c,d=this._milliseconds;if("month"===(a=K(a))||"year"===a)return b=this._days+d/864e5,c=this._months+ed(b),"month"===a?c:c/12;switch(b=this._days+Math.round(fd(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}},xf.asMilliseconds=ef,xf.asSeconds=ff,xf.asMinutes=gf,xf.asHours=hf,xf.asDays=jf,xf.asWeeks=kf,xf.asMonths=lf,xf.asYears=mf,xf.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12):NaN},xf._bubble=function(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return 0<=f&&0<=g&&0<=h||f<=0&&g<=0&&h<=0||(f+=864e5*cd(fd(h)+g),h=g=0),i.milliseconds=f%1e3,a=t(f/1e3),i.seconds=a%60,b=t(a/60),i.minutes=b%60,c=t(b/60),i.hours=c%24,h+=e=t(ed(g+=t(c/24))),g-=cd(fd(e)),d=t(h/12),h%=12,i.days=g,i.months=h,i.years=d,this},xf.get=function(a){return a=K(a),this.isValid()?this[a+"s"]():NaN},xf.milliseconds=nf,xf.seconds=of,xf.minutes=pf,xf.hours=qf,xf.days=rf,xf.weeks=function(){return t(this.days()/7)},xf.months=sf,xf.years=tf,xf.humanize=function(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData(),c=function(a,b,c){var d=Sb(a).abs(),e=uf(d.as("s")),f=uf(d.as("m")),g=uf(d.as("h")),h=uf(d.as("d")),i=uf(d.as("M")),j=uf(d.as("y")),k=e<=vf.ss&&["s",e]||e<vf.s&&["ss",e]||f<=1&&["m"]||f<vf.m&&["mm",f]||g<=1&&["h"]||g<vf.h&&["hh",g]||h<=1&&["d"]||h<vf.d&&["dd",h]||i<=1&&["M"]||i<vf.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=0<+a,k[4]=c,function(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}.apply(null,k)}(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)},xf.toISOString=rd,xf.toString=rd,xf.toJSON=rd,xf.locale=pc,xf.localeData=qc,xf.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rd),xf.lang=Xe,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Z("x",Zd),Z("X",/[+-]?\d+(\.\d{1,3})?/),ba("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),ba("x",function(a,b,c){c._d=new Date(u(a))}),a.version="2.18.1",function(a){sd=a}(tb),a.fn=bf,a.min=function(){return ub("isBefore",[].slice.call(arguments,0))},a.max=function(){return ub("isAfter",[].slice.call(arguments,0))},a.now=function(){return Date.now?Date.now():+new Date},a.utc=l,a.unix=function(a){return tb(1e3*a)},a.months=function(a,b){return Tc(a,b,"months")},a.isDate=h,a.locale=$a,a.invalid=p,a.duration=Sb,a.isMoment=s,a.weekdays=function(a,b,c){return Uc(a,b,c,"weekdays")},a.parseZone=function(){return tb.apply(null,arguments).parseZone()},a.localeData=bb,a.isDuration=Bb,a.monthsShort=function(a,b){return Tc(a,b,"monthsShort")},a.weekdaysMin=function(a,b,c){return Uc(a,b,c,"weekdaysMin")},a.defineLocale=_a,a.updateLocale=function(a,b){if(null!=b){var c,d=Ee;null!=Fe[a]&&(d=Fe[a]._config),(c=new C(b=B(d,b))).parentLocale=Fe[a],Fe[a]=c,$a(a)}else null!=Fe[a]&&(null!=Fe[a].parentLocale?Fe[a]=Fe[a].parentLocale:null!=Fe[a]&&delete Fe[a]);return Fe[a]},a.locales=function(){return Ad(Fe)},a.weekdaysShort=function(a,b,c){return Uc(a,b,c,"weekdaysShort")},a.normalizeUnits=K,a.relativeTimeRounding=function(a){return void 0===a?uf:"function"==typeof a&&(uf=a,!0)},a.relativeTimeThreshold=function(a,b){return void 0!==vf[a]&&(void 0===b?vf[a]:(vf[a]=b,"s"===a&&(vf.ss=b-1),!0))},a.calendarFormat=function(a,b){var c=a.diff(b,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"},a.prototype=bf,a}),function(global,factory){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?factory(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],factory):factory(global.moment)}(this,function(moment){"use strict";var monthsShortDot="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),monthsShort="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");return moment.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(m,format){return m?/-MMM-/.test(format)?monthsShort[m.month()]:monthsShortDot[m.month()]:monthsShortDot},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}),function(S,K){"object"==typeof module&&module.exports?module.exports=S.document?K(S):K:S.Highcharts=K(S)}("undefined"!=typeof window?window:this,function(S){var a,B,H,E,q,f,l,t,K=(a=void 0===S?window:S,B=a.document,H=a.navigator&&a.navigator.userAgent||"",E=B&&B.createElementNS&&!!B.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,q=/(edge|msie|trident)/i.test(H)&&!a.opera,f=-1!==H.indexOf("Firefox"),l=-1!==H.indexOf("Chrome"),t=f&&parseInt(H.split("Firefox/")[1],10)<4,a.Highcharts?a.Highcharts.error(16,!0):{product:"Highcharts",version:"6.0.7",deg2rad:2*Math.PI/360,doc:B,hasBidiBug:t,hasTouch:B&&void 0!==B.documentElement.ontouchstart,isMS:q,isWebKit:-1!==H.indexOf("AppleWebKit"),isFirefox:f,isChrome:l,isSafari:!l&&-1!==H.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(H),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:E,win:a,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]});!function(a){a.timers=[];var B=a.charts,H=a.doc,E=a.win;a.error=function(q,f){if(q=a.isNumber(q)?"Highcharts error #"+q+": www.highcharts.com/errors/"+q:q,f)throw Error(q);E.console&&console.log(q)},a.Fx=function(a,f,l){this.options=f,this.elem=a,this.prop=l},a.Fx.prototype={dSetter:function(){var v,a=this.paths[0],f=this.paths[1],l=[],t=this.now,n=a.length;if(1===t)l=this.toD;else if(n===f.length&&t<1)for(;n--;)v=parseFloat(a[n]),l[n]=isNaN(v)?f[n]:t*parseFloat(f[n]-v)+v;else l=f;this.elem.attr("d",l,null,!0)},update:function(){var a=this.elem,f=this.prop,l=this.now,t=this.options.step;this[f+"Setter"]?this[f+"Setter"]():a.attr?a.element&&a.attr(f,l,null,!0):a.style[f]=l+this.unit,t&&t.call(a,l,this)},run:function(q,f,l){var t=this,n=t.options,v=function(a){return!v.stopped&&t.step(a)},u=E.requestAnimationFrame||function(a){setTimeout(a,13)},c=function(){for(var b=0;b<a.timers.length;b++)a.timers[b]()||a.timers.splice(b--,1);a.timers.length&&u(c)};q===f?(delete n.curAnim[this.prop],n.complete&&0===a.keys(n.curAnim).length&&n.complete.call(this.elem)):(this.startTime=+new Date,this.start=q,this.end=f,this.unit=l,this.now=this.start,this.pos=0,v.elem=this.elem,v.prop=this.prop,v()&&1===a.timers.push(v)&&u(c))},step:function(q){var l,f=+new Date,t=this.options,n=this.elem,v=t.complete,u=t.duration,c=t.curAnim;return q=!(n.attr&&!n.element)&&(q||f>=u+this.startTime?(this.now=this.end,this.pos=1,this.update(),l=c[this.prop]=!0,a.objectEach(c,function(a){!0!==a&&(l=!1)}),l&&v&&v.call(n),!1):(this.pos=t.easing((f-this.startTime)/u),this.now=this.start+(this.end-this.start)*this.pos,this.update(),!0))},initPath:function(q,f,l){function t(a){var c,h;for(e=a.length;e--;)c="M"===a[e]||"L"===a[e],h=/[a-zA-Z]/.test(a[e+3]),c&&h&&a.splice(e+1,0,a[e+1],a[e+2],a[e+1],a[e+2])}function n(a,c){for(;a.length<h;){a[0]=c[h-a.length];var b=a.slice(0,d);[].splice.apply(a,[0,0].concat(b)),p&&(b=a.slice(a.length-d),[].splice.apply(a,[a.length,0].concat(b)),e--)}a[0]="M"}function v(a,c){for(var b=(h-a.length)/d;0<b&&b--;)(k=a.slice().splice(a.length/r-d,d*r))[0]=c[h-d-b*d],m&&(k[d-6]=k[d-2],k[d-5]=k[d-1]),[].splice.apply(a,[a.length/r,0].concat(k)),p&&b--}f=f||"";var u,h,k,e,c=q.startX,b=q.endX,m=-1<f.indexOf("C"),d=m?7:3;f=f.split(" "),l=l.slice();var I,p=q.isArea,r=p?2:1;if(m&&(t(f),t(l)),c&&b){for(e=0;e<c.length;e++){if(c[e]===b[0]){u=e;break}if(c[0]===b[b.length-c.length+e]){u=e,I=!0;break}}void 0===u&&(f=[])}return f.length&&a.isNumber(u)&&(h=l.length+u*r*d,I?(n(f,l),v(l,f)):(n(l,f),v(f,l))),[f,l]}},a.Fx.prototype.fillSetter=a.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,a.color(this.start).tweenTo(a.color(this.end),this.pos),null,!0)},a.merge=function(){var q,l,f=arguments,t={},n=function(l,q){return"object"!=typeof l&&(l={}),a.objectEach(q,function(c,b){!a.isObject(c,!0)||a.isClass(c)||a.isDOMElement(c)?l[b]=q[b]:l[b]=n(l[b]||{},c)}),l};for(!0===f[0]&&(t=f[1],f=Array.prototype.slice.call(f,2)),l=f.length,q=0;q<l;q++)t=n(t,f[q]);return t},a.pInt=function(a,f){return parseInt(a,f||10)},a.isString=function(a){return"string"==typeof a},a.isArray=function(a){return"[object Array]"===(a=Object.prototype.toString.call(a))||"[object Array Iterator]"===a},a.isObject=function(q,f){return!(!q||"object"!=typeof q||f&&a.isArray(q))},a.isDOMElement=function(q){return a.isObject(q)&&"number"==typeof q.nodeType},a.isClass=function(q){var f=q&&q.constructor;return!(!a.isObject(q,!0)||a.isDOMElement(q)||!f||!f.name||"Object"===f.name)},a.isNumber=function(a){return"number"==typeof a&&!isNaN(a)&&a<1/0&&-1/0<a},a.erase=function(a,f){for(var l=a.length;l--;)if(a[l]===f){a.splice(l,1);break}},a.defined=function(a){return null!=a},a.attr=function(q,f,l){var t;return a.isString(f)?a.defined(l)?q.setAttribute(f,l):q&&q.getAttribute&&(t=q.getAttribute(f)):a.defined(f)&&a.isObject(f)&&a.objectEach(f,function(a,l){q.setAttribute(l,a)}),t},a.splat=function(q){return a.isArray(q)?q:[q]},a.syncTimeout=function(a,f,l){if(f)return setTimeout(a,f,l);a.call(0,l)},a.extend=function(a,f){var l;for(l in a||(a={}),f)a[l]=f[l];return a},a.pick=function(){var f,l,a=arguments,t=a.length;for(f=0;f<t;f++)if(null!=(l=a[f]))return l},a.css=function(q,f){a.isMS&&!a.svg&&f&&void 0!==f.opacity&&(f.filter="alpha(opacity="+100*f.opacity+")"),a.extend(q.style,f)},a.createElement=function(q,f,l,t,n){q=H.createElement(q);var v=a.css;return f&&a.extend(q,f),n&&v(q,{padding:0,border:"none",margin:0}),l&&v(q,l),t&&t.appendChild(q),q},a.extendClass=function(q,f){var l=function(){};return l.prototype=new q,a.extend(l.prototype,f),l},a.pad=function(a,f,l){return Array((f||2)+1-String(a).length).join(l||0)+a},a.relativeLength=function(a,f,l){return/%$/.test(a)?f*parseFloat(a)/100+(l||0):parseFloat(a)},a.wrap=function(a,f,l){var t=a[f];a[f]=function(){var a=Array.prototype.slice.call(arguments),v=arguments,u=this;return u.proceed=function(){t.apply(u,arguments.length?arguments:v)},a.unshift(t),a=l.apply(this,a),u.proceed=null,a}},a.formatSingle=function(q,f,l){var n=a.defaultOptions.lang;return/f$/.test(q)?(l=(l=q.match(/\.([0-9])/))?l[1]:-1,null!==f&&(f=a.numberFormat(f,l,n.decimalPoint,-1<q.indexOf(",")?n.thousandsSep:""))):f=(l||a.time).dateFormat(q,f),f},a.format=function(q,f,l){for(var v,u,c,b,d,t="{",n=!1,m=[];q&&-1!==(t=q.indexOf(t));){if(v=q.slice(0,t),n){for(b=(u=(v=v.split(":")).shift().split(".")).length,d=f,c=0;c<b;c++)d&&(d=d[u[c]]);v.length&&(d=a.formatSingle(v.join(":"),d,l)),m.push(d)}else m.push(v);q=q.slice(t+1),t=(n=!n)?"}":"{"}return m.push(q),m.join("")},a.getMagnitude=function(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))},a.normalizeTickInterval=function(q,f,l,t,n){var v,u=q;for(v=q/(l=a.pick(l,1)),f||(f=n?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===t&&(1===l?f=a.grep(f,function(a){return 0==a%1}):l<=.1&&(f=[1/l]))),t=0;t<f.length&&(u=f[t],!(n&&q<=u*l||!n&&v<=(f[t]+(f[t+1]||f[t]))/2));t++);return a.correctFloat(u*l,-Math.round(Math.log(.001)/Math.LN10))},a.stableSort=function(a,f){var t,n,l=a.length;for(n=0;n<l;n++)a[n].safeI=n;for(a.sort(function(a,l){return 0===(t=f(a,l))?a.safeI-l.safeI:t}),n=0;n<l;n++)delete a[n].safeI},a.arrayMin=function(a){for(var f=a.length,l=a[0];f--;)a[f]<l&&(l=a[f]);return l},a.arrayMax=function(a){for(var f=a.length,l=a[0];f--;)a[f]>l&&(l=a[f]);return l},a.destroyObjectProperties=function(q,f){a.objectEach(q,function(a,t){a&&a!==f&&a.destroy&&a.destroy(),delete q[t]})},a.discardElement=function(q){var f=a.garbageBin;f||(f=a.createElement("div")),q&&f.appendChild(q),f.innerHTML=""},a.correctFloat=function(a,f){return parseFloat(a.toPrecision(f||14))},a.setAnimation=function(q,f){f.renderer.globalAnimation=a.pick(q,f.options.chart.animation,!0)},a.animObject=function(q){return a.isObject(q)?a.merge(q):{duration:q?500:0}},a.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},a.numberFormat=function(q,f,l,t){q=+q||0,f=+f;var u,c,n=a.defaultOptions.lang,v=(q.toString().split(".")[1]||"").split("e")[0].length,b=q.toString().split("e");return-1===f?f=Math.min(v,20):a.isNumber(f)?f&&b[1]&&b[1]<0&&(0<=(u=f+ +b[1])?(b[0]=(+b[0]).toExponential(u).split("e")[0],f=u):(b[0]=b[0].split(".")[0]||0,q=f<20?(b[0]*Math.pow(10,b[1])).toFixed(f):0,b[1]=0)):f=2,c=(Math.abs(b[1]?b[0]:q)+Math.pow(10,-Math.max(f,v)-1)).toFixed(f),u=3<(v=String(a.pInt(c))).length?v.length%3:0,l=a.pick(l,n.decimalPoint),t=a.pick(t,n.thousandsSep),q=(q<0?"-":"")+(u?v.substr(0,u)+t:""),q+=v.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+t),f&&(q+=l+c.slice(-f)),b[1]&&0!=+q&&(q+="e"+b[1]),q},Math.easeInOutSine=function(a){return-.5*(Math.cos(Math.PI*a)-1)},a.getStyle=function(q,f,l){return"width"===f?Math.min(q.offsetWidth,q.scrollWidth)-a.getStyle(q,"padding-left")-a.getStyle(q,"padding-right"):"height"===f?Math.min(q.offsetHeight,q.scrollHeight)-a.getStyle(q,"padding-top")-a.getStyle(q,"padding-bottom"):(E.getComputedStyle||a.error(27,!0),(q=E.getComputedStyle(q,void 0))&&(q=q.getPropertyValue(f),a.pick(l,"opacity"!==f)&&(q=a.pInt(q))),q)},a.inArray=function(q,f){return(a.indexOfPolyfill||Array.prototype.indexOf).call(f,q)},a.grep=function(q,f){return(a.filterPolyfill||Array.prototype.filter).call(q,f)},a.find=Array.prototype.find?function(a,f){return a.find(f)}:function(a,f){var l,t=a.length;for(l=0;l<t;l++)if(f(a[l],l))return a[l]},a.map=function(a,f){for(var l=[],t=0,n=a.length;t<n;t++)l[t]=f.call(a[t],a[t],t,a);return l},a.keys=function(q){return(a.keysPolyfill||Object.keys).call(void 0,q)},a.reduce=function(q,f,l){return(a.reducePolyfill||Array.prototype.reduce).call(q,f,l)},a.offset=function(a){var f=H.documentElement;return{top:(a=a.parentElement?a.getBoundingClientRect():{top:0,left:0}).top+(E.pageYOffset||f.scrollTop)-(f.clientTop||0),left:a.left+(E.pageXOffset||f.scrollLeft)-(f.clientLeft||0)}},a.stop=function(q,f){for(var l=a.timers.length;l--;)a.timers[l].elem!==q||f&&f!==a.timers[l].prop||(a.timers[l].stopped=!0)},a.each=function(q,f,l){return(a.forEachPolyfill||Array.prototype.forEach).call(q,f,l)},a.objectEach=function(a,f,l){for(var t in a)a.hasOwnProperty(t)&&f.call(l,a[t],t,a)},a.isPrototype=function(q){return q===a.Axis.prototype||q===a.Chart.prototype||q===a.Point.prototype||q===a.Series.prototype||q===a.Tick.prototype},a.addEvent=function(q,f,l){var t,n=q.addEventListener||a.addEventListenerPolyfill;return t=a.isPrototype(q)?"protoEvents":"hcEvents",t=q[t]=q[t]||{},n&&n.call(q,f,l,!1),t[f]||(t[f]=[]),t[f].push(l),function(){a.removeEvent(q,f,l)}},a.removeEvent=function(q,f,l){function t(c,b){var m=q.removeEventListener||a.removeEventListenerPolyfill;m&&m.call(q,c,b,!1)}function n(c){var b,m;q.nodeName&&(f?(b={})[f]=!0:b=c,a.objectEach(b,function(a,h){if(c[h])for(m=c[h].length;m--;)t(h,c[h][m])}))}var v,u;a.each(["protoEvents","hcEvents"],function(c){var b=q[c];b&&(f?(v=b[f]||[],l?(-1<(u=a.inArray(l,v))&&(v.splice(u,1),b[f]=v),t(f,l)):(n(b),b[f]=[])):(n(b),q[c]={}))})},a.fireEvent=function(q,f,l,t){var n,v,u,c,b;l=l||{},H.createEvent&&(q.dispatchEvent||q.fireEvent)?((n=H.createEvent("Events")).initEvent(f,!0,!0),a.extend(n,l),q.dispatchEvent?q.dispatchEvent(n):q.fireEvent(f,n)):a.each(["protoEvents","hcEvents"],function(m){if(q[m])for(v=q[m][f]||[],u=v.length,l.target||a.extend(l,{preventDefault:function(){l.defaultPrevented=!0},target:q,type:f}),c=0;c<u;c++)(b=v[c])&&!1===b.call(q,l)&&l.preventDefault()}),t&&!l.defaultPrevented&&t(l)},a.animate=function(q,f,l){var t,v,u,c,n="";a.isObject(l)||(l={duration:(c=arguments)[2],easing:c[3],complete:c[4]}),a.isNumber(l.duration)||(l.duration=400),l.easing="function"==typeof l.easing?l.easing:Math[l.easing]||Math.easeInOutSine,l.curAnim=a.merge(f),a.objectEach(f,function(c,m){a.stop(q,m),u=new a.Fx(q,l,m),v=null,"d"===m?(u.paths=u.initPath(q,q.d,f.d),u.toD=f.d,t=0,v=1):q.attr?t=q.attr(m):(t=parseFloat(a.getStyle(q,m))||0,"opacity"!==m&&(n="px")),v||(v=c),v&&v.match&&v.match("px")&&(v=v.replace(/px/g,"")),u.run(t,v,n)})},a.seriesType=function(q,f,l,t,n){var v=a.getOptions(),u=a.seriesTypes;return v.plotOptions[q]=a.merge(v.plotOptions[f],l),u[q]=a.extendClass(u[f]||function(){},t),u[q].prototype.type=q,n&&(u[q].prototype.pointClass=a.extendClass(a.Point,n)),u[q]},a.uniqueKey=function(){var a=Math.random().toString(36).substring(2,9),f=0;return function(){return"highcharts-"+a+"-"+f++}}(),E.jQuery&&(E.jQuery.fn.highcharts=function(){var q=[].slice.call(arguments);if(this[0])return q[0]?(new(a[a.isString(q[0])?q.shift():"Chart"])(this[0],q[0],q[1]),this):B[a.attr(this[0],"data-highcharts-chart")]})}(K),function(a){var B=a.each,H=a.isNumber,E=a.map,q=a.merge,f=a.pInt;a.Color=function(l){if(!(this instanceof a.Color))return new a.Color(l);this.init(l)},a.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(a){return[f(a[1]),f(a[2]),f(a[3]),parseFloat(a[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(a){return[f(a[1]),f(a[2]),f(a[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(l){var f,n,v,u;if((this.input=l=this.names[l&&l.toLowerCase?l.toLowerCase():""]||l)&&l.stops)this.stops=E(l.stops,function(c){return new a.Color(c[1])});else if(l&&l.charAt&&"#"===l.charAt()&&(f=l.length,l=parseInt(l.substr(1),16),7===f?n=[(16711680&l)>>16,(65280&l)>>8,255&l,1]:4===f&&(n=[(3840&l)>>4|(3840&l)>>8,(240&l)>>4|240&l,(15&l)<<4|15&l,1])),!n)for(v=this.parsers.length;v--&&!n;)(f=(u=this.parsers[v]).regex.exec(l))&&(n=u.parse(f));this.rgba=n||[]},get:function(a){var v,l=this.input,n=this.rgba;return this.stops?((v=q(l)).stops=[].concat(v.stops),B(this.stops,function(n,c){v.stops[c]=[v.stops[c][0],n.get(a)]})):v=n&&H(n[0])?"rgb"===a||!a&&1===n[3]?"rgb("+n[0]+","+n[1]+","+n[2]+")":"a"===a?n[3]:"rgba("+n.join(",")+")":l,v},brighten:function(a){var l,n=this.rgba;if(this.stops)B(this.stops,function(n){n.brighten(a)});else if(H(a)&&0!==a)for(l=0;l<3;l++)n[l]+=f(255*a),n[l]<0&&(n[l]=0),255<n[l]&&(n[l]=255);return this},setOpacity:function(a){return this.rgba[3]=a,this},tweenTo:function(a,f){var n=this.rgba,l=a.rgba;return f=l.length&&n&&n.length?((a=1!==l[3]||1!==n[3])?"rgba(":"rgb(")+Math.round(l[0]+(n[0]-l[0])*(1-f))+","+Math.round(l[1]+(n[1]-l[1])*(1-f))+","+Math.round(l[2]+(n[2]-l[2])*(1-f))+(a?","+(l[3]+(n[3]-l[3])*(1-f)):"")+")":a.input||"none"}},a.color=function(l){return new a.Color(l)}}(K),function(a){var B,H,E=a.addEvent,q=a.animate,f=a.attr,l=a.charts,t=a.color,n=a.css,v=a.createElement,u=a.defined,c=a.deg2rad,b=a.destroyObjectProperties,m=a.doc,d=a.each,h=a.extend,k=a.erase,e=a.grep,p=a.hasTouch,r=a.inArray,I=a.isArray,z=a.isFirefox,M=a.isMS,D=a.isObject,C=a.isString,x=a.isWebKit,F=a.merge,A=a.noop,J=a.objectEach,G=a.pick,g=a.pInt,w=a.removeEvent,L=a.stop,P=a.svg,N=a.SVG_NS,O=a.symbolSizes,R=a.win;B=a.SVGElement=function(){return this},h(B.prototype,{opacity:1,SVG_NS:N,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function(a,g){this.element="span"===g?v(g):m.createElementNS(this.SVG_NS,g),this.renderer=a},animate:function(y,g,c){return 0!==(g=a.animObject(G(g,this.renderer.globalAnimation,!0))).duration?(c&&(g.complete=c),q(this,y,g)):(this.attr(y,null,c),g.step&&g.step.call(this)),this},colorGradient:function(y,g,c){var h,b,e,k,p,Q,x,N,m,A,P,w=this.renderer,r=[];y.radialGradient?b="radialGradient":y.linearGradient&&(b="linearGradient"),b&&(e=y[b],p=w.gradients,x=y.stops,A=c.radialReference,I(e)&&(y[b]=e={x1:e[0],y1:e[1],x2:e[2],y2:e[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===b&&A&&!u(e.gradientUnits)&&(e=F(k=e,w.getRadialAttr(A,k),{gradientUnits:"userSpaceOnUse"})),J(e,function(a,y){"id"!==y&&r.push(y,a)}),J(x,function(a){r.push(a)}),p[r=r.join(",")]?A=p[r].attr("id"):(e.id=A=a.uniqueKey(),p[r]=Q=w.createElement(b).attr(e).add(w.defs),Q.radAttr=k,Q.stops=[],d(x,function(y){m=0===y[1].indexOf("rgba")?(h=a.color(y[1]),N=h.get("rgb"),h.get("a")):(N=y[1],1),y=w.createElement("stop").attr({offset:y[0],"stop-color":N,"stop-opacity":m}).add(Q),Q.stops.push(y)})),P="url("+w.url+"#"+A+")",c.setAttribute(g,P),c.gradient=r,y.toString=function(){return P})},applyTextOutline:function(y){var c,w,h,e,b,g=this.element;if(-1!==y.indexOf("contrast")&&(y=y.replace(/contrast/g,this.renderer.getContrast(g.style.fill))),y=y.split(" "),w=y[y.length-1],(h=y[0])&&"none"!==h&&a.svg){for(this.fakeTS=!0,y=[].slice.call(g.getElementsByTagName("tspan")),this.ySetter=this.xSetter,h=h.replace(/(^[\d\.]+)(.*?)$/g,function(a,y,g){return 2*y+g}),b=y.length;b--;)"highcharts-text-outline"===(c=y[b]).getAttribute("class")&&k(y,g.removeChild(c));e=g.firstChild,d(y,function(a,y){0===y&&(a.setAttribute("x",g.getAttribute("x")),y=g.getAttribute("y"),a.setAttribute("y",y||0),null===y&&g.setAttribute("y",0)),a=a.cloneNode(1),f(a,{class:"highcharts-text-outline",fill:w,stroke:w,"stroke-width":h,"stroke-linejoin":"round"}),g.insertBefore(a,e)})}},attr:function(a,g,c,w){var y,b,d,k,h=this.element,e=this;return"string"==typeof a&&void 0!==g&&(y=a,(a={})[y]=g),"string"==typeof a?e=(this[a+"Getter"]||this._defaultGetter).call(this,a,h):(J(a,function(y,g){d=!1,w||L(this,g),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(g)&&(b||(this.symbolAttr(a),b=!0),d=!0),!this.rotation||"x"!==g&&"y"!==g||(this.doTransform=!0),d||((k=this[g+"Setter"]||this._defaultSetter).call(this,y,g,h),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(g)&&this.updateShadows(g,y,k))},this),this.afterSetters()),c&&c.call(this),e},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(a,g,c){for(var y=this.shadows,w=y.length;w--;)c.call(y[w],"height"===a?Math.max(g-(y[w].cutHeight||0),0):"d"===a?this.d:g,a,y[w])},addClass:function(a,g){var y=this.attr("class")||"";return-1===y.indexOf(a)&&(g||(a=(y+(y?" ":"")+a).replace("  "," ")),this.attr("class",a)),this},hasClass:function(a){return-1!==r(a,(this.attr("class")||"").split(" "))},removeClass:function(a){return this.attr("class",(this.attr("class")||"").replace(a,""))},symbolAttr:function(a){var y=this;d("x y r start end width height innerR anchorX anchorY".split(" "),function(g){y[g]=G(a[g],y[g])}),y.attr({d:y.renderer.symbols[y.symbolName](y.x,y.y,y.width,y.height,y)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":"none")},crisp:function(a,g){var y;return g=g||a.strokeWidth||0,y=Math.round(g)%2/2,a.x=Math.floor(a.x||this.x||0)+y,a.y=Math.floor(a.y||this.y||0)+y,a.width=Math.floor((a.width||this.width||0)-2*y),a.height=Math.floor((a.height||this.height||0)-2*y),u(a.strokeWidth)&&(a.strokeWidth=g),a},css:function(a){var b,d,y=this.styles,c={},w=this.element,e="",k=!y,p=["textOutline","textOverflow","width"];return a&&a.color&&(a.fill=a.color),y&&J(a,function(a,g){a!==y[g]&&(c[g]=a,k=!0)}),k&&(y&&(a=h(y,c)),b=this.textWidth=a&&a.width&&"auto"!==a.width&&"text"===w.nodeName.toLowerCase()&&g(a.width),this.styles=a,b&&!P&&this.renderer.forExport&&delete a.width,w.namespaceURI===this.SVG_NS?(d=function(a,y){return"-"+y.toLowerCase()},J(a,function(a,y){-1===r(y,p)&&(e+=y.replace(/([A-Z])/g,d)+":"+a+";")}),e&&f(w,"style",e)):n(w,a),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),a&&a.textOutline&&this.applyTextOutline(a.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(a,g){var y=this,c=y.element;return p&&"click"===a?(c.ontouchstart=function(a){y.touchEventFired=Date.now(),a.preventDefault(),g.call(c,a)},c.onclick=function(a){(-1===R.navigator.userAgent.indexOf("Android")||1100<Date.now()-(y.touchEventFired||0))&&g.call(c,a)}):c["on"+a]=g,this},setRadialReference:function(a){var y=this.renderer.gradients[this.element.gradient];return this.element.radialReference=a,y&&y.radAttr&&y.animate(this.renderer.getRadialAttr(a,y.radAttr)),this},translate:function(a,g){return this.attr({translateX:a,translateY:g})},invert:function(a){return this.inverted=a,this.updateTransform(),this},updateTransform:function(){var a=this.translateX||0,g=this.translateY||0,c=this.scaleX,w=this.scaleY,h=this.inverted,e=this.rotation,b=this.matrix,d=this.element;h&&(a+=this.width,g+=this.height),a=["translate("+a+","+g+")"],u(b)&&a.push("matrix("+b.join(",")+")"),h?a.push("rotate(90) scale(-1,1)"):e&&a.push("rotate("+e+" "+G(this.rotationOriginX,d.getAttribute("x"),0)+" "+G(this.rotationOriginY,d.getAttribute("y")||0)+")"),(u(c)||u(w))&&a.push("scale("+G(c,1)+" "+G(w,1)+")"),a.length&&d.setAttribute("transform",a.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(a,g,c){var y,w,h,e,b,p,d={};return h=(w=this.renderer).alignedObjects,a?(this.alignOptions=a,this.alignByTranslate=g,(!c||C(c))&&(this.alignTo=y=c||"renderer",k(h,this),h.push(this),c=null)):(a=this.alignOptions,g=this.alignByTranslate,y=this.alignTo),c=G(c,w[y],w),y=a.align,w=a.verticalAlign,h=(c.x||0)+(a.x||0),e=(c.y||0)+(a.y||0),"right"===y?b=1:"center"===y&&(b=2),b&&(h+=(c.width-(a.width||0))/b),d[g?"translateX":"x"]=Math.round(h),"bottom"===w?p=1:"middle"===w&&(p=2),p&&(e+=(c.height-(a.height||0))/p),d[g?"translateY":"y"]=Math.round(e),this[this.placed?"animate":"attr"](d),this.placed=!0,this.alignAttr=d,this},getBBox:function(a,g){var y,b,p,N,F,w=this.renderer,e=this.element,k=this.styles,x=this.textStr,m=w.cache,A=w.cacheKeys;if(b=(g=G(g,this.rotation))*c,p=k&&k.fontSize,u(x)&&(-1===(F=x.toString()).indexOf("<")&&(F=F.replace(/[0-9]/g,"0")),F+=["",g||0,p,k&&k.width,k&&k.textOverflow].join()),F&&!a&&(y=m[F]),!y){if(e.namespaceURI===this.SVG_NS||w.forExport){try{(N=this.fakeTS&&function(a){d(e.querySelectorAll(".highcharts-text-outline"),function(y){y.style.display=a})})&&N("none"),y=e.getBBox?h({},e.getBBox()):{width:e.offsetWidth,height:e.offsetHeight},N&&N("")}catch(W){}(!y||y.width<0)&&(y={width:0,height:0})}else y=this.htmlGetBBox();if(w.isSVG&&(a=y.width,w=y.height,k&&"11px"===k.fontSize&&17===Math.round(w)&&(y.height=w=14),g&&(y.width=Math.abs(w*Math.sin(b))+Math.abs(a*Math.cos(b)),y.height=Math.abs(w*Math.cos(b))+Math.abs(a*Math.sin(b)))),F&&0<y.height){for(;250<A.length;)delete m[A.shift()];m[F]||A.push(F),m[F]=y}}return y},show:function(a){return this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var y=this;y.animate({opacity:0},{duration:a||150,complete:function(){y.attr({y:-9999})}})},add:function(a){var c,y=this.renderer,g=this.element;return a&&(this.parentGroup=a),this.parentInverted=a&&a.inverted,void 0!==this.textStr&&y.buildText(this),this.added=!0,(!a||a.handleZ||this.zIndex)&&(c=this.zIndexSetter()),c||(a?a.element:y.box).appendChild(g),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(a){var y=a.parentNode;y&&y.removeChild(a)},destroy:function(){var a=this,g=a.element||{},c=a.renderer.isSVG&&"SPAN"===g.nodeName&&a.parentGroup,w=g.ownerSVGElement,h=a.clipPath;if(g.onclick=g.onmouseout=g.onmouseover=g.onmousemove=g.point=null,L(a),h&&w&&(d(w.querySelectorAll("[clip-path],[CLIP-PATH]"),function(a){var g=a.getAttribute("clip-path"),y=h.element.id;(-1<g.indexOf("(#"+y+")")||-1<g.indexOf('("#'+y+'")'))&&a.removeAttribute("clip-path")}),a.clipPath=h.destroy()),a.stops){for(w=0;w<a.stops.length;w++)a.stops[w]=a.stops[w].destroy();a.stops=null}for(a.safeRemoveChild(g),a.destroyShadows();c&&c.div&&0===c.div.childNodes.length;)g=c.parentGroup,a.safeRemoveChild(c.div),delete c.div,c=g;return a.alignTo&&k(a.renderer.alignedObjects,a),J(a,function(g,y){delete a[y]}),null},shadow:function(a,g,c){var w,h,b,d,k,p,y=[],e=this.element;if(a){if(!this.shadows){for(d=G(a.width,3),k=(a.opacity||.15)/d,p=this.parentInverted?"(-1,-1)":"("+G(a.offsetX,1)+", "+G(a.offsetY,1)+")",w=1;w<=d;w++)h=e.cloneNode(0),b=2*d+1-2*w,f(h,{isShadow:"true",stroke:a.color||"#000000","stroke-opacity":k*w,"stroke-width":b,transform:"translate"+p,fill:"none"}),c&&(f(h,"height",Math.max(f(h,"height")-b,0)),h.cutHeight=b),g?g.element.appendChild(h):e.parentNode&&e.parentNode.insertBefore(h,e),y.push(h);this.shadows=y}}else this.destroyShadows();return this},destroyShadows:function(){d(this.shadows||[],function(a){this.safeRemoveChild(a)},this),this.shadows=void 0},xGetter:function(a){return"circle"===this.element.nodeName&&("x"===a?a="cx":"y"===a&&(a="cy")),this._defaultGetter(a)},_defaultGetter:function(a){return a=G(this[a+"Value"],this[a],this.element?this.element.getAttribute(a):null,0),/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a)),a},dSetter:function(a,g,c){a&&a.join&&(a=a.join(" ")),/(NaN| {2}|^$)/.test(a)&&(a="M 0 0"),this[g]!==a&&(c.setAttribute(g,a),this[g]=a)},dashstyleSetter:function(a){var y,c=this["stroke-width"];if("inherit"===c&&(c=1),a=a&&a.toLowerCase()){for(y=(a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;y--;)a[y]=g(a[y])*c;a=a.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",a)}},alignSetter:function(a){this.alignValue=a,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function(a,g,c){this[g]=a,c.setAttribute(g,a)},titleSetter:function(a){var g=this.element.getElementsByTagName("title")[0];g||(g=m.createElementNS(this.SVG_NS,"title"),this.element.appendChild(g)),g.firstChild&&g.removeChild(g.firstChild),g.appendChild(m.createTextNode(String(G(a),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(a){a!==this.textStr&&(delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this))},fillSetter:function(a,g,c){"string"==typeof a?c.setAttribute(g,a):a&&this.colorGradient(a,g,c)},visibilitySetter:function(a,g,c){"inherit"===a?c.removeAttribute(g):this[g]!==a&&c.setAttribute(g,a),this[g]=a},zIndexSetter:function(a,c){var e,d,k,p,w=this.renderer,y=this.parentGroup,h=(y||w).element||w.box,b=this.element;w=h===w.box;if(e=this.added,u(a)&&(a=+(b.zIndex=a),this[c]===a&&(e=!1),this[c]=a),e){for((a=this.zIndex)&&y&&(y.handleZ=!0),p=(c=h.childNodes).length-1;0<=p&&!d;p--)e=(y=c[p]).zIndex,k=!u(e),y!==b&&(a<0&&k&&!w&&!p?(h.insertBefore(b,c[p]),d=!0):(g(e)<=a||k&&(!u(a)||0<=a))&&(h.insertBefore(b,c[p+1]||null),d=!0));d||(h.insertBefore(b,c[w?3:0]||null),d=!0)}return d},_defaultSetter:function(a,g,c){c.setAttribute(g,a)}}),B.prototype.yGetter=B.prototype.xGetter,B.prototype.translateXSetter=B.prototype.translateYSetter=B.prototype.rotationSetter=B.prototype.verticalAlignSetter=B.prototype.rotationOriginXSetter=B.prototype.rotationOriginYSetter=B.prototype.scaleXSetter=B.prototype.scaleYSetter=B.prototype.matrixSetter=function(a,g){this[g]=a,this.doTransform=!0},B.prototype["stroke-widthSetter"]=B.prototype.strokeSetter=function(a,g,c){this[g]=a,this.stroke&&this["stroke-width"]?(B.prototype.fillSetter.call(this,this.stroke,"stroke",c),c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===g&&0===a&&this.hasStroke&&(c.removeAttribute("stroke"),this.hasStroke=!1)},H=a.SVGRenderer=function(){this.init.apply(this,arguments)},h(H.prototype,{Element:B,SVG_NS:N,init:function(a,g,c,w,h,e){var y,b;y=(w=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(w))).element,a.appendChild(y),f(a,"dir","ltr"),-1===a.innerHTML.indexOf("xmlns")&&f(y,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=y,this.boxWrapper=w,this.alignedObjects=[],this.url=(z||x)&&m.getElementsByTagName("base").length?R.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(m.createTextNode("Created with Highcharts 6.0.7")),this.defs=this.createElement("defs").add(),this.allowHTML=e,this.forExport=h,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(g,c,!1),z&&a.getBoundingClientRect&&((g=function(){n(a,{left:0,top:0}),b=a.getBoundingClientRect(),n(a,{left:Math.ceil(b.left)-b.left+"px",top:Math.ceil(b.top)-b.top+"px"})})(),this.unSubPixelFix=E(R,"resize",g))},getStyle:function(a){return this.style=h({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},a)},setStyle:function(a){this.boxWrapper.css(this.getStyle(a))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),b(this.gradients||{}),this.gradients=null,a&&(this.defs=a.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(a){var g=new this.Element;return g.init(this,a),g},draw:A,getRadialAttr:function(a,g){return{cx:a[0]-a[2]/2+g.cx*a[2],cy:a[1]-a[2]/2+g.cy*a[2],r:g.r*a[2]}},getSpanWidth:function(a){return a.getBBox(!0).width},applyEllipsis:function(a,g,c,w){var b,p,h=a.rotation,y=c,e=0,d=c.length,k=function(a){g.removeChild(g.firstChild),a&&g.appendChild(m.createTextNode(a))};if(a.rotation=0,p=w<(y=this.getSpanWidth(a,g))){for(;e<=d;)b=Math.ceil((e+d)/2),k(y=c.substring(0,b)+"…"),y=this.getSpanWidth(a,g),e===d?e=d+1:w<y?d=b-1:e=b;0===d&&k("")}return a.rotation=h,p},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(a){var p,x,A,F,M,t,c=a.element,w=this,h=w.forExport,b=G(a.textStr,"").toString(),y=-1!==b.indexOf("<"),k=c.childNodes,z=f(c,"x"),L=a.styles,O=a.textWidth,l=L&&L.lineHeight,D=L&&L.textOutline,C=L&&"ellipsis"===L.textOverflow,v=L&&"nowrap"===L.whiteSpace,u=L&&L.fontSize,I=k.length,R=(L=O&&!a.added&&this.box,function(a){var h;return h=/(px|em)$/.test(a&&a.style.fontSize)?a.style.fontSize:u||w.style.fontSize||12,l?g(l):w.fontMetrics(h,a.getAttribute("style")?a:c).h}),q=function(a,g){return J(w.escapes,function(c,w){g&&-1!==r(c,g)||(a=a.toString().replace(new RegExp(c,"g"),w))}),a};if((M=[b,C,v,l,D,u,O].join())!==a.textCache){for(a.textCache=M;I--;)c.removeChild(k[I]);y||D||C||O||-1!==b.indexOf(" ")?(p=/<.*class="([^"]+)".*>/,x=/<.*style="([^"]+)".*>/,A=/<.*href="([^"]+)".*>/,L&&L.appendChild(c),b=y?b.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[b],b=e(b,function(a){return""!==a}),d(b,function(g,b){var e,y=0;g=g.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),e=g.split("|||"),d(e,function(g){if(""!==g||1===e.length){var r,L,d={},k=m.createElementNS(w.SVG_NS,"tspan");if(p.test(g)&&(r=g.match(p)[1],f(k,"class",r)),x.test(g)&&(L=g.match(x)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),f(k,"style",L)),A.test(g)&&!h&&(f(k,"onclick",'location.href="'+g.match(A)[1]+'"'),f(k,"class","highcharts-anchor"),n(k,{cursor:"pointer"}))," "!==(g=q(g.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(k.appendChild(m.createTextNode(g)),y?d.dx=0:b&&null!==z&&(d.x=z),f(k,d),c.appendChild(k),!y&&t&&(!P&&h&&n(k,{display:"block"}),f(k,"dy",R(k))),O){d=g.replace(/([^\^])-/g,"$1- ").split(" "),r=1<e.length||b||1<d.length&&!v;var D,l=[],J=R(k),G=a.rotation;for(C&&(F=w.applyEllipsis(a,k,g,O));!C&&r&&(d.length||l.length);)a.rotation=0,D=w.getSpanWidth(a,k),g=O<D,void 0===F&&(F=g),g&&1!==d.length?(k.removeChild(k.firstChild),l.unshift(d.pop())):(d=l,l=[],d.length&&!v&&(k=m.createElementNS(N,"tspan"),f(k,{dy:J,x:z}),L&&f(k,"style",L),c.appendChild(k)),O<D&&(O=D)),d.length&&k.appendChild(m.createTextNode(d.join(" ").replace(/- /g,"-")));a.rotation=G}y++}}}),t=t||c.childNodes.length}),F&&a.attr("title",q(a.textStr,["&lt;","&gt;"])),L&&L.removeChild(c),D&&a.applyTextOutline&&a.applyTextOutline(D)):c.appendChild(m.createTextNode(q(b)))}},getContrast:function(a){return 510<(a=t(a).rgba)[0]+a[1]+a[2]?"#000000":"#FFFFFF"},button:function(a,g,c,w,b,d,e,k,p){var N,m,A,r,y=this.label(a,g,c,p,null,null,null,null,"button"),x=0;return y.attr(F({padding:8,r:2},b)),b=F({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},b),N=b.style,delete b.style,d=F(b,{fill:"#e6e6e6"},d),m=d.style,delete d.style,e=F(b,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},e),A=e.style,delete e.style,k=F(b,{style:{color:"#cccccc"}},k),r=k.style,delete k.style,E(y.element,M?"mouseover":"mouseenter",function(){3!==x&&y.setState(1)}),E(y.element,M?"mouseout":"mouseleave",function(){3!==x&&y.setState(x)}),y.setState=function(a){1!==a&&(y.state=x=a),y.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][a||0]),y.attr([b,d,e,k][a||0]).css([N,m,A,r][a||0])},y.attr(b).css(h({cursor:"default"},N)),y.on("click",function(a){3!==x&&w.call(y,a)})},crispLine:function(a,g){return a[1]===a[4]&&(a[1]=a[4]=Math.round(a[1])-g%2/2),a[2]===a[5]&&(a[2]=a[5]=Math.round(a[2])+g%2/2),a},path:function(a){var g={fill:"none"};return I(a)?g.d=a:D(a)&&h(g,a),this.createElement("path").attr(g)},circle:function(a,g,c){return a=D(a)?a:{x:a,y:g,r:c},(g=this.createElement("circle")).xSetter=g.ySetter=function(a,g,c){c.setAttribute("c"+g,a)},g.attr(a)},arc:function(a,g,c,w,b,h){return D(a)?(g=(w=a).y,c=w.r,a=w.x):w={innerR:w,start:b,end:h},(a=this.symbol("arc",a,g,c,c,w)).r=c,a},rect:function(a,g,c,w,b,h){b=D(a)?a.r:b;var d=this.createElement("rect");return a=D(a)?a:void 0===a?{}:{x:a,y:g,width:Math.max(c,0),height:Math.max(w,0)},void 0!==h&&(a.strokeWidth=h,a=d.crisp(a)),a.fill="none",b&&(a.r=b),d.rSetter=function(a,g,c){f(c,{rx:a,ry:a})},d.attr(a)},setSize:function(a,g,c){var w=this.alignedObjects,b=w.length;for(this.width=a,this.height=g,this.boxWrapper.animate({width:a,height:g},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:G(c,!0)?void 0:0});b--;)w[b].align()},g:function(a){var g=this.createElement("g");return a?g.attr({class:"highcharts-"+a}):g},image:function(a,g,c,w,b){var d={preserveAspectRatio:"none"};return 1<arguments.length&&h(d,{x:g,y:c,width:w,height:b}),(d=this.createElement("image").attr(d)).element.setAttributeNS?d.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a):d.element.setAttribute("hc-svg-href",a),d},symbol:function(a,g,c,w,b,e){var p,r,L,k=this,y=/^url\((.*?)\)$/,x=y.test(a),N=!x&&(this.symbols[a]?a:"circle"),A=N&&this.symbols[N],F=u(g)&&A&&A.call(this.symbols,Math.round(g),Math.round(c),w,b,e);return A?((p=this.path(F)).attr("fill","none"),h(p,{symbolName:N,x:g,y:c,width:w,height:b}),e&&h(p,e)):x&&(r=a.match(y)[1],(p=this.image(r)).imgwidth=G(O[r]&&O[r].width,e&&e.width),p.imgheight=G(O[r]&&O[r].height,e&&e.height),L=function(){p.attr({width:p.width,height:p.height})},d(["width","height"],function(a){p[a+"Setter"]=function(a,g){var c={},w=this["img"+g],b="width"===g?"translateX":"translateY";this[g]=a,u(w)&&(this.element&&this.element.setAttribute(g,w),this.alignByTranslate||(c[b]=((this[g]||0)-w)/2,this.attr(c)))}}),u(g)&&p.attr({x:g,y:c}),p.isImg=!0,u(p.imgwidth)&&u(p.imgheight)?L():(p.attr({width:0,height:0}),v("img",{onload:function(){var a=l[k.chartIndex];0===this.width&&(n(this,{position:"absolute",top:"-999em"}),m.body.appendChild(this)),O[r]={width:this.width,height:this.height},p.imgwidth=this.width,p.imgheight=this.height,p.element&&L(),this.parentNode&&this.parentNode.removeChild(this),k.imgCount--,!k.imgCount&&a&&a.onload&&a.onload()},src:r}),this.imgCount++)),p},symbols:{circle:function(a,g,c,w){return this.arc(a+c/2,g+w/2,c/2,w/2,{start:0,end:2*Math.PI,open:!1})},square:function(a,g,c,w){return["M",a,g,"L",a+c,g,a+c,g+w,a,g+w,"Z"]},triangle:function(a,g,c,w){return["M",a+c/2,g,"L",a+c,g+w,a,g+w,"Z"]},"triangle-down":function(a,g,c,w){return["M",a,g,"L",a+c,g,a+c/2,g+w,"Z"]},diamond:function(a,g,c,w){return["M",a+c/2,g,"L",a+c,g+w/2,a+c/2,g+w,a,g+w/2,"Z"]},arc:function(a,g,c,w,b){var h=b.start,d=b.r||c,e=b.r||w||c,k=b.end-.001;c=b.innerR,w=G(b.open,Math.abs(b.end-b.start-2*Math.PI)<.001);var p=Math.cos(h),y=Math.sin(h),x=Math.cos(k);k=Math.sin(k);return d=["M",a+d*p,g+e*y,"A",d,e,0,b=b.end-h-Math.PI<.001?0:1,1,a+d*x,g+e*k],u(c)&&d.push(w?"M":"L",a+c*x,g+c*k,"A",c,c,0,b,0,a+c*p,g+c*y),d.push(w?"":"Z"),d},callout:function(a,g,c,w,b){var k,h=Math.min(b&&b.r||0,c,w),d=h+6,e=b&&b.anchorX;return b=b&&b.anchorY,k=["M",a+h,g,"L",a+c-h,g,"C",a+c,g,a+c,g,a+c,g+h,"L",a+c,g+w-h,"C",a+c,g+w,a+c,g+w,a+c-h,g+w,"L",a+h,g+w,"C",a,g+w,a,g+w,a,g+w-h,"L",a,g+h,"C",a,g,a,g,a+h,g],e&&c<e?g+d<b&&b<g+w-d?k.splice(13,3,"L",a+c,b-6,a+c+6,b,a+c,b+6,a+c,g+w-h):k.splice(13,3,"L",a+c,w/2,e,b,a+c,w/2,a+c,g+w-h):e&&e<0?g+d<b&&b<g+w-d?k.splice(33,3,"L",a,b+6,a-6,b,a,b-6,a,g+h):k.splice(33,3,"L",a,w/2,e,b,a,w/2,a,g+h):b&&w<b&&a+d<e&&e<a+c-d?k.splice(23,3,"L",e+6,g+w,e,g+w+6,e-6,g+w,a+h,g+w):b&&b<0&&a+d<e&&e<a+c-d&&k.splice(3,3,"L",e-6,g,e,g-6,e+6,g,c-h,g),k}},clipRect:function(g,c,w,b){var h=a.uniqueKey(),d=this.createElement("clipPath").attr({id:h}).add(this.defs);return(g=this.rect(g,c,w,b,0).add(d)).id=h,g.clipPath=d,g.count=0,g},text:function(a,g,c,w){var b={};return!w||!this.allowHTML&&this.forExport?(b.x=Math.round(g||0),c&&(b.y=Math.round(c)),(a||0===a)&&(b.text=a),a=this.createElement("text").attr(b),w||(a.xSetter=function(a,g,c){var b,d,w=c.getElementsByTagName("tspan"),h=c.getAttribute(g);for(d=0;d<w.length;d++)(b=w[d]).getAttribute(g)===h&&b.setAttribute(g,a);c.setAttribute(g,a)}),a):this.html(a,g,c)},fontMetrics:function(a,c){return a=a||c&&c.style&&c.style.fontSize||this.style&&this.style.fontSize,{h:c=(a=/px/.test(a)?g(a):/em/.test(a)?parseFloat(a)*(c?this.fontMetrics(null,c.parentNode).f:16):12)<24?a+3:Math.round(1.2*a),b:Math.round(.8*c),f:a}},rotCorr:function(a,g,w){var b=a;return g&&w&&(b=Math.max(b*Math.cos(g*c),4)),{x:-a/3*Math.sin(g*c),y:b}},label:function(g,c,b,e,k,p,x,N,m){var L,P,n,D,f,J,C,v,M,R,q,Q,T,A=this,r=A.g("button"!==m&&"label"),y=r.text=A.text("",0,0,x).attr({zIndex:1}),z=0,O=3,l=0,G={},t=/^url\((.*?)\)$/.test(e),I=t;m&&r.addClass("highcharts-"+m),I=t,R=function(){return(v||0)%2/2},q=function(){var a=y.element.style,g={};P=(void 0===n||void 0===D||C)&&u(y.textStr)&&y.getBBox(),r.width=(n||P.width||0)+2*O+l,r.height=(D||P.height||0)+2*O,M=O+A.fontMetrics(a&&a.fontSize,y).b,I&&(L||(r.box=L=A.symbols[e]||t?A.symbol(e):A.rect(),L.addClass(("button"===m?"":"highcharts-label-box")+(m?" highcharts-"+m+"-box":"")),L.add(r),a=R(),g.x=a,g.y=(N?-M:0)+a),g.width=Math.round(r.width),g.height=Math.round(r.height),L.attr(h(g,G)),G={})},Q=function(){var g,a=l+O;g=N?0:M,u(n)&&P&&("center"===C||"right"===C)&&(a+={center:.5,right:1}[C]*(n-P.width)),a===y.x&&g===y.y||(y.attr("x",a),void 0!==g&&y.attr("y",g)),y.x=a,y.y=g},T=function(a,g){L?L.attr(a,g):G[a]=g},r.onAdd=function(){y.add(r),r.attr({text:g||0===g?g:"",x:c,y:b}),L&&u(k)&&r.attr({anchorX:k,anchorY:p})},r.widthSetter=function(g){n=a.isNumber(g)?g:null},r.heightSetter=function(a){D=a},r["text-alignSetter"]=function(a){C=a},r.paddingSetter=function(a){u(a)&&a!==O&&(O=r.padding=a,Q())},r.paddingLeftSetter=function(a){u(a)&&a!==l&&(l=a,Q())},r.alignSetter=function(a){(a={left:0,center:.5,right:1}[a])!==z&&(z=a,P&&r.attr({x:f}))},r.textSetter=function(a){void 0!==a&&y.textSetter(a),q(),Q()},r["stroke-widthSetter"]=function(a,g){a&&(I=!0),v=this["stroke-width"]=a,T(g,a)},r.strokeSetter=r.fillSetter=r.rSetter=function(a,g){"r"!==g&&("fill"===g&&a&&(I=!0),r[g]=a),T(g,a)},r.anchorXSetter=function(a,g){k=r.anchorX=a,T(g,Math.round(a)-R()-f)},r.anchorYSetter=function(a,g){p=r.anchorY=a,T(g,a-J)},r.xSetter=function(a){r.x=a,z&&(a-=z*((n||P.width)+2*O)),f=Math.round(a),r.attr("translateX",f)},r.ySetter=function(a){J=r.y=Math.round(a),r.attr("translateY",J)};var U=r.css;return h(r,{css:function(a){if(a){var g={};a=F(a),d(r.textProps,function(c){void 0!==a[c]&&(g[c]=a[c],delete a[c])}),y.css(g)}return U.call(r,a)},getBBox:function(){return{width:P.width+2*O,height:P.height+2*O,x:P.x-O,y:P.y-O}},shadow:function(a){return a&&(q(),L&&L.shadow(a)),r},destroy:function(){w(r.element,"mouseenter"),w(r.element,"mouseleave"),y&&(y=y.destroy()),L&&(L=L.destroy()),B.prototype.destroy.call(r),r=A=q=Q=T=null}})}}),a.Renderer=H}(K),function(a){var B=a.attr,H=a.createElement,E=a.css,q=a.defined,f=a.each,l=a.extend,t=a.isFirefox,n=a.isMS,v=a.isWebKit,u=a.pick,c=a.pInt,b=a.SVGRenderer,m=a.win,d=a.wrap;l(a.SVGElement.prototype,{htmlCss:function(a){var c=this.element;return(c=a&&"SPAN"===c.tagName&&a.width)&&(delete a.width,this.textWidth=c,this.updateTransform()),a&&"ellipsis"===a.textOverflow&&(a.whiteSpace="nowrap",a.overflow="hidden"),this.styles=l(this.styles,a),E(this.element,a),this},htmlGetBBox:function(){var a=this.element;return{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,b=this.element,d=this.translateX||0,p=this.translateY||0,r=this.x||0,m=this.y||0,z=this.textAlign||"left",l={left:0,center:.5,right:1}[z],C=(n=this.styles)&&n.whiteSpace;if(E(b,{marginLeft:d,marginTop:p}),this.shadows&&f(this.shadows,function(a){E(a,{marginLeft:d+1,marginTop:p+1})}),this.inverted&&f(b.childNodes,function(c){a.invertChild(c,b)}),"SPAN"===b.tagName){var A,n=this.rotation,x=this.textWidth&&c(this.textWidth),F=[n,z,b.innerHTML,this.textWidth,this.textAlign].join();(A=x!==this.oldTextWidth)&&!(A=x>this.oldTextWidth)&&((A=this.textPxLength)||(E(b,{width:"",whiteSpace:C||"nowrap"}),A=b.offsetWidth),A=x<A),A&&/[ \-]/.test(b.textContent||b.innerText)&&(E(b,{width:x+"px",display:"block",whiteSpace:C||"normal"}),this.oldTextWidth=x),F!==this.cTT&&(C=a.fontMetrics(b.style.fontSize).b,q(n)&&n!==(this.oldRotation||0)&&this.setSpanRotation(n,l,C),this.getSpanCorrection(this.textPxLength||b.offsetWidth,C,l,n,z)),E(b,{left:r+(this.xCorr||0)+"px",top:m+(this.yCorr||0)+"px"}),this.cTT=F,this.oldRotation=n}}else this.alignOnAdd=!0},setSpanRotation:function(a,c,b){var d={},e=this.renderer.getTransformKey();d[e]=d.transform="rotate("+a+"deg)",d[e+(t?"Origin":"-origin")]=d.transformOrigin=100*c+"% "+b+"px",E(this.element,d)},getSpanCorrection:function(a,c,b){this.xCorr=-a*b,this.yCorr=-c}}),l(b.prototype,{getTransformKey:function(){return n&&!/Edge/.test(m.navigator.userAgent)?"-ms-transform":v?"-webkit-transform":t?"MozTransform":m.opera?"-o-transform":""},html:function(a,c,b){var e=this.createElement("span"),h=e.element,k=e.renderer,m=k.isSVG,n=function(a,c){f(["opacity","visibility"],function(b){d(a,b+"Setter",function(a,b,e,d){a.call(this,b,e,d),c[e]=b})})};return e.textSetter=function(a){a!==h.innerHTML&&delete this.bBox,this.textStr=a,h.innerHTML=u(a,""),e.doTransform=!0},m&&n(e,e.element.style),e.xSetter=e.ySetter=e.alignSetter=e.rotationSetter=function(a,c){"align"===c&&(c="textAlign"),e[c]=a,e.doTransform=!0},e.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},e.attr({text:a,x:Math.round(c),y:Math.round(b)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),h.style.whiteSpace="nowrap",e.css=e.htmlCss,m&&(e.add=function(a){var c,b=k.box.parentNode,d=[];if(this.parentGroup=a){if(!(c=a.div)){for(;a;)d.push(a),a=a.parentGroup;f(d.reverse(),function(a){function h(g,c){a[c]=g,"translateX"===c?k.left=g+"px":k.top=g+"px",a.doTransform=!0}var k,g=B(a.element,"class");g&&(g={className:g}),c=a.div=a.div||H("div",g,{position:"absolute",left:(a.translateX||0)+"px",top:(a.translateY||0)+"px",display:a.display,opacity:a.opacity,pointerEvents:a.styles&&a.styles.pointerEvents},c||b),k=c.style,l(a,{classSetter:function(a){return function(g){this.element.setAttribute("class",g),a.className=g}}(c),on:function(){return d[0].div&&e.on.apply({element:d[0].div},arguments),a},translateXSetter:h,translateYSetter:h}),n(a,k)})}}else c=b;return c.appendChild(h),e.added=!0,e.alignOnAdd&&e.htmlUpdateTransform(),e}),e}})}(K),function(a){var B=a.defined,H=a.each,E=a.extend,q=a.merge,f=a.pick,l=a.timeUnits,t=a.win;a.Time=function(a){this.update(a,!1)},a.Time.prototype={defaultOptions:{},update:function(n){var l=f(n&&n.useUTC,!0),u=this;this.options=n=q(!0,this.options||{},n),this.Date=n.Date||t.Date,this.timezoneOffset=(this.useUTC=l)&&n.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(l&&!n.getTimezoneOffset&&!n.timezone))||this.timezoneOffset?(this.get=function(a,b){var c=b.getTime(),d=c-u.getTimezoneOffset(b);return b.setTime(d),a=b["getUTC"+a](),b.setTime(c),a},this.set=function(c,b,m){var d;-1!==a.inArray(c,["Milliseconds","Seconds","Minutes"])?b["set"+c](m):(d=u.getTimezoneOffset(b),d=b.getTime()-d,b.setTime(d),b["setUTC"+c](m),c=u.getTimezoneOffset(b),d=b.getTime()+c,b.setTime(d))}):this.set=l?(this.get=function(a,b){return b["getUTC"+a]()},function(a,b,m){return b["setUTC"+a](m)}):(this.get=function(a,b){return b["get"+a]()},function(a,b,m){return b["set"+a](m)})},makeTime:function(l,v,u,c,b,m){var d,h,k;return this.useUTC?(d=this.Date.UTC.apply(0,arguments),d+=h=this.getTimezoneOffset(d),h!==(k=this.getTimezoneOffset(d))?d+=k-h:h-36e5!==this.getTimezoneOffset(d-36e5)||a.isSafari||(d-=36e5)):d=new this.Date(l,v,f(u,1),f(c,0),f(b,0),f(m,0)).getTime(),d},timezoneOffsetFunction:function(){var l=this,f=this.options,u=t.moment;if(!this.useUTC)return function(a){return 6e4*new Date(a).getTimezoneOffset()};if(f.timezone){if(u)return function(a){return 6e4*-u.tz(a,f.timezone).utcOffset()};a.error(25)}return this.useUTC&&f.getTimezoneOffset?function(a){return 6e4*f.getTimezoneOffset(a)}:function(){return 6e4*(l.timezoneOffset||0)}},dateFormat:function(l,f,u){if(!a.defined(f)||isNaN(f))return a.defaultOptions.lang.invalidDate||"";l=a.pick(l,"%Y-%m-%d %H:%M:%S");var c=this,b=new this.Date(f),m=this.get("Hours",b),d=this.get("Day",b),h=this.get("Date",b),k=this.get("Month",b),e=this.get("FullYear",b),p=a.defaultOptions.lang,r=p.weekdays,n=p.shortWeekdays,z=a.pad;b=a.extend({a:n?n[d]:r[d].substr(0,3),A:r[d],d:z(h),e:z(h,2," "),w:d,b:p.shortMonths[k],B:p.months[k],m:z(k+1),y:e.toString().substr(2,2),Y:e,H:z(m),k:m,I:z(m%12||12),l:m%12||12,M:z(c.get("Minutes",b)),p:m<12?"AM":"PM",P:m<12?"am":"pm",S:z(b.getSeconds()),L:z(Math.round(f%1e3),3)},a.dateFormats);return a.objectEach(b,function(a,b){for(;-1!==l.indexOf("%"+b);)l=l.replace("%"+b,"function"==typeof a?a.call(c,f):a)}),u?l.substr(0,1).toUpperCase()+l.substr(1):l},getTimeTicks:function(a,v,u,c){var h,r,b=this,m=[],d={},k=new b.Date(v),e=a.unitRange,p=a.count||1;if(B(v)){b.set("Milliseconds",k,e>=l.second?0:p*Math.floor(b.get("Milliseconds",k)/p)),e>=l.second&&b.set("Seconds",k,e>=l.minute?0:p*Math.floor(b.get("Seconds",k)/p)),e>=l.minute&&b.set("Minutes",k,e>=l.hour?0:p*Math.floor(b.get("Minutes",k)/p)),e>=l.hour&&b.set("Hours",k,e>=l.day?0:p*Math.floor(b.get("Hours",k)/p)),e>=l.day&&b.set("Date",k,e>=l.month?1:p*Math.floor(b.get("Date",k)/p)),e>=l.month&&(b.set("Month",k,e>=l.year?0:p*Math.floor(b.get("Month",k)/p)),h=b.get("FullYear",k)),e>=l.year&&b.set("FullYear",k,h-h%p),e===l.week&&b.set("Date",k,b.get("Date",k)-b.get("Day",k)+f(c,1)),h=b.get("FullYear",k),c=b.get("Month",k);var n=b.get("Date",k),z=b.get("Hours",k);for(v=k.getTime(),b.variableTimezone&&(r=u-v>4*l.month||b.getTimezoneOffset(v)!==b.getTimezoneOffset(u)),k=k.getTime(),v=1;k<u;)m.push(k),k=e===l.year?b.makeTime(h+v*p,0):e===l.month?b.makeTime(h,c+v*p):!r||e!==l.day&&e!==l.week?r&&e===l.hour&&1<p?b.makeTime(h,c,n,z+v*p):k+e*p:b.makeTime(h,c,n+v*p*(e===l.day?1:7)),v++;m.push(k),e<=l.hour&&m.length<1e4&&H(m,function(a){0==a%18e5&&"000000000"===b.dateFormat("%H%M%S%L",a)&&(d[a]="day")})}return m.info=E(a,{higherRanks:d,totalRange:e*p}),m}}}(K),function(a){var B=a.color,H=a.merge;a.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:a.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:a.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:a.isTouchDevice?25:10,backgroundColor:B("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},a.setOptions=function(B){return a.defaultOptions=H(!0,a.defaultOptions,B),a.time.update(H(a.defaultOptions.global,a.defaultOptions.time),!1),a.defaultOptions},a.getOptions=function(){return a.defaultOptions},a.defaultPlotOptions=a.defaultOptions.plotOptions,a.time=new a.Time(H(a.defaultOptions.global,a.defaultOptions.time)),a.dateFormat=function(B,q,f){return a.time.dateFormat(B,q,f)}}(K),function(a){var B=a.correctFloat,H=a.defined,E=a.destroyObjectProperties,q=a.isNumber,f=a.merge,l=a.pick,t=a.deg2rad;a.Tick=function(a,l,f,c){this.axis=a,this.pos=l,this.type=f||"",this.isNewLabel=this.isNew=!0,f||c||this.addLabel()},a.Tick.prototype={addLabel:function(){var p,a=this.axis,v=a.options,u=a.chart,c=a.categories,b=a.names,m=this.pos,d=v.labels,k=m===(h=a.tickPositions)[0],e=m===h[h.length-1],h=(b=c?l(c[m],b[m],m):m,c=this.label,h.info);a.isDatetimeAxis&&h&&(p=v.dateTimeLabelFormats[h.higherRanks[m]||h.unitName]),this.isFirst=k,this.isLast=e,v=a.labelFormatter.call({axis:a,chart:u,isFirst:k,isLast:e,dateTimeLabelFormat:p,value:a.isLog?B(a.lin2log(b)):b,pos:m}),H(c)?c&&c.attr({text:v}):((this.label=c=H(v)&&d.enabled?u.renderer.text(v,0,0,d.useHTML).css(f(d.style)).add(a.labelGroup):null)&&(c.textPxLength=c.getBBox().width),this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(a){var M,f=this.axis,n=f.options.labels,c=a.x,b=f.chart.chartWidth,m=f.chart.spacing,d=l(f.labelLeft,Math.min(f.pos,m[3])),h=(m=l(f.labelRight,Math.max(f.isRadial?0:f.pos+f.len,b-m[1])),this.label),k=this.rotation,e={left:0,center:.5,right:1}[f.labelAlign||h.attr("align")],p=h.getBBox().width,r=f.getSlotWidth(),I=r,z=1,D={};k||!1===n.overflow?k<0&&c-e*p<d?M=Math.round(c/Math.cos(k*t)-d):0<k&&m<c+e*p&&(M=Math.round((b-c)/Math.cos(k*t))):(b=c+(1-e)*p,c-e*p<d?I=a.x+I*(1-e)-d:m<b&&(I=m-a.x+I*e,z=-1),(I=Math.min(r,I))<r&&"center"===f.labelAlign&&(a.x+=z*(r-I-e*(r-Math.min(p,I)))),(I<p||f.autoRotation&&(h.styles||{}).width)&&(M=I)),M&&(D.width=M,(n.style||{}).textOverflow||(D.textOverflow="ellipsis"),h.css(D))},getPosition:function(l,f,u,c){var b=this.axis,m=b.chart,d=c&&m.oldChartHeight||m.chartHeight;return{x:l?a.correctFloat(b.translate(f+u,null,null,c)+b.transB):b.left+b.offset+(b.opposite?(c&&m.oldChartWidth||m.chartWidth)-b.right-b.left:0),y:l?d-b.bottom+b.offset-(b.opposite?b.height:0):a.correctFloat(d-b.translate(f+u,null,null,c)-b.transB)}},getLabelPosition:function(a,l,f,c,b,m,d,h){var k=this.axis,e=k.transA,p=k.reversed,r=k.staggerLines,n=k.tickRotCorr||{x:0,y:0},z=b.y,u=c||k.reserveSpaceDefault?0:-k.labelOffset*("center"===k.labelAlign?.5:1);return H(z)||(z=0===k.side?f.rotation?-8:-f.getBBox().height:2===k.side?n.y+8:Math.cos(f.rotation*t)*(n.y-f.getBBox(!1,0).height/2)),a=a+b.x+u+n.x-(m&&c?m*e*(p?-1:1):0),l=l+z-(m&&!c?m*e*(p?1:-1):0),r&&(f=d/(h||1)%r,k.opposite&&(f=r-f-1),l+=k.labelOffset/r*f),{x:a,y:Math.round(l)}},getMarkPath:function(a,l,f,c,b,m){return m.crispLine(["M",a,l,"L",a+(b?0:-f),l+(b?f:0)],c)},renderGridLine:function(a,l,f){var c=this.axis,b=c.options,m=this.gridLine,d={},h=this.pos,k=this.type,e=c.tickmarkOffset,p=c.chart.renderer,r=k?k+"Grid":"grid",n=b[r+"LineWidth"],z=b[r+"LineColor"];b=b[r+"LineDashStyle"];m||(d.stroke=z,d["stroke-width"]=n,b&&(d.dashstyle=b),k||(d.zIndex=1),a&&(d.opacity=0),this.gridLine=m=p.path().attr(d).addClass("highcharts-"+(k?k+"-":"")+"grid-line").add(c.gridGroup)),!a&&m&&(a=c.getPlotLinePath(h+e,m.strokeWidth()*f,a,!0))&&m[this.isNew?"attr":"animate"]({d:a,opacity:l})},renderMark:function(a,f,u){var c=this.axis,b=c.options,m=c.chart.renderer,d=this.type,h=d?d+"Tick":"tick",k=c.tickSize(h),e=this.mark,p=!e,r=a.x;a=a.y;var n=l(b[h+"Width"],!d&&c.isXAxis?1:0);b=b[h+"Color"];k&&(c.opposite&&(k[0]=-k[0]),p&&(this.mark=e=m.path().addClass("highcharts-"+(d?d+"-":"")+"tick").add(c.axisGroup),e.attr({stroke:b,"stroke-width":n})),e[p?"attr":"animate"]({d:this.getMarkPath(r,a,k[0],e.strokeWidth()*u,c.horiz,m),opacity:f}))},renderLabel:function(a,f,u,c){var m=(b=this.axis).horiz,d=b.options,h=this.label,k=d.labels,e=k.step,b=b.tickmarkOffset,p=!0,r=a.x;a=a.y,h&&q(r)&&(h.xy=a=this.getLabelPosition(r,a,h,m,k,b,c,e),this.isFirst&&!this.isLast&&!l(d.showFirstLabel,1)||this.isLast&&!this.isFirst&&!l(d.showLastLabel,1)?p=!1:!m||k.step||k.rotation||f||0===u||this.handleOverflow(a),e&&c%e&&(p=!1),p&&q(a.y)?(a.opacity=u,h[this.isNewLabel?"attr":"animate"](a),this.isNewLabel=!1):(h.attr("y",-9999),this.isNewLabel=!0))},render:function(f,t,u){var b=(c=this.axis).horiz,m=this.getPosition(b,this.pos,c.tickmarkOffset,t),d=m.x,h=m.y,c=b&&d===c.pos+c.len||!b&&h===c.pos?-1:1;u=l(u,1),this.isActive=!0,this.renderGridLine(t,u,c),this.renderMark(m,u,c),this.renderLabel(m,t,u,f),this.isNew=!1,a.fireEvent(this,"afterRender")},destroy:function(){E(this,this.axis)}}}(K);var V=function(a){var B=a.addEvent,H=a.animObject,E=a.arrayMax,q=a.arrayMin,f=a.color,l=a.correctFloat,t=a.defaultOptions,n=a.defined,v=a.deg2rad,u=a.destroyObjectProperties,c=a.each,b=a.extend,m=a.fireEvent,d=a.format,h=a.getMagnitude,k=a.grep,e=a.inArray,p=a.isArray,r=a.isNumber,I=a.isString,z=a.merge,M=a.normalizeTickInterval,D=a.objectEach,C=a.pick,x=a.removeEvent,F=a.splat,A=a.syncTimeout,J=a.Tick,G=function(){this.init.apply(this,arguments)};return a.extend(G.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return a.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(a,c){var g=c.isX,b=this;b.chart=a,b.horiz=a.inverted&&!b.isZAxis?!g:g,b.isXAxis=g,b.coll=b.coll||(g?"xAxis":"yAxis"),b.opposite=c.opposite,b.side=c.side||(b.horiz?b.opposite?0:2:b.opposite?1:3),b.setOptions(c);var w=this.options,d=w.type;b.labelFormatter=w.labels.formatter||b.defaultLabelFormatter,b.userOptions=c,b.minPixelPadding=0,b.reversed=w.reversed,b.visible=!1!==w.visible,b.zoomEnabled=!1!==w.zoomEnabled,b.hasNames="category"===d||!0===w.categories,b.categories=w.categories||b.hasNames,b.names||(b.names=[],b.names.keys={}),b.plotLinesAndBandsGroups={},b.isLog="logarithmic"===d,b.isDatetimeAxis="datetime"===d,b.positiveValuesOnly=b.isLog&&!b.allowNegativeLog,b.isLinked=n(w.linkedTo),b.ticks={},b.labelEdge=[],b.minorTicks={},b.plotLinesAndBands=[],b.alternateBands={},b.len=0,b.minRange=b.userMinRange=w.minRange||w.maxZoom,b.range=w.range,b.offset=w.offset||0,b.stacks={},b.oldStacks={},b.stacksTouched=0,b.max=null,b.min=null,b.crosshair=C(w.crosshair,F(a.options.tooltip.crosshairs)[g?0:1],!1),c=b.options.events,-1===e(b,a.axes)&&(g?a.axes.splice(a.xAxis.length,0,b):a.axes.push(b),a[b.coll].push(b)),b.series=b.series||[],a.inverted&&!b.isZAxis&&g&&void 0===b.reversed&&(b.reversed=!0),D(c,function(a,g){B(b,g,a)}),b.lin2log=w.linearToLogConverter||b.lin2log,b.isLog&&(b.val2lin=b.log2lin,b.lin2val=b.lin2log)},setOptions:function(a){this.options=z(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],z(t[this.coll],a))},defaultLabelFormatter:function(){var r,g=this.axis,c=this.value,b=g.chart.time,e=g.categories,h=this.dateTimeLabelFormat,p=(k=t.lang).numericSymbols,k=k.numericSymbolMagnitude||1e3,x=p&&p.length,m=g.options.labels.format;g=g.isLog?Math.abs(c):g.tickInterval;if(m)r=d(m,this,b);else if(e)r=c;else if(h)r=b.dateFormat(h,c);else if(x&&1e3<=g)for(;x--&&void 0===r;)(b=Math.pow(k,x+1))<=g&&0==10*c%b&&null!==p[x]&&0!==c&&(r=a.numberFormat(c/b,-1)+p[x]);return void 0===r&&(r=1e4<=Math.abs(c)?a.numberFormat(c,-1):a.numberFormat(c,-1,void 0,"")),r},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1,a.dataMin=a.dataMax=a.threshold=null,a.softThreshold=!a.isXAxis,a.buildStacks&&a.buildStacks(),c(a.series,function(g){if(g.visible||!b.options.chart.ignoreHiddenSeries){var d,c=g.options,w=c.threshold;a.hasVisibleSeries=!0,a.positiveValuesOnly&&w<=0&&(w=null),a.isXAxis?(c=g.xData).length&&(g=q(c),d=E(c),r(g)||g instanceof Date||(c=k(c,r),g=q(c),d=E(c)),c.length&&(a.dataMin=Math.min(C(a.dataMin,c[0],g),g),a.dataMax=Math.max(C(a.dataMax,c[0],d),d))):(g.getExtremes(),d=g.dataMax,g=g.dataMin,n(g)&&n(d)&&(a.dataMin=Math.min(C(a.dataMin,g),g),a.dataMax=Math.max(C(a.dataMax,d),d)),n(w)&&(a.threshold=w),(!c.softThreshold||a.positiveValuesOnly)&&(a.softThreshold=!1))}})},translate:function(a,c,b,d,e,h){var g=this.linkedParent||this,w=1,k=0,p=d?g.oldTransA:g.transA;d=d?g.oldMin:g.min;var x=g.minPixelPadding;return e=(g.isOrdinal||g.isBroken||g.isLog&&e)&&g.lin2val,p||(p=g.transA),b&&(w*=-1,k=g.len),g.reversed&&(k-=(w*=-1)*(g.sector||g.len)),c?(a=(a*w+k-x)/p+d,e&&(a=g.lin2val(a))):(e&&(a=g.val2lin(a)),a=r(d)?w*(a-d)*p+k+w*x+(r(h)?p*h:0):void 0),a},toPixels:function(a,c){return this.translate(a,!1,!this.horiz,null,!0)+(c?0:this.pos)},toValue:function(a,c){return this.translate(a-(c?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(a,c,b,d,e){var k,p,N,g=this.chart,w=this.left,h=this.top,x=b&&g.oldChartHeight||g.chartHeight,m=b&&g.oldChartWidth||g.chartWidth;k=this.transB;var A=function(a,g,c){return(a<g||c<a)&&(d?a=Math.min(Math.max(g,a),c):N=!0),a};return e=C(e,this.translate(a,null,null,b)),e=Math.min(Math.max(-1e5,e),1e5),a=b=Math.round(e+k),k=p=Math.round(x-e-k),r(e)?this.horiz?(k=h,p=x-this.bottom,a=b=A(a,w,w+this.width)):(a=w,b=m-this.right,k=p=A(k,h,h+this.height)):d=!(N=!0),N&&!d?null:g.renderer.crispLine(["M",a,k,"L",b,p],c||1)},getLinearTickPositions:function(a,c,b){var g,w=l(Math.floor(c/a)*a);b=l(Math.ceil(b/a)*a);var e,d=[];if(l(w+a)===w&&(e=20),this.single)return[c];for(c=w;c<=b&&(d.push(c),(c=l(c+a,e))!==g);)g=c;return d},getMinorTickInterval:function(){var a=this.options;return!0===a.minorTicks?C(a.minorTickInterval,"auto"):!1===a.minorTicks?null:a.minorTickInterval},getMinorTickPositions:function(){var a=this,b=a.options,d=a.tickPositions,e=a.minorTickInterval,h=[],k=a.pointRangePadding||0,p=a.min-k,x=(k=a.max+k)-p;if(x&&x/e<a.len/3)if(a.isLog)c(this.paddedTicks,function(g,c,b){c&&h.push.apply(h,a.getLogTickPositions(e,b[c-1],b[c],!0))});else if(a.isDatetimeAxis&&"auto"===this.getMinorTickInterval())h=h.concat(a.getTimeTicks(a.normalizeTimeTickInterval(e),p,k,b.startOfWeek));else for(b=p+(d[0]-p)%e;b<=k&&b!==h[0];b+=e)h.push(b);return 0!==h.length&&a.trimTicks(h),h},adjustForMinRange:function(){var e,h,k,p,x,r,A,a=this.options,b=this.min,d=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(n(a.min)||n(a.max)?this.minRange=null:(c(this.series,function(a){for(r=a.xData,p=a.xIncrement?1:r.length-1;0<p;p--)x=r[p]-r[p-1],(void 0===k||x<k)&&(k=x)}),this.minRange=Math.min(5*k,this.dataMax-this.dataMin))),d-b<this.minRange&&(h=this.dataMax-this.dataMin>=this.minRange,e=[b-(e=((A=this.minRange)-d+b)/2),C(a.min,b-e)],h&&(e[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),d=[(b=E(e))+A,C(a.max,b+A)],h&&(d[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(d=q(d))-b<A&&(e[0]=d-A,e[1]=C(a.min,d-A),b=E(e))),this.min=b,this.max=d},getClosest:function(){var a;return this.categories?a=1:c(this.series,function(g){var c=g.closestPointRange,b=g.visible||!g.chart.options.chart.ignoreHiddenSeries;!g.noSharedTooltip&&n(c)&&b&&(a=n(a)?Math.min(a,c):c)}),a},nameToX:function(a){var d,g=p(this.categories),c=g?this.categories:this.names,b=a.options.x;return a.series.requireSorting=!1,n(b)||(b=!1===this.options.uniqueNames?a.series.autoIncrement():g?e(a.name,c):C(c.keys[a.name],-1)),-1===b?g||(d=c.length):d=b,void 0!==d&&(this.names[d]=a.name,this.names.keys[a.name]=d),d},updateNames:function(){var g=this,b=this.names;0<b.length&&(c(a.keys(b.keys),function(a){delete b.keys[a]}),b.length=0,this.minRange=this.userMinRange,c(this.series||[],function(a){a.xIncrement=null,a.points&&!a.isDirtyData||(a.processData(),a.generatePoints()),c(a.points,function(c,b){var d;c.options&&(void 0!==(d=g.nameToX(c))&&d!==c.x&&(c.x=d,a.xData[b]=d))})}))},setAxisTranslation:function(a){var e,g=this,b=g.max-g.min,d=g.axisPointRange||0,h=0,k=0,p=g.linkedParent,x=!!g.categories,r=g.transA,m=g.isXAxis;(m||x||d)&&(e=g.getClosest(),p?(h=p.minPointOffset,k=p.pointRangePadding):c(g.series,function(a){var c=x?1:m?C(a.options.pointRange,e,0):g.axisPointRange||0;a=a.options.pointPlacement,d=Math.max(d,c),g.single||(h=Math.max(h,I(a)?0:c/2),k=Math.max(k,"on"===a?0:c))}),p=g.ordinalSlope&&e?g.ordinalSlope/e:1,g.minPointOffset=h*=p,g.pointRangePadding=k*=p,g.pointRange=Math.min(d,b),m&&(g.closestPointRange=e)),a&&(g.oldTransA=r),g.translationSlope=g.transA=r=g.options.staticScale||g.len/(b+k||1),g.transB=g.horiz?g.left:g.bottom,g.minPixelPadding=r*h},minFromRange:function(){return this.max-this.range},setTickInterval:function(g){var v,q,I,B,b=this,d=b.chart,e=b.options,k=b.isLog,p=b.log2lin,x=b.isDatetimeAxis,A=b.isXAxis,F=b.isLinked,f=e.maxPadding,z=e.minPadding,D=e.tickInterval,J=e.tickPixelInterval,G=b.categories,u=b.threshold,t=b.softThreshold;x||G||F||this.getTickAmount(),I=C(b.userMin,e.min),B=C(b.userMax,e.max),F?(b.linkedParent=d[b.coll][e.linkedTo],d=b.linkedParent.getExtremes(),b.min=C(d.min,d.dataMin),b.max=C(d.max,d.dataMax),e.type!==b.linkedParent.options.type&&a.error(11,1)):(!t&&n(u)&&(b.dataMin>=u?(v=u,z=0):b.dataMax<=u&&(q=u,f=0)),b.min=C(I,v,b.dataMin),b.max=C(B,q,b.dataMax)),k&&(b.positiveValuesOnly&&!g&&Math.min(b.min,C(b.dataMin,b.min))<=0&&a.error(10,1),b.min=l(p(b.min),15),b.max=l(p(b.max),15)),b.range&&n(b.max)&&(b.userMin=b.min=I=Math.max(b.dataMin,b.minFromRange()),b.userMax=B=b.max,b.range=null),m(b,"foundExtremes"),b.beforePadding&&b.beforePadding(),b.adjustForMinRange(),!(G||b.axisPointRange||b.usePercentage||F)&&n(b.min)&&n(b.max)&&(p=b.max-b.min)&&(!n(I)&&z&&(b.min-=p*z),!n(B)&&f&&(b.max+=p*f)),r(e.softMin)&&!r(b.userMin)&&(b.min=Math.min(b.min,e.softMin)),r(e.softMax)&&!r(b.userMax)&&(b.max=Math.max(b.max,e.softMax)),r(e.floor)&&(b.min=Math.max(b.min,e.floor)),r(e.ceiling)&&(b.max=Math.min(b.max,e.ceiling)),t&&n(b.dataMin)&&(u=u||0,!n(I)&&b.min<u&&b.dataMin>=u?b.min=u:!n(B)&&b.max>u&&b.dataMax<=u&&(b.max=u)),b.tickInterval=b.min===b.max||void 0===b.min||void 0===b.max?1:F&&!D&&J===b.linkedParent.options.tickPixelInterval?D=b.linkedParent.tickInterval:C(D,this.tickAmount?(b.max-b.min)/Math.max(this.tickAmount-1,1):void 0,G?1:(b.max-b.min)*J/Math.max(b.len,J)),A&&!g&&c(b.series,function(a){a.processData(b.min!==b.oldMin||b.max!==b.oldMax)}),b.setAxisTranslation(!0),b.beforeSetTickPositions&&b.beforeSetTickPositions(),b.postProcessTickInterval&&(b.tickInterval=b.postProcessTickInterval(b.tickInterval)),b.pointRange&&!D&&(b.tickInterval=Math.max(b.pointRange,b.tickInterval)),g=C(e.minTickInterval,b.isDatetimeAxis&&b.closestPointRange),!D&&b.tickInterval<g&&(b.tickInterval=g),x||k||D||(b.tickInterval=M(b.tickInterval,null,h(b.tickInterval),C(e.allowDecimals,!(.5<b.tickInterval&&b.tickInterval<5&&1e3<b.max&&b.max<9999)),!!this.tickAmount)),this.tickAmount||(b.tickInterval=b.unsquish()),this.setTickPositions()},setTickPositions:function(){var b,a=this.options,c=a.tickPositions;b=this.getMinorTickInterval();var d=a.tickPositioner,e=a.startOnTick,h=a.endOnTick;this.tickmarkOffset=this.categories&&"between"===a.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===b&&this.tickInterval?this.tickInterval/5:b,this.single=this.min===this.max&&n(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==a.allowDecimals),this.tickPositions=b=c&&c.slice(),!b&&((b=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,a.units),this.min,this.max,a.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max)).length>this.len&&((b=[b[0],b.pop()])[0]===b[1]&&(b.length=1)),this.tickPositions=b,d&&(d=d.apply(this,[this.min,this.max])))&&(this.tickPositions=b=d),this.paddedTicks=b.slice(0),this.trimTicks(b,e,h),this.isLinked||(this.single&&b.length<2&&(this.min-=.5,this.max+=.5),c||d||this.adjustTickAmount())},trimTicks:function(a,b,c){var g=a[0],d=a[a.length-1],e=this.minPointOffset||0;if(!this.isLinked){if(b&&-1/0!==g)this.min=g;else for(;this.min-e>a[0];)a.shift();if(c)this.max=d;else for(;this.max+e<a[a.length-1];)a.pop();0===a.length&&n(g)&&!this.options.tickPositions&&a.push((d+g)/2)}},alignToOthers:function(){var b,a={},d=this.options;return!1===this.chart.options.chart.alignTicks||!1===d.alignTicks||this.isLog||c(this.chart[this.coll],function(g){var c=g.options;c=[g.horiz?c.left:c.top,c.width,c.height,c.pane].join();g.series.length&&(a[c]?b=!0:a[c]=1)}),b},getTickAmount:function(){var a=this.options,b=a.tickAmount,c=a.tickPixelInterval;!n(a.tickInterval)&&this.len<c&&!this.isRadial&&!this.isLog&&a.startOnTick&&a.endOnTick&&(b=2),!b&&this.alignToOthers()&&(b=Math.ceil(this.len/c)+1),b<4&&(this.finalTickAmt=b,b=5),this.tickAmount=b},adjustTickAmount:function(){var a=this.tickInterval,b=this.tickPositions,c=this.tickAmount,d=this.finalTickAmt,e=b&&b.length,h=C(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(e<c){for(;b.length<c;)b.length%2||this.min===h?b.push(l(b[b.length-1]+a)):b.unshift(l(b[0]-a));this.transA*=(e-1)/(c-1),this.min=b[0],this.max=b[b.length-1]}else c<e&&(this.tickInterval*=2,this.setTickPositions());if(n(d)){for(a=c=b.length;a--;)(3===d&&1==a%2||d<=2&&0<a&&a<c-1)&&b.splice(a,1);this.finalTickAmt=void 0}}},setScale:function(){var a,b;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),b=this.len!==this.oldAxisLength,c(this.series,function(b){(b.isDirtyData||b.isDirty||b.xAxis.isDirty)&&(a=!0)}),b||a||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=b||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),m(this,"afterSetScale")},setExtremes:function(a,d,e,h,k){var g=this,p=g.chart;e=C(e,!0),c(g.series,function(a){delete a.kdTree}),k=b(k,{min:a,max:d}),m(g,"setExtremes",k,function(){g.userMin=a,g.userMax=d,g.eventArgs=k,e&&p.redraw(h)})},zoom:function(a,b){var g=this.dataMin,c=this.dataMax,d=this.options,e=Math.min(g,C(d.min,g));d=Math.max(c,C(d.max,c));return a===this.min&&b===this.max||(this.allowZoomOutside||(n(g)&&(a<e&&(a=e),d<a&&(a=d)),n(c)&&(b<e&&(b=e),d<b&&(b=d))),this.displayBtn=void 0!==a||void 0!==b,this.setExtremes(a,b,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var b=this.chart,d=(c=this.options).offsets||[0,0,0,0],e=this.horiz,h=this.width=Math.round(a.relativeLength(C(c.width,b.plotWidth-d[3]+d[1]),b.plotWidth)),k=this.height=Math.round(a.relativeLength(C(c.height,b.plotHeight-d[0]+d[2]),b.plotHeight)),p=this.top=Math.round(a.relativeLength(C(c.top,b.plotTop+d[0]),b.plotHeight,b.plotTop)),c=this.left=Math.round(a.relativeLength(C(c.left,b.plotLeft+d[3]),b.plotWidth,b.plotLeft));this.bottom=b.chartHeight-k-p,this.right=b.chartWidth-h-c,this.len=Math.max(e?h:k,0),this.pos=e?c:p},getExtremes:function(){var a=this.isLog,b=this.lin2log;return{min:a?l(b(this.min)):this.min,max:a?l(b(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(a){var b=this.isLog,c=this.lin2log,g=b?c(this.min):this.min;b=b?c(this.max):this.max;return null===a?a=g:a<g?a=g:b<a&&(a=b),this.translate(a,0,1,0,1)},autoLabelAlign:function(a){return 15<(a=(C(a,0)-90*this.side+720)%360)&&a<165?"right":195<a&&a<345?"left":"center"},tickSize:function(a){var b=this.options,c=b[a+"Length"],g=C(b[a+"Width"],"tick"===a&&this.isXAxis?1:0);if(g&&c)return"inside"===b[a+"Position"]&&(c=-c),[c,g]},labelMetrics:function(){var a=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[a]&&this.ticks[a].label)},unsquish:function(){var k,r,A,a=this.options.labels,b=this.horiz,d=this.tickInterval,e=d,h=this.len/(((this.categories?1:0)+this.max-this.min)/d),p=a.rotation,x=this.labelMetrics(),m=Number.MAX_VALUE,F=function(a){return(a=1<(a/=h||1)?Math.ceil(a):1)*d};return b?(A=!a.staggerLines&&!a.step&&(n(p)?[p]:h<C(a.autoRotationLimit,80)&&a.autoRotation))&&c(A,function(a){var b;(a===p||a&&-90<=a&&a<=90)&&((b=(r=F(Math.abs(x.h/Math.sin(v*a))))+Math.abs(a/360))<m&&(m=b,k=a,e=r))}):a.step||(e=F(x.h)),this.autoRotation=A,this.labelRotation=C(k,p),e},getSlotWidth:function(){var a=this.chart,b=this.horiz,c=this.options.labels,d=Math.max(this.tickPositions.length-(this.categories?0:1),1),e=a.margin[3];return b&&(c.step||0)<2&&!c.rotation&&(this.staggerLines||1)*this.len/d||!b&&(c.style&&parseInt(c.style.width,10)||e&&e-a.spacing[3]||.33*a.chartWidth)},renderUnsquish:function(){var F,l,z,a=this.chart,b=a.renderer,d=this.tickPositions,e=this.ticks,h=this.options.labels,k=this.horiz,p=this.getSlotWidth(),x=Math.max(1,Math.round(p-2*(h.padding||5))),r={},m=this.labelMetrics(),A=h.style&&h.style.textOverflow,f=0;if(I(h.rotation)||(r.rotation=h.rotation||0),c(d,function(a){(a=e[a])&&a.label&&a.label.textPxLength>f&&(f=a.label.textPxLength)}),this.maxLabelLength=f,this.autoRotation)x<f&&f>m.h?r.rotation=this.labelRotation:this.labelRotation=0;else if(p&&(F=x,!A))for(l="clip",x=d.length;!k&&x--;)z=d[x],(z=e[z].label)&&(z.styles&&"ellipsis"===z.styles.textOverflow?z.css({textOverflow:"clip"}):z.textPxLength>p&&z.css({width:p+"px"}),z.getBBox().height>this.len/d.length-(m.h-m.f)&&(z.specificTextOverflow="ellipsis"));r.rotation&&(F=f>.5*a.chartHeight?.33*a.chartHeight:a.chartHeight,A||(l="ellipsis")),(this.labelAlign=h.align||this.autoLabelAlign(this.labelRotation))&&(r.align=this.labelAlign),c(d,function(a){var b=(a=e[a])&&a.label;b&&(b.attr(r),!F||h.style&&h.style.width||!(F<b.textPxLength||"SPAN"===b.element.tagName)||b.css({width:F,textOverflow:b.specificTextOverflow||l}),delete b.specificTextOverflow,a.rotation=r.rotation)}),this.tickRotCorr=b.rotCorr(m.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||n(this.min)&&n(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(a){var e,b=this.chart.renderer,c=this.horiz,g=this.opposite,d=this.options.title;this.axisTitle||((e=d.textAlign)||(e=(c?{low:"left",middle:"center",high:"right"}:{low:g?"right":"left",middle:"center",high:g?"left":"right"})[d.align]),this.axisTitle=b.text(d.text,0,0,d.useHTML).attr({zIndex:7,rotation:d.rotation||0,align:e}).addClass("highcharts-axis-title").css(z(d.style)).add(this.axisGroup),this.axisTitle.isNew=!0),d.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[a?"show":"hide"](!0)},generateTick:function(a){var b=this.ticks;b[a]?b[a].addLabel():b[a]=new J(this,a)},getOffset:function(){var m,A,l,a=this,d=(b=a.chart).renderer,e=a.options,h=a.tickPositions,k=a.ticks,p=a.horiz,x=a.side,r=b.inverted&&!a.isZAxis?[1,0,3,2][x]:x,F=0,f=0,z=e.title,J=e.labels,G=0,u=b.axisOffset,b=b.clipOffset,t=[-1,1,1,-1][x],v=e.className,M=a.axisParent,q=this.tickSize("tick");m=a.hasData(),a.showAxis=A=m||C(e.showEmpty,!0),a.staggerLines=a.horiz&&J.staggerLines,a.axisGroup||(a.gridGroup=d.g("grid").attr({zIndex:e.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(v||"")).add(M),a.axisGroup=d.g("axis").attr({zIndex:e.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(v||"")).add(M),a.labelGroup=d.g("axis-labels").attr({zIndex:J.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels "+(v||"")).add(M)),m||a.isLinked?(c(h,function(b,c){a.generateTick(b,c)}),a.renderUnsquish(),a.reserveSpaceDefault=0===x||2===x||{1:"left",3:"right"}[x]===a.labelAlign,C(J.reserveSpace,"center"===a.labelAlign||null,a.reserveSpaceDefault)&&c(h,function(a){G=Math.max(k[a].getLabelSize(),G)}),a.staggerLines&&(G*=a.staggerLines),a.labelOffset=G*(a.opposite?-1:1)):D(k,function(a,b){a.destroy(),delete k[b]}),z&&z.text&&!1!==z.enabled&&(a.addTitle(A),A&&!1!==z.reserveSpace&&(a.titleOffset=F=a.axisTitle.getBBox()[p?"height":"width"],l=z.offset,f=n(l)?0:C(z.margin,p?5:10))),a.renderLine(),a.offset=t*C(e.offset,u[x]),a.tickRotCorr=a.tickRotCorr||{x:0,y:0},d=0===x?-a.labelMetrics().h:2===x?a.tickRotCorr.y:0,f=Math.abs(G)+f,G&&(f=f-d+t*(p?C(J.y,a.tickRotCorr.y+8*t):J.x)),a.axisTitleMargin=C(l,f),u[x]=Math.max(u[x],a.axisTitleMargin+F+t*a.offset,f,m&&h.length&&q?q[0]+t*a.offset:0),e=e.offset?0:2*Math.floor(a.axisLine.strokeWidth()/2),b[r]=Math.max(b[r],e)},getLinePath:function(a){var b=this.chart,c=this.opposite,g=this.offset,d=this.horiz,e=this.left+(c?this.width:0)+g;g=b.chartHeight-this.bottom-(c?this.height:0)+g;return c&&(a*=-1),b.renderer.crispLine(["M",d?this.left:e,d?g:this.top,"L",d?b.chartWidth-this.right:e,d?g:b.chartHeight-this.bottom],a)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var a=this.horiz,b=this.left,c=this.top,d=this.len,e=this.options.title,h=a?b:c,k=this.opposite,p=this.offset,x=e.x||0,r=e.y||0,m=this.axisTitle,A=this.chart.renderer.fontMetrics(e.style&&e.style.fontSize,m);m=Math.max(m.getBBox(null,0).height-A.h-1,0),d={low:h+(a?0:d),middle:h+d/2,high:h+(a?d:0)}[e.align],b=(a?c+this.height:b)+(a?1:-1)*(k?-1:1)*this.axisTitleMargin+[-m,m,A.f,-m][this.side];return{x:a?d+x:b+(k?this.width:0)+p+x,y:a?b+r-(k?this.height:0)+p:d+r}},renderMinorTick:function(a){var b=this.chart.hasRendered&&r(this.oldMin),c=this.minorTicks;c[a]||(c[a]=new J(this,a,"minor")),b&&c[a].isNew&&c[a].render(null,!0),c[a].render(null,!1,1)},renderTick:function(a,b){var c=this.isLinked,g=this.ticks,d=this.chart.hasRendered&&r(this.oldMin);(!c||a>=this.min&&a<=this.max)&&(g[a]||(g[a]=new J(this,a)),d&&g[a].isNew&&g[a].render(b,!0,.1),g[a].render(b))},render:function(){var v,M,b=this,d=b.chart,e=b.options,h=b.isLog,k=b.lin2log,p=b.isLinked,x=b.tickPositions,m=b.axisTitle,F=b.ticks,l=b.minorTicks,f=b.alternateBands,z=e.stackLabels,G=e.alternateGridColor,n=b.tickmarkOffset,u=b.axisLine,C=b.showAxis,t=H(d.renderer.globalAnimation);b.labelEdge.length=0,b.overlap=!1,c([F,l,f],function(a){D(a,function(a){a.isActive=!1})}),(b.hasData()||p)&&(b.minorTickInterval&&!b.categories&&c(b.getMinorTickPositions(),function(a){b.renderMinorTick(a)}),x.length&&(c(x,function(a,c){b.renderTick(a,c)}),n&&(0===b.min||b.single)&&(F[-1]||(F[-1]=new J(b,-1,null,!0)),F[-1].render(-1))),G&&c(x,function(c,e){M=void 0!==x[e+1]?x[e+1]+n:b.max-n,0==e%2&&c<b.max&&M<=b.max+(d.polar?-n:n)&&(f[c]||(f[c]=new a.PlotLineOrBand(b)),v=c+n,f[c].options={from:h?k(v):v,to:h?k(M):M,color:G},f[c].render(),f[c].isActive=!0)}),b._addedPlotLB||(c((e.plotLines||[]).concat(e.plotBands||[]),function(a){b.addPlotBandOrLine(a)}),b._addedPlotLB=!0)),c([F,l,f],function(a){var b,c=[],e=t.duration;D(a,function(a,b){a.isActive||(a.render(b,!1,0),a.isActive=!1,c.push(b))}),A(function(){for(b=c.length;b--;)a[c[b]]&&!a[c[b]].isActive&&(a[c[b]].destroy(),delete a[c[b]])},a!==f&&d.hasRendered&&e?e:0)}),u&&(u[u.isPlaced?"animate":"attr"]({d:this.getLinePath(u.strokeWidth())}),u.isPlaced=!0,u[C?"show":"hide"](!0)),m&&C&&(e=b.getTitlePosition(),r(e.y)?(m[m.isNew?"attr":"animate"](e),m.isNew=!1):(m.attr("y",-9999),m.isNew=!0)),z&&z.enabled&&b.renderStackTotals(),b.isDirty=!1},redraw:function(){this.visible&&(this.render(),c(this.plotLinesAndBands,function(a){a.render()})),c(this.series,function(a){a.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(a){var h,b=this,d=b.stacks,g=b.plotLinesAndBands;if(a||x(b),D(d,function(a,b){u(a),d[b]=null}),c([b.ticks,b.minorTicks,b.alternateBands],function(a){u(a)}),g)for(a=g.length;a--;)g[a].destroy();for(h in c("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(a){b[a]&&(b[a]=b[a].destroy())}),b.plotLinesAndBandsGroups)b.plotLinesAndBandsGroups[h]=b.plotLinesAndBandsGroups[h].destroy();D(b,function(a,c){-1===e(c,b.keepProps)&&delete b[c]})},drawCrosshair:function(a,b){var c,g,d=this.crosshair,e=C(d.snap,!0),h=this.cross;a||(a=this.cross&&this.cross.e),this.crosshair&&!1!==(n(b)||!e)?(e?n(b)&&(g=this.isXAxis?b.plotX:this.len-b.plotY):g=a&&(this.horiz?a.chartX-this.pos:this.len-a.chartY+this.pos),n(g)&&(c=this.getPlotLinePath(b&&(this.isXAxis?b.x:C(b.stackY,b.y)),null,null,null,g)||null),n(c)?(b=this.categories&&!this.isRadial,h||(this.cross=h=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(b?"category ":"thin ")+d.className).attr({zIndex:C(d.zIndex,2)}).add(),h.attr({stroke:d.color||(b?f("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":C(d.width,1)}).css({"pointer-events":"none"}),d.dashStyle&&h.attr({dashstyle:d.dashStyle})),h.show().attr({d:c}),b&&!d.width&&h.attr({"stroke-width":this.transA}),this.cross.e=a):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}}),a.Axis=G}(K);return function(a){var B=a.Axis,H=a.getMagnitude,E=a.normalizeTickInterval,q=a.timeUnits;B.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},B.prototype.normalizeTimeTickInterval=function(a,l){var f=l||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];l=f[f.length-1];var u,n=q[l[0]],v=l[1];for(u=0;u<f.length&&(l=f[u],n=q[l[0]],v=l[1],!(f[u+1]&&a<=(n*v[v.length-1]+q[f[u+1][0]])/2));u++);return n===q.year&&a<5*n&&(v=[1,2,5]),{unitRange:n,count:a=E(a/n,v,"year"===l[0]?Math.max(H(a/n),1):1),unitName:l[0]}}}(K),function(a){var B=a.Axis,H=a.getMagnitude,E=a.map,q=a.normalizeTickInterval,f=a.pick;B.prototype.getLogTickPositions=function(a,t,n,v){var l=this.options,c=this.len,b=this.lin2log,m=this.log2lin,d=[];if(v||(this._minorAutoInterval=null),.5<=a)a=Math.round(a),d=this.getLinearTickPositions(a,t,n);else if(.08<=a){var h,k,e,p,r;for(c=Math.floor(t),l=.3<a?[1,2,4]:.15<a?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c<n+1&&!r;c++)for(k=l.length,h=0;h<k&&!r;h++)t<(e=m(b(c)*l[h]))&&(!v||p<=n)&&void 0!==p&&d.push(p),n<p&&(r=!0),p=e}else t=b(t),n=b(n),a=v?this.getMinorTickInterval():l.tickInterval,a=f("auto"===a?null:a,this._minorAutoInterval,l.tickPixelInterval/(v?5:1)*(n-t)/((v?c/this.tickPositions.length:c)||1)),a=q(a,null,H(a)),d=E(this.getLinearTickPositions(a,t,n),m),v||(this._minorAutoInterval=a/5);return v||(this.tickInterval=a),d},B.prototype.log2lin=function(a){return Math.log(a)/Math.LN10},B.prototype.lin2log=function(a){return Math.pow(10,a)}}(K),function(a,B){var H=a.arrayMax,E=a.arrayMin,q=a.defined,f=a.destroyObjectProperties,l=a.each,t=a.erase,n=a.merge,v=a.pick;a.PlotLineOrBand=function(a,c){this.axis=a,c&&(this.options=c,this.id=c.id)},a.PlotLineOrBand.prototype={render:function(){var f=this,c=f.axis,b=c.horiz,m=f.options,d=m.label,h=f.label,k=m.to,e=m.from,p=m.value,r=q(e)&&q(k),l=q(p),z=f.svgElem,t=!z,D=[],C=m.color,x=v(m.zIndex,0),F=m.events,A=(D={class:"highcharts-plot-"+(r?"band ":"line ")+(m.className||"")},{}),J=c.chart.renderer,G=r?"bands":"lines",g=c.log2lin;if(c.isLog&&(e=g(e),k=g(k),p=g(p)),l?(D={stroke:C,"stroke-width":m.width},m.dashStyle&&(D.dashstyle=m.dashStyle)):r&&(C&&(D.fill=C),m.borderWidth&&(D.stroke=m.borderColor,D["stroke-width"]=m.borderWidth)),G+="-"+(A.zIndex=x),(C=c.plotLinesAndBandsGroups[G])||(c.plotLinesAndBandsGroups[G]=C=J.g("plot-"+G).attr(A).add()),t&&(f.svgElem=z=J.path().attr(D).add(C)),l)D=c.getPlotLinePath(p,z.strokeWidth());else{if(!r)return;D=c.getPlotBandPath(e,k,m)}return t&&D&&D.length?(z.attr({d:D}),F&&a.objectEach(F,function(a,b){z.on(b,function(a){F[b].apply(f,[a])})})):z&&(D?(z.show(),z.animate({d:D})):(z.hide(),h&&(f.label=h=h.destroy()))),d&&q(d.text)&&D&&D.length&&0<c.width&&0<c.height&&!D.flat?(d=n({align:b&&r&&"center",x:b?!r&&4:10,verticalAlign:!b&&r&&"middle",y:b?r?16:10:r?6:-4,rotation:b&&!r&&90},d),this.renderLabel(d,D,r,x)):h&&h.hide(),f},renderLabel:function(a,c,b,m){var d=this.label,h=this.axis.chart.renderer;d||((d={align:a.textAlign||a.align,rotation:a.rotation,class:"highcharts-plot-"+(b?"band":"line")+"-label "+(a.className||"")}).zIndex=m,this.label=d=h.text(a.text,0,0,a.useHTML).attr(d).add(),d.css(a.style)),m=c.xBounds||[c[1],c[4],b?c[6]:c[1]],c=c.yBounds||[c[2],c[5],b?c[7]:c[2]],b=E(m),h=E(c),d.align(a,!1,{x:b,y:h,width:H(m)-b,height:H(c)-h}),d.show()},destroy:function(){t(this.axis.plotLinesAndBands,this),delete this.axis,f(this)}},a.extend(B.prototype,{getPlotBandPath:function(a,c){var e,b=this.getPlotLinePath(c,null,null,!0),m=this.getPlotLinePath(a,null,null,!0),d=[],h=this.horiz,k=1;if(a=a<this.min&&c<this.min||a>this.max&&c>this.max,m&&b)for(a&&(e=m.toString()===b.toString(),k=0),a=0;a<m.length;a+=6)h&&b[a+1]===m[a+1]?(b[a+1]+=k,b[a+4]+=k):h||b[a+2]!==m[a+2]||(b[a+2]+=k,b[a+5]+=k),d.push("M",m[a+1],m[a+2],"L",m[a+4],m[a+5],b[a+4],b[a+5],b[a+1],b[a+2],"z"),d.flat=e;return d},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(f,c){var b=new a.PlotLineOrBand(this,f).render(),m=this.userOptions;return b&&(c&&(m[c]=m[c]||[],m[c].push(f)),this.plotLinesAndBands.push(b)),b},removePlotBandOrLine:function(a){for(var c=this.plotLinesAndBands,b=this.options,m=this.userOptions,d=c.length;d--;)c[d].id===a&&c[d].destroy();l([b.plotLines||[],m.plotLines||[],b.plotBands||[],m.plotBands||[]],function(b){for(d=b.length;d--;)b[d].id===a&&t(b,b[d])})},removePlotBand:function(a){this.removePlotBandOrLine(a)},removePlotLine:function(a){this.removePlotBandOrLine(a)}})}(K,V),function(a){var B=a.each,H=a.extend,E=a.format,q=a.isNumber,f=a.map,l=a.merge,t=a.pick,n=a.splat,v=a.syncTimeout,u=a.timeUnits;a.Tooltip=function(){this.init.apply(this,arguments)},a.Tooltip.prototype={init:function(a,b){this.chart=a,this.options=b,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=b.split&&!a.inverted,this.shared=b.shared||this.split},cleanSplit:function(a){B(this.chart.series,function(b){var c=b&&b.tt;c&&(!c.isActive||a?b.tt=c.destroy():c.isActive=!1)})},getLabel:function(){var a=this.chart.renderer,b=this.options;return this.label||(this.split?this.label=a.g("tooltip"):(this.label=a.label("",0,0,b.shape||"callout",null,null,b.useHTML,null,"tooltip").attr({padding:b.padding,r:b.borderRadius}),this.label.attr({fill:b.backgroundColor,"stroke-width":b.borderWidth}).css(b.style).shadow(b.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(a){this.destroy(),l(!0,this.chart.options.tooltip.userOptions,a),this.init(this.chart,l(!0,this.options,a))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(a,b,m,d){var c=this,k=c.now,e=!1!==c.options.animation&&!c.isHidden&&(1<Math.abs(a-k.x)||1<Math.abs(b-k.y)),p=c.followPointer||1<c.len;H(k,{x:e?(2*k.x+a)/3:a,y:e?(k.y+b)/2:b,anchorX:p?void 0:e?(2*k.anchorX+m)/3:m,anchorY:p?void 0:e?(k.anchorY+d)/2:d}),c.getLabel().attr(k),e&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){c&&c.move(a,b,m,d)},32))},hide:function(a){var b=this;clearTimeout(this.hideTimer),a=t(a,this.options.hideDelay,500),this.isHidden||(this.hideTimer=v(function(){b.getLabel()[a?"fadeOut":"hide"](),b.isHidden=!0},a))},getAnchor:function(a,b){var c,l,z,d=this.chart,h=d.inverted,k=d.plotTop,e=d.plotLeft,p=0,r=0;return c=(a=n(a))[0].tooltipPos,this.followPointer&&b&&(void 0===b.chartX&&(b=d.pointer.normalize(b)),c=[b.chartX-d.plotLeft,b.chartY-k]),c||(B(a,function(a){l=a.series.yAxis,z=a.series.xAxis,p+=a.plotX+(!h&&z?z.left-e:0),r+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!h&&l?l.top-k:0)}),p/=a.length,r/=a.length,c=[h?d.plotWidth-r:p,this.shared&&!h&&1<a.length&&b?b.chartY-k:h?d.plotHeight-p:r]),f(c,Math.round)},getPosition:function(a,b,m){var p,c=this.chart,h=this.distance,k={},e=c.inverted&&m.h||0,r=["y",c.chartHeight,b,m.plotY+c.plotTop,c.plotTop,c.plotTop+c.plotHeight],f=["x",c.chartWidth,a,m.plotX+c.plotLeft,c.plotLeft,c.plotLeft+c.plotWidth],l=!this.followPointer&&t(m.ttBelow,!c.inverted==!!m.negative),C=function(a){var b=r;r=f,f=b,p=a},x=function(){!1!==function(a,b,c,d,g,p){var x=c<d-h,r=d+h+c<b,m=d-h-c;if(d+=h,l&&r)k[a]=d;else if(!l&&x)k[a]=m;else if(x)k[a]=Math.min(p-c,m-e<0?m:m-e);else{if(!r)return!1;k[a]=Math.max(g,b<d+e+c?d:d+e)}}.apply(0,r)?!1!==function(a,b,c,d){var e;return d<h||b-h<d?e=!1:k[a]=d<c/2?1:b-c/2<d?b-c-2:d-c/2,e}.apply(0,f)||p||(C(!0),x()):p?k.x=k.y=0:(C(!0),x())};return(c.inverted||1<this.len)&&C(),x(),k},defaultFormatter:function(a){var c,b=this.points||n(this);return(c=(c=[a.tooltipFooterHeaderFormatter(b[0])]).concat(a.bodyFormatter(b))).push(a.tooltipFooterHeaderFormatter(b[0],!0)),c},refresh:function(a,b){var c,h,e,d=this.options,k=a,p={},r=[];c=d.formatter||this.defaultFormatter;var f;p=this.shared;d.enabled&&(clearTimeout(this.hideTimer),this.followPointer=n(k)[0].series.tooltipOptions.followPointer,b=(e=this.getAnchor(k,b))[0],h=e[1],!p||k.series&&k.series.noSharedTooltip?p=k.getLabelConfig():(B(k,function(a){a.setState("hover"),r.push(a.getLabelConfig())}),(p={x:k[0].category,y:k[0].y}).points=r,k=k[0]),this.len=r.length,p=c.call(p,this),f=k.series,this.distance=t(f.tooltipOptions.distance,16),!1===p?this.hide():(c=this.getLabel(),this.isHidden&&c.attr({opacity:1}).show(),this.split?this.renderSplit(p,n(a)):(d.style.width||c.css({width:this.chart.spacingBox.width}),c.attr({text:p&&p.join?p.join(""):p}),c.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+t(k.colorIndex,f.colorIndex)),c.attr({stroke:d.borderColor||k.color||f.color||"#666666"}),this.updatePosition({plotX:b,plotY:h,negative:k.negative,ttBelow:k.ttBelow,h:e[2]||0})),this.isHidden=!1))},renderSplit:function(c,b){var m=this,d=[],h=this.chart,k=h.renderer,e=!0,p=this.options,r=0,f=this.getLabel();a.isString(c)&&(c=[!1,c]),B(c.slice(0,b.length+1),function(a,c){if(!1!==a){var l=(c=b[c-1]||{isHeader:!0,plotX:b[0].plotX}).series||m,z=l.tt,x=c.series||{},F="highcharts-color-"+t(c.colorIndex,x.colorIndex,"none");z||(l.tt=z=k.label(null,null,null,"callout",null,null,p.useHTML).addClass("highcharts-tooltip-box "+F).attr({padding:p.padding,r:p.borderRadius,fill:p.backgroundColor,stroke:p.borderColor||c.color||x.color||"#333333","stroke-width":p.borderWidth}).add(f)),z.isActive=!0,z.attr({text:a}),z.css(p.style).shadow(p.shadow),x=(a=z.getBBox()).width+z.strokeWidth(),(x=c.isHeader?(r=a.height,Math.max(0,Math.min(c.plotX+h.plotLeft-x/2,h.chartWidth-x))):c.plotX+h.plotLeft-t(p.distance,16)-x)<0&&(e=!1),a=(c.series&&c.series.yAxis&&c.series.yAxis.pos)+(c.plotY||0),a-=h.plotTop,d.push({target:c.isHeader?h.plotHeight+r:a,rank:c.isHeader?1:0,size:l.tt.getBBox().height+1,point:c,x:x,tt:z})}}),this.cleanSplit(),a.distribute(d,h.plotHeight+r),B(d,function(a){var b=a.point,c=b.series;a.tt.attr({visibility:void 0===a.pos?"hidden":"inherit",x:e||b.isHeader?a.x:b.plotX+h.plotLeft+t(p.distance,16),y:a.pos+h.plotTop,anchorX:b.isHeader?b.plotX+h.plotLeft:b.plotX+c.xAxis.pos,anchorY:b.isHeader?a.pos+h.plotTop-15:b.plotY+c.yAxis.pos})})},updatePosition:function(a){var b=this.chart,c=this.getLabel();c=(this.options.positioner||this.getPosition).call(this,c.width,c.height,a);this.move(Math.round(c.x),Math.round(c.y||0),a.plotX+b.plotLeft,a.plotY+b.plotTop)},getDateFormat:function(a,b,m,d){var e,p,c=this.chart.time,k=c.dateFormat("%m-%d %H:%M:%S.%L",b),r={millisecond:15,second:12,minute:9,hour:6,day:3},f="millisecond";for(p in u){if(a===u.week&&+c.dateFormat("%w",b)===m&&"00:00:00.000"===k.substr(6)){p="week";break}if(u[p]>a){p=f;break}if(r[p]&&k.substr(r[p])!=="01-01 00:00:00.000".substr(r[p]))break;"week"!==p&&(f=p)}return p&&(e=d[p]),e},getXDateFormat:function(a,b,m){b=b.dateTimeLabelFormats;var c=m&&m.closestPointRange;return(c?this.getDateFormat(c,a.x,m.options.startOfWeek,b):b.day)||b.year},tooltipFooterHeaderFormatter:function(a,b){b=b?"footer":"header";var c=a.series,d=c.tooltipOptions,h=d.xDateFormat,k=c.xAxis,e=k&&"datetime"===k.options.type&&q(a.key),p=d[b+"Format"];return e&&!h&&(h=this.getXDateFormat(a,d,k)),e&&h&&B(a.point&&a.point.tooltipDateKeys||["key"],function(a){p=p.replace("{point."+a+"}","{point."+a+":"+h+"}")}),E(p,{point:a,series:c},this.chart.time)},bodyFormatter:function(a){return f(a,function(a){var b=a.series.tooltipOptions;return(b[(a.point.formatPrefix||"point")+"Formatter"]||a.point.tooltipFormatter).call(a.point,b[(a.point.formatPrefix||"point")+"Format"])})}}}(K),function(a){var B=a.addEvent,H=a.attr,E=a.charts,q=a.color,f=a.css,l=a.defined,t=a.each,n=a.extend,v=a.find,u=a.fireEvent,c=a.isNumber,b=a.isObject,m=a.offset,d=a.pick,h=a.splat,k=a.Tooltip;a.Pointer=function(a,b){this.init(a,b)},a.Pointer.prototype={init:function(a,b){this.options=b,this.chart=a,this.runChartClick=b.chart.events&&!!b.chart.events.click,this.pinchDown=[],this.lastValidTouch={},k&&(a.tooltip=new k(a,b.tooltip),this.followTouchMove=d(b.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(a){var c=(b=this.chart).options.chart,e=c.zoomType||"",b=b.inverted;/touch/.test(a.type)&&(e=d(c.pinchType,e)),this.zoomX=a=/x/.test(e),this.zoomY=e=/y/.test(e),this.zoomHor=a&&!b||e&&b,this.zoomVert=e&&!b||a&&b,this.hasZoom=a||e},normalize:function(a,b){var c;return c=a.touches?a.touches.length?a.touches.item(0):a.changedTouches[0]:a,b||(this.chartPosition=b=m(this.chart.container)),n(a,{chartX:Math.round(c.pageX-b.left),chartY:Math.round(c.pageY-b.top)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};return t(this.chart.axes,function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})}),b},findNearestKDPoint:function(a,c,d){var e;return t(a,function(a){var h=!(a.noSharedTooltip&&c)&&a.options.findNearestPointBy.indexOf("y")<0;if(a=a.searchPoint(d,h),(h=b(a,!0))&&!(h=!b(e,!0))){h=e.distX-a.distX;var k=e.dist-a.dist,p=(a.series.group&&a.series.group.zIndex)-(e.series.group&&e.series.group.zIndex);h=0<(0!==h&&c?h:0!==k?k:0!==p?p:e.series.index>a.series.index?-1:1)}h&&(e=a)}),e},getPointFromEvent:function(a){a=a.target;for(var b;a&&!b;)b=a.point,a=a.parentNode;return b},getChartCoordinatesFromPoint:function(a,b){var e=(c=a.series).xAxis,c=c.yAxis,h=d(a.clientX,a.plotX);if(e&&c)return b?{chartX:e.len+e.pos-h,chartY:c.len+c.pos-a.plotY}:{chartX:h+e.pos,chartY:a.plotY+c.pos}},getHoverData:function(c,h,k,f,m,l,n){var e,x=[],p=n&&n.isBoosting;return f=!(!f||!c),n=h&&!h.stickyTracking?[h]:a.grep(k,function(a){return a.visible&&!(!m&&a.directTouch)&&d(a.options.enableMouseTracking,!0)&&a.stickyTracking}),h=(e=f?c:this.findNearestKDPoint(n,m,l))&&e.series,e&&(m&&!h.noSharedTooltip?(n=a.grep(k,function(a){return a.visible&&!(!m&&a.directTouch)&&d(a.options.enableMouseTracking,!0)&&!a.noSharedTooltip}),t(n,function(a){var c=v(a.points,function(a){return a.x===e.x&&!a.isNull});b(c)&&(p&&(c=a.getPoint(c)),x.push(c))})):x.push(e)),{hoverPoint:e,hoverSeries:h,hoverPoints:x}},runPointActions:function(b,c){var m,e=this.chart,h=e.tooltip&&e.tooltip.options.enabled?e.tooltip:void 0,k=!!h&&h.shared,f=(p=c||e.hoverPoint)&&p.series||e.hoverSeries,p=(f=this.getHoverData(p,f,e.series,!!c||f&&f.directTouch&&this.isDirectTouch,k,b,{isBoosting:e.isBoosting})).hoverPoint;if(m=f.hoverPoints,c=(f=f.hoverSeries)&&f.tooltipOptions.followPointer,k=k&&f&&!f.noSharedTooltip,p&&(p!==e.hoverPoint||h&&h.isHidden)){if(t(e.hoverPoints||[],function(b){-1===a.inArray(b,m)&&b.setState()}),t(m||[],function(a){a.setState("hover")}),e.hoverSeries!==f&&f.onMouseOver(),e.hoverPoint&&e.hoverPoint.firePointEvent("mouseOut"),!p.series)return;p.firePointEvent("mouseOver"),e.hoverPoints=m,e.hoverPoint=p,h&&h.refresh(k?m:p,b)}else c&&h&&!h.isHidden&&(p=h.getAnchor([{}],b),h.updatePosition({plotX:p[0],plotY:p[1]}));this.unDocMouseMove||(this.unDocMouseMove=B(e.container.ownerDocument,"mousemove",function(b){var c=E[a.hoverChartIndex];c&&c.pointer.onDocumentMouseMove(b)})),t(e.axes,function(c){var e=d(c.crosshair.snap,!0),h=e?a.find(m,function(a){return a.series[c.coll]===c}):void 0;h||!e?c.drawCrosshair(b,h):c.hideCrosshair()})},reset:function(a,b){var c=this.chart,d=c.hoverSeries,e=c.hoverPoint,k=c.hoverPoints,p=c.tooltip,f=p&&p.shared?k:e;a&&f&&t(h(f),function(b){b.series.isCartesian&&void 0===b.plotX&&(a=!1)}),a?p&&f&&(p.refresh(f),e&&(e.setState(e.state,!0),t(c.axes,function(a){a.crosshair&&a.drawCrosshair(null,e)}))):(e&&e.onMouseOut(),k&&t(k,function(a){a.setState()}),d&&d.onMouseOut(),p&&p.hide(b),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),t(c.axes,function(a){a.hideCrosshair()}),this.hoverX=c.hoverPoints=c.hoverPoint=null)},scaleGroups:function(a,b){var d,c=this.chart;t(c.series,function(e){d=a||e.getPlotBox(),e.xAxis&&e.xAxis.zoomEnabled&&e.group&&(e.group.attr(d),e.markerGroup&&(e.markerGroup.attr(d),e.markerGroup.clip(b?c.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(d))}),c.clipRect.attr(b||c.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type,b.cancelClick=!1,b.mouseDownX=this.mouseDownX=a.chartX,b.mouseDownY=this.mouseDownY=a.chartY},drag:function(a){var l,b=this.chart,c=b.options.chart,d=a.chartX,e=a.chartY,h=this.zoomHor,k=this.zoomVert,f=b.plotLeft,x=b.plotTop,m=b.plotWidth,A=b.plotHeight,n=this.selectionMarker,g=this.mouseDownX,w=this.mouseDownY,t=c.panKey&&a[c.panKey+"Key"];n&&n.touch||(d<f?d=f:f+m<d&&(d=f+m),e<x?e=x:x+A<e&&(e=x+A),this.hasDragged=Math.sqrt(Math.pow(g-d,2)+Math.pow(w-e,2)),10<this.hasDragged&&(l=b.isInsidePlot(g-f,w-x),b.hasCartesianSeries&&(this.zoomX||this.zoomY)&&l&&!t&&!n&&(this.selectionMarker=n=b.renderer.rect(f,x,h?1:m,k?1:A,0).attr({fill:c.selectionMarkerFill||q("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),n&&h&&(d-=g,n.attr({width:Math.abs(d),x:(0<d?0:d)+g})),n&&k&&(d=e-w,n.attr({height:Math.abs(d),y:(0<d?0:d)+w})),l&&!n&&c.panning&&b.pan(a,c.panning)))},drop:function(a){var b=this,d=this.chart,e=this.hasPinched;if(this.selectionMarker){var A,h={originalEvent:a,xAxis:[],yAxis:[]},k=this.selectionMarker,m=k.attr?k.attr("x"):k.x,C=k.attr?k.attr("y"):k.y,x=k.attr?k.attr("width"):k.width,F=k.attr?k.attr("height"):k.height;(this.hasDragged||e)&&(t(d.axes,function(c){if(c.zoomEnabled&&l(c.min)&&(e||b[{xAxis:"zoomX",yAxis:"zoomY"}[c.coll]])){var d=c.horiz,g="touchend"===a.type?c.minPixelPadding:0,k=c.toValue((d?m:C)+g);d=c.toValue((d?m+x:C+F)-g);h[c.coll].push({axis:c,min:Math.min(k,d),max:Math.max(k,d)}),A=!0}}),A&&u(d,"selection",h,function(a){d.zoom(n(a,e?{animation:!1}:null))})),c(d.index)&&(this.selectionMarker=this.selectionMarker.destroy()),e&&this.scaleGroups()}d&&c(d.index)&&(f(d.container,{cursor:d._cursor}),d.cancelClick=10<this.hasDragged,d.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(a){2!==(a=this.normalize(a)).button&&(this.zoomOption(a),a.preventDefault&&a.preventDefault(),this.dragStart(a))},onDocumentMouseUp:function(b){E[a.hoverChartIndex]&&E[a.hoverChartIndex].pointer.drop(b)},onDocumentMouseMove:function(a){var b=this.chart,c=this.chartPosition;a=this.normalize(a,c),!c||this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)||this.reset()},onContainerMouseLeave:function(b){var c=E[a.hoverChartIndex];c&&(b.relatedTarget||b.toElement)&&(c.pointer.reset(),c.pointer.chartPosition=null)},onContainerMouseMove:function(b){var c=this.chart;l(a.hoverChartIndex)&&E[a.hoverChartIndex]&&E[a.hoverChartIndex].mouseIsDown||(a.hoverChartIndex=c.index),(b=this.normalize(b)).returnValue=!1,"mousedown"===c.mouseIsDown&&this.drag(b),!this.inClass(b.target,"highcharts-tracker")&&!c.isInsidePlot(b.chartX-c.plotLeft,b.chartY-c.plotTop)||c.openMenu||this.runPointActions(b)},inClass:function(a,b){for(var c;a;){if(c=H(a,"class")){if(-1!==c.indexOf(b))return!0;if(-1!==c.indexOf("highcharts-container"))return!1}a=a.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries;a=a.relatedTarget||a.toElement,this.isDirectTouch=!1,!b||!a||b.stickyTracking||this.inClass(a,"highcharts-tooltip")||this.inClass(a,"highcharts-series-"+b.index)&&this.inClass(a,"highcharts-tracker")||b.onMouseOut()},onContainerClick:function(a){var b=this.chart,c=b.hoverPoint,d=b.plotLeft,e=b.plotTop;a=this.normalize(a),b.cancelClick||(c&&this.inClass(a.target,"highcharts-tracker")?(u(c.series,"click",n(a,{point:c})),b.hoverPoint&&c.firePointEvent("click",a)):(n(a,this.getCoordinates(a)),b.isInsidePlot(a.chartX-d,a.chartY-e)&&u(b,"click",a)))},setDOMEvents:function(){var b=this,c=b.chart.container,d=c.ownerDocument;c.onmousedown=function(a){b.onContainerMouseDown(a)},c.onmousemove=function(a){b.onContainerMouseMove(a)},c.onclick=function(a){b.onContainerClick(a)},this.unbindContainerMouseLeave=B(c,"mouseleave",b.onContainerMouseLeave),a.unbindDocumentMouseUp||(a.unbindDocumentMouseUp=B(d,"mouseup",b.onDocumentMouseUp)),a.hasTouch&&(c.ontouchstart=function(a){b.onContainerTouchStart(a)},c.ontouchmove=function(a){b.onContainerTouchMove(a)},a.unbindDocumentTouchEnd||(a.unbindDocumentTouchEnd=B(d,"touchend",b.onDocumentTouchEnd)))},destroy:function(){var b=this;b.unDocMouseMove&&b.unDocMouseMove(),this.unbindContainerMouseLeave(),a.chartCount||(a.unbindDocumentMouseUp&&(a.unbindDocumentMouseUp=a.unbindDocumentMouseUp()),a.unbindDocumentTouchEnd&&(a.unbindDocumentTouchEnd=a.unbindDocumentTouchEnd())),clearInterval(b.tooltipTimeout),a.objectEach(b,function(a,c){b[c]=null})}}}(K),function(a){var B=a.charts,H=a.each,E=a.extend,q=a.map,f=a.noop,l=a.pick;E(a.Pointer.prototype,{pinchTranslate:function(a,f,l,q,c,b){this.zoomHor&&this.pinchTranslateDirection(!0,a,f,l,q,c,b),this.zoomVert&&this.pinchTranslateDirection(!1,a,f,l,q,c,b)},pinchTranslateDirection:function(a,f,l,q,c,b,m,d){var z,t,w,h=this.chart,k=a?"x":"y",e=a?"X":"Y",p="chart"+e,r=a?"width":"height",n=h["plot"+(a?"Left":"Top")],D=d||1,C=h.inverted,x=h.bounds[a?"h":"v"],F=1===f.length,A=f[0][p],J=l[0][p],G=!F&&f[1][p],g=!F&&l[1][p];(l=function(){!F&&20<Math.abs(A-G)&&(D=d||Math.abs(J-g)/Math.abs(A-G)),t=(n-J)/D+A,z=h["plot"+(a?"Width":"Height")]/D})(),(f=t)<x.min?(f=x.min,w=!0):f+z>x.max&&(f=x.max-z,w=!0),w?(J-=.8*(J-m[k][0]),F||(g-=.8*(g-m[k][1])),l()):m[k]=[J,g],C||(b[k]=t-n,b[r]=z),b=C?1/D:D,c[r]=z,c[k]=f,q[C?a?"scaleY":"scaleX":"scale"+e]=D,q["translate"+e]=b*n+(J-b*A)},pinch:function(a){var n=this,t=n.chart,u=n.pinchDown,c=a.touches,b=c.length,m=n.lastValidTouch,d=n.hasZoom,h=n.selectionMarker,k={},e=1===b&&(n.inClass(a.target,"highcharts-tracker")&&t.runTrackerClick||n.runChartClick),p={};1<b&&(n.initiated=!0),d&&n.initiated&&!e&&a.preventDefault(),q(c,function(a){return n.normalize(a)}),"touchstart"===a.type?(H(c,function(a,b){u[b]={chartX:a.chartX,chartY:a.chartY}}),m.x=[u[0].chartX,u[1]&&u[1].chartX],m.y=[u[0].chartY,u[1]&&u[1].chartY],H(t.axes,function(a){if(a.zoomEnabled){var b=t.bounds[a.horiz?"h":"v"],c=a.minPixelPadding,d=a.toPixels(l(a.options.min,a.dataMin)),e=a.toPixels(l(a.options.max,a.dataMax)),h=Math.max(d,e);b.min=Math.min(a.pos,Math.min(d,e)-c),b.max=Math.max(a.pos+a.len,h+c)}}),n.res=!0):n.followTouchMove&&1===b?this.runPointActions(n.normalize(a)):u.length&&(h||(n.selectionMarker=h=E({destroy:f,touch:!0},t.plotBox)),n.pinchTranslate(u,c,k,h,p,m),n.hasPinched=d,n.scaleGroups(k,p),n.res&&(n.res=!1,this.reset(!1,0)))},touch:function(f,n){var q,t=this.chart;t.index!==a.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),a.hoverChartIndex=t.index,1===f.touches.length?(f=this.normalize(f),t.isInsidePlot(f.chartX-t.plotLeft,f.chartY-t.plotTop)&&!t.openMenu?(n&&this.runPointActions(f),"touchmove"===f.type&&(q=!!(n=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(n[0].chartX-f.chartX,2)+Math.pow(n[0].chartY-f.chartY,2))),l(q,!0)&&this.pinch(f)):n&&this.reset()):2===f.touches.length&&this.pinch(f)},onContainerTouchStart:function(a){this.zoomOption(a),this.touch(a,!0)},onContainerTouchMove:function(a){this.touch(a)},onDocumentTouchEnd:function(f){B[a.hoverChartIndex]&&B[a.hoverChartIndex].pointer.drop(f)}})}(K),function(a){var B=a.addEvent,H=a.charts,E=a.css,q=a.doc,f=a.extend,l=a.noop,t=a.Pointer,n=a.removeEvent,v=a.win,u=a.wrap;if(!a.hasTouch&&(v.PointerEvent||v.MSPointerEvent)){var c={},b=!!v.PointerEvent,m=function(){var b=[];return b.item=function(a){return this[a]},a.objectEach(c,function(a){b.push({pageX:a.pageX,pageY:a.pageY,target:a.target})}),b},d=function(b,c,d,f){"touch"!==b.pointerType&&b.pointerType!==b.MSPOINTER_TYPE_TOUCH||!H[a.hoverChartIndex]||(f(b),(f=H[a.hoverChartIndex].pointer)[c]({type:d,target:b.currentTarget,preventDefault:l,touches:m()}))};f(t.prototype,{onContainerPointerDown:function(a){d(a,"onContainerTouchStart","touchstart",function(a){c[a.pointerId]={pageX:a.pageX,pageY:a.pageY,target:a.currentTarget}})},onContainerPointerMove:function(a){d(a,"onContainerTouchMove","touchmove",function(a){c[a.pointerId]={pageX:a.pageX,pageY:a.pageY},c[a.pointerId].target||(c[a.pointerId].target=a.currentTarget)})},onDocumentPointerUp:function(a){d(a,"onDocumentTouchEnd","touchend",function(a){delete c[a.pointerId]})},batchMSEvents:function(a){a(this.chart.container,b?"pointerdown":"MSPointerDown",this.onContainerPointerDown),a(this.chart.container,b?"pointermove":"MSPointerMove",this.onContainerPointerMove),a(q,b?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),u(t.prototype,"init",function(a,b,c){a.call(this,b,c),this.hasZoom&&E(b.container,{"-ms-touch-action":"none","touch-action":"none"})}),u(t.prototype,"setDOMEvents",function(a){a.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(B)}),u(t.prototype,"destroy",function(a){this.batchMSEvents(n),a.call(this)})}}(K),function(a){var B=a.addEvent,H=a.css,E=a.discardElement,q=a.defined,f=a.each,l=a.isFirefox,t=a.marginNames,n=a.merge,v=a.pick,u=a.setAnimation,c=a.stableSort,b=a.win,m=a.wrap;a.Legend=function(a,b){this.init(a,b)},a.Legend.prototype={init:function(a,b){this.chart=a,this.setOptions(b),b.enabled&&(this.render(),B(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(a){var b=v(a.padding,8);this.options=a,this.itemStyle=a.itemStyle,this.itemHiddenStyle=n(this.itemStyle,a.itemHiddenStyle),this.itemMarginTop=a.itemMarginTop||0,this.padding=b,this.initialItemY=b-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=v(a.symbolWidth,16),this.pages=[]},update:function(a,b){var c=this.chart;this.setOptions(n(!0,this.options,a)),this.destroy(),c.isDirtyLegend=c.isDirtyBox=!0,v(b,!0)&&c.redraw()},colorizeItem:function(a,b){a.legendGroup[b?"removeClass":"addClass"]("highcharts-legend-item-hidden");var c=this.options,d=a.legendItem,h=a.legendLine,f=a.legendSymbol,m=this.itemHiddenStyle.color,l=(c=b?c.itemStyle.color:m,b&&a.color||m),n=a.options&&a.options.marker,D={fill:l};d&&d.css({fill:c,color:c}),h&&h.attr({stroke:l}),f&&(n&&f.isMarker&&(D=a.pointAttribs(),b||(D.stroke=D.fill=m)),f.attr(D))},positionItem:function(a){var c=(b=this.options).symbolPadding,b=!b.rtl,f=(d=a._legendItemPos)[0],d=d[1],m=a.checkbox;(a=a.legendGroup)&&a.element&&a.translate(b?f:this.legendWidth-f-2*c-4,d),m&&(m.x=f,m.y=d)},destroyItem:function(a){var b=a.checkbox;f(["legendItem","legendLine","legendSymbol","legendGroup"],function(b){a[b]&&(a[b]=a[b].destroy())}),b&&E(a.checkbox)},destroy:function(){function a(a){this[a]&&(this[a]=this[a].destroy())}f(this.getAllItems(),function(b){f(["legendItem","legendGroup"],a,b)}),f("clipRect up down pager nav box title group".split(" "),a,this),this.display=null},positionCheckboxes:function(){var b,a=this.group&&this.group.alignAttr,c=this.clipHeight||this.legendHeight,e=this.titleHeight;a&&(b=a.translateY,f(this.allItems,function(d){var k,h=d.checkbox;h&&(k=b+e+h.y+(this.scrollOffset||0)+3,H(h,{left:a.translateX+d.checkboxOffset+h.x-20+"px",top:k+"px",display:b-6<k&&k<b+c-6?"":"none"}))},this))},renderTitle:function(){var a=this.options,b=this.padding,c=a.title,e=0;c.text&&(this.title||(this.title=this.chart.renderer.label(c.text,b-3,b-4,null,null,null,a.useHTML,null,"legend-title").attr({zIndex:1}).css(c.style).add(this.group)),e=(a=this.title.getBBox()).height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:e})),this.titleHeight=e},setText:function(b){var c=this.options;b.legendItem.attr({text:c.labelFormat?a.format(c.labelFormat,b,this.chart.time):c.labelFormatter.call(b)})},renderItem:function(a){var b=this.chart,c=b.renderer,d=this.options,f="horizontal"===d.layout,m=this.symbolWidth,l=d.symbolPadding,z=this.itemStyle,q=this.itemHiddenStyle,D=this.padding,C=f?v(d.itemDistance,20):0,x=!d.rtl,F=d.width,A=d.itemMarginBottom||0,J=this.itemMarginTop,G=a.legendItem,g=!a.series,w=!g&&a.series.drawLegendSymbol?a.series:a,t=w.options,u=this.createCheckboxForItem&&t&&t.showCheckbox,N=(t=m+l+C+(u?20:0),d.useHTML),O=a.options.className;G||(a.legendGroup=c.g("legend-item").addClass("highcharts-"+w.type+"-series highcharts-color-"+a.colorIndex+(O?" "+O:"")+(g?" highcharts-series-"+a.index:"")).attr({zIndex:1}).add(this.scrollGroup),a.legendItem=G=c.text("",x?m+l:-l,this.baseline||0,N).css(n(a.visible?z:q)).attr({align:x?"left":"right",zIndex:2}).add(a.legendGroup),this.baseline||(m=z.fontSize,this.fontMetrics=c.fontMetrics(m,G),this.baseline=this.fontMetrics.f+3+J,G.attr("y",this.baseline)),this.symbolHeight=d.symbolHeight||this.fontMetrics.f,w.drawLegendSymbol(this,a),this.setItemEvents&&this.setItemEvents(a,G,N),u&&this.createCheckboxForItem(a)),this.colorizeItem(a,a.visible),z.width||G.css({width:(d.itemWidth||d.width||b.spacingBox.width)-t}),this.setText(a),c=G.getBBox(),z=a.checkboxOffset=d.itemWidth||a.legendItemWidth||c.width+t,this.itemHeight=c=Math.round(a.legendItemHeight||c.height||this.symbolHeight),f&&this.itemX-D+z>(F||b.spacingBox.width-2*D-d.x)&&(this.itemX=D,this.itemY+=J+this.lastLineHeight+A,this.lastLineHeight=0),this.maxItemWidth=Math.max(this.maxItemWidth,z),this.lastItemY=J+this.itemY+A,this.lastLineHeight=Math.max(c,this.lastLineHeight),a._legendItemPos=[this.itemX,this.itemY],f?this.itemX+=z:(this.itemY+=J+c+A,this.lastLineHeight=c),this.offsetWidth=F||Math.max((f?this.itemX-D-(a.checkbox?0:C):z)+D,this.offsetWidth)},getAllItems:function(){var a=[];return f(this.chart.series,function(b){var c=b&&b.options;b&&v(c.showInLegend,!q(c.linkedTo)&&void 0,!0)&&(a=a.concat(b.legendItems||("point"===c.legendType?b.data:b)))}),a},getAlignment:function(){var a=this.options;return a.floating?"":a.align.charAt(0)+a.verticalAlign.charAt(0)+a.layout.charAt(0)},adjustMargins:function(a,b){var c=this.chart,d=this.options,h=this.getAlignment();h&&f([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(e,k){e.test(h)&&!q(a[k])&&(c[t[k]]=Math.max(c[t[k]],c.legend[(k+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][k]*d[k%2?"x":"y"]+v(d.margin,12)+b[k]+(0===k?c.titleOffset+c.options.title.margin:0)))})},render:function(){var m,l,t,z,a=this,b=a.chart,k=b.renderer,e=a.group,q=a.box,D=a.options,C=a.padding;a.itemX=C,a.itemY=a.initialItemY,a.offsetWidth=0,a.lastItemY=0,e||(a.group=e=k.g("legend").attr({zIndex:7}).add(),a.contentGroup=k.g().attr({zIndex:1}).add(e),a.scrollGroup=k.g().add(a.contentGroup)),a.renderTitle(),m=a.getAllItems(),c(m,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)}),D.reversed&&m.reverse(),a.allItems=m,a.display=l=!!m.length,a.lastLineHeight=0,f(m,function(b){a.renderItem(b)}),t=(D.width||a.offsetWidth)+C,z=a.lastItemY+a.lastLineHeight+a.titleHeight,z=a.handleOverflow(z),z+=C,q||(a.box=q=k.rect().addClass("highcharts-legend-box").attr({r:D.borderRadius}).add(e),q.isNew=!0),q.attr({stroke:D.borderColor,"stroke-width":D.borderWidth||0,fill:D.backgroundColor||"none"}).shadow(D.shadow),0<t&&0<z&&(q[q.isNew?"attr":"animate"](q.crisp.call({},{x:0,y:0,width:t,height:z},q.strokeWidth())),q.isNew=!1),q[l?"show":"hide"](),a.legendWidth=t,a.legendHeight=z,f(m,function(b){a.positionItem(b)}),l&&(k=b.spacingBox,/(lth|ct|rth)/.test(a.getAlignment())&&(k=n(k,{y:k.y+b.titleOffset+b.options.title.margin})),e.align(n(D,{width:t,height:z}),!0,k)),b.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var z,J,b=this,d=(c=this.chart).renderer,m=this.options,l=m.y,n=this.padding,c=c.spacingBox.height+("top"===m.verticalAlign?-l:l)-n,q=(l=m.maxHeight,this.clipRect),D=m.navigation,t=v(D.animation,!0),x=D.arrowSize||12,F=this.nav,A=this.pages,G=this.allItems,g=function(a){"number"==typeof a?q.attr({height:a}):q&&(b.clipRect=q.destroy(),b.contentGroup.clip()),b.contentGroup.div&&(b.contentGroup.div.style.clip=a?"rect("+n+"px,9999px,"+(n+a)+"px,0)":"auto")};return"horizontal"!==m.layout||"middle"===m.verticalAlign||m.floating||(c/=2),l&&(c=Math.min(c,l)),A.length=0,c<a&&!1!==D.enabled?(this.clipHeight=z=Math.max(c-20-this.titleHeight-n,0),this.currentPage=v(this.currentPage,1),this.fullHeight=a,f(G,function(a,b){var c=a._legendItemPos[1],d=Math.round(a.legendItem.getBBox().height),g=A.length;(!g||c-A[g-1]>z&&(J||c)!==A[g-1])&&(A.push(J||c),g++),a.pageIx=g-1,J&&(G[b-1].pageIx=g-1),b===G.length-1&&c+d-A[g-1]>z&&(A.push(c),a.pageIx=g),c!==J&&(J=c)}),q||(q=b.clipRect=d.clipRect(0,n,9999,0),b.contentGroup.clip(q)),g(z),F||(this.nav=F=d.g().attr({zIndex:1}).add(this.group),this.up=d.symbol("triangle",0,0,x,x).on("click",function(){b.scroll(-1,t)}).add(F),this.pager=d.text("",15,10).addClass("highcharts-legend-navigation").css(D.style).add(F),this.down=d.symbol("triangle-down",0,0,x,x).on("click",function(){b.scroll(1,t)}).add(F)),b.scroll(0),a=c):F&&(g(),this.nav=F.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),a},scroll:function(a,b){var c=this.pages,d=c.length;a=this.currentPage+a;var h=this.clipHeight,f=this.options.navigation,m=this.pager,l=this.padding;d<a&&(a=d),0<a&&(void 0!==b&&u(b,this.chart),this.nav.attr({translateX:l,translateY:h+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),m.attr({text:a+"/"+d}),this.down.attr({x:18+this.pager.getBBox().width,class:a===d?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===a?f.inactiveColor:f.activeColor}).css({cursor:1===a?"default":"pointer"}),this.down.attr({fill:a===d?f.inactiveColor:f.activeColor}).css({cursor:a===d?"default":"pointer"}),this.scrollOffset=-c[a-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=a,this.positionCheckboxes())}},a.LegendSymbolMixin={drawRectangle:function(a,b){var c=a.symbolHeight,d=a.options.squareSymbol;b.legendSymbol=this.chart.renderer.rect(d?(a.symbolWidth-c)/2:0,a.baseline-c+1,d?c:a.symbolWidth,c,v(a.options.symbolRadius,c/2)).addClass("highcharts-point").attr({zIndex:3}).add(b.legendGroup)},drawLineMarker:function(a){var q,b=this.options,c=b.marker,d=a.symbolWidth,f=a.symbolHeight,m=f/2,l=this.chart.renderer,z=this.legendGroup;a=a.baseline-Math.round(.3*a.fontMetrics.b),q={"stroke-width":b.lineWidth||0},b.dashStyle&&(q.dashstyle=b.dashStyle),this.legendLine=l.path(["M",0,a,"L",d,a]).addClass("highcharts-graph").attr(q).add(z),c&&!1!==c.enabled&&(b=Math.min(v(c.radius,m),m),0===this.symbol.indexOf("url")&&(c=n(c,{width:f,height:f}),b=0),this.legendSymbol=c=l.symbol(this.symbol,d/2-b,a-b,2*b,2*b,c).addClass("highcharts-point").add(z),c.isMarker=!0)}},(/Trident\/7\.0/.test(b.navigator.userAgent)||l)&&m(a.Legend.prototype,"positionItem",function(a,b){var c=this,d=function(){b._legendItemPos&&a.call(c,b)};d(),setTimeout(d)})}(K),function(a){var B=a.addEvent,H=a.animate,E=a.animObject,q=a.attr,f=a.doc,l=a.Axis,t=a.createElement,n=a.defaultOptions,v=a.discardElement,u=a.charts,c=a.css,b=a.defined,m=a.each,d=a.extend,h=a.find,k=a.fireEvent,e=a.grep,p=a.isNumber,r=a.isObject,I=a.isString,z=a.Legend,M=a.marginNames,D=a.merge,C=a.objectEach,x=a.Pointer,F=a.pick,A=a.pInt,J=a.removeEvent,G=a.seriesTypes,g=a.splat,w=a.syncTimeout,L=a.win,P=a.Chart=function(){this.getArgs.apply(this,arguments)};a.chart=function(a,b,c){return new P(a,b,c)},d(P.prototype,{callbacks:[],getArgs:function(){var a=[].slice.call(arguments);(I(a[0])||a[0].nodeName)&&(this.renderTo=a.shift()),this.init(a[0],a[1])},init:function(b,c){var g,d,e=b.series,h=b.plotOptions||{};for(d in b.series=null,(g=D(n,b)).plotOptions)g.plotOptions[d].tooltip=h[d]&&D(h[d].tooltip)||void 0;g.tooltip.userOptions=b.chart&&b.chart.forExport&&b.tooltip.userOptions||b.tooltip,g.series=b.series=e,this.userOptions=b,e=(d=g.chart).events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=c,this.isResizing=0,this.options=g,this.axes=[],this.series=[],this.time=b.time&&a.keys(b.time).length?new a.Time(b.time):a.time,this.hasCartesianSeries=d.showAxes;var k=this;k.index=u.length,u.push(k),a.chartCount++,e&&C(e,function(a,b){B(k,b,a)}),k.xAxis=[],k.yAxis=[],k.pointCount=k.colorCounter=k.symbolCounter=0,k.firstRender()},initSeries:function(b){var c=this.options.chart;return(c=G[b.type||c.type||c.defaultSeriesType])||a.error(17,!0),(c=new c).init(this,b),c},orderSeries:function(a){var b=this.series;for(a=a||0;a<b.length;a++)b[a]&&(b[a].index=a,b[a].name=b[a].getName())},isInsidePlot:function(a,b,c){var g=c?b:a;return a=c?a:b,0<=g&&g<=this.plotWidth&&0<=a&&a<=this.plotHeight},redraw:function(b){var x,l,F,c=this.axes,g=this.series,e=this.pointer,h=this.legend,f=this.isDirtyLegend,p=this.hasCartesianSeries,A=this.isDirtyBox,n=this.renderer,w=n.isHidden(),r=[];for(this.setResponsive&&this.setResponsive(!1),a.setAnimation(b,this),w&&this.temporaryDisplay(),this.layOutTitles(),b=g.length;b--;)if((F=g[b]).options.stacking&&(x=!0,F.isDirty)){l=!0;break}if(l)for(b=g.length;b--;)(F=g[b]).options.stacking&&(F.isDirty=!0);m(g,function(a){a.isDirty&&"point"===a.options.legendType&&(a.updateTotals&&a.updateTotals(),f=!0),a.isDirtyData&&k(a,"updatedData")}),f&&h.options.enabled&&(h.render(),this.isDirtyLegend=!1),x&&this.getStacks(),p&&m(c,function(a){a.updateNames(),a.setScale()}),this.getMargins(),p&&(m(c,function(a){a.isDirty&&(A=!0)}),m(c,function(a){var b=a.min+","+a.max;a.extKey!==b&&(a.extKey=b,r.push(function(){k(a,"afterSetExtremes",d(a.eventArgs,a.getExtremes())),delete a.eventArgs})),(A||x)&&a.redraw()})),A&&this.drawChartBox(),k(this,"predraw"),m(g,function(a){(A||a.isDirty)&&a.visible&&a.redraw(),a.isDirtyData=!1}),e&&e.reset(!0),n.draw(),k(this,"redraw"),k(this,"render"),w&&this.temporaryDisplay(!0),m(r,function(a){a.call()})},get:function(a){function b(b){return b.id===a||b.options&&b.options.id===a}var c,d,g=this.series;for(c=h(this.axes,b)||h(this.series,b),d=0;!c&&d<g.length;d++)c=h(g[d].points||[],b);return c},getAxes:function(){var a=this,c=(b=this.options).xAxis=g(b.xAxis||{}),b=b.yAxis=g(b.yAxis||{});k(this,"beforeGetAxes"),m(c,function(a,b){a.index=b,a.isX=!0}),m(b,function(a,b){a.index=b}),c=c.concat(b),m(c,function(b){new l(a,b)})},getSelectedPoints:function(){var a=[];return m(this.series,function(b){a=a.concat(e(b.data||[],function(a){return a.selected}))}),a},getSelectedSeries:function(){return e(this.series,function(a){return a.selected})},setTitle:function(a,b,c){var e,g=this,d=g.options;e=d.title=D({style:{color:"#333333",fontSize:d.isStock?"16px":"18px"}},d.title,a),d=d.subtitle=D({style:{color:"#666666"}},d.subtitle,b),m([["title",a,e],["subtitle",b,d]],function(a,b){var c=a[0],d=g[c],e=a[1];a=a[2],d&&e&&(g[c]=d=d.destroy()),a&&!d&&(g[c]=g.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,class:"highcharts-"+c,zIndex:a.zIndex||4}).add(),g[c].update=function(a){g.setTitle(!b&&a,b&&a)},g[c].css(a.style))}),g.layOutTitles(c)},layOutTitles:function(a){var c,b=0,g=this.renderer,e=this.spacingBox;m(["title","subtitle"],function(a){var k,c=this[a],h=this.options[a];a="title"===a?-3:h.verticalAlign?0:b+2,c&&(k=h.style.fontSize,k=g.fontMetrics(k,c).b,c.css({width:(h.width||e.width+h.widthAdjust)+"px"}).align(d({y:a+k},h),!1,"spacingBox"),h.floating||h.verticalAlign||(b=Math.ceil(b+c.getBBox(h.useHTML).height)))},this),c=this.titleOffset!==b,this.titleOffset=b,!this.isDirtyBox&&c&&(this.isDirtyBox=c,this.hasRendered&&F(a,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var g=(c=this.options.chart).width,c=c.height,d=this.renderTo;b(g)||(this.containerWidth=a.getStyle(d,"width")),b(c)||(this.containerHeight=a.getStyle(d,"height")),this.chartWidth=Math.max(0,g||this.containerWidth||600),this.chartHeight=Math.max(0,a.relativeLength(c,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(b){var c=this.renderTo;if(b)for(;c&&c.style;)c.hcOrigStyle&&(a.css(c,c.hcOrigStyle),delete c.hcOrigStyle),c.hcOrigDetached&&(f.body.removeChild(c),c.hcOrigDetached=!1),c=c.parentNode;else for(;c&&c.style&&(f.body.contains(c)||c.parentNode||(c.hcOrigDetached=!0,f.body.appendChild(c)),("none"===a.getStyle(c,"display",!1)||c.hcOricDetached)&&(c.hcOrigStyle={display:c.style.display,height:c.style.height,overflow:c.style.overflow},b={display:"block",overflow:"hidden"},c!==this.renderTo&&(b.height=0),a.css(c,b),c.offsetWidth||c.style.setProperty("display","block","important")),(c=c.parentNode)!==f.body););},setClassName:function(a){this.container.className="highcharts-container "+(a||"")},getContainer:function(){var b,e,h,c=this.options,g=c.chart;b=this.renderTo;var x,k=a.uniqueKey();b||(this.renderTo=b=g.renderTo),I(b)&&(this.renderTo=b=f.getElementById(b)),b||a.error(13,!0),e=A(q(b,"data-highcharts-chart")),p(e)&&u[e]&&u[e].hasRendered&&u[e].destroy(),q(b,"data-highcharts-chart",this.index),b.innerHTML="",g.skipClone||b.offsetWidth||this.temporaryDisplay(),this.getChartSize(),e=this.chartWidth,h=this.chartHeight,x=d({position:"relative",overflow:"hidden",width:e+"px",height:h+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},g.style),this.container=b=t("div",{id:k},x,b),this._cursor=b.style.cursor,this.renderer=new(a[g.renderer]||a.Renderer)(b,e,h,null,g.forExport,c.exporting&&c.exporting.allowHTML),this.setClassName(g.className),this.renderer.setStyle(g.style),this.renderer.chartIndex=this.index},getMargins:function(a){var c=this.spacing,g=this.margin,d=this.titleOffset;this.resetMargins(),d&&!b(g[0])&&(this.plotTop=Math.max(this.plotTop,d+this.options.title.margin+c[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(g,c),this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||0)+this.extraMargin.value),this.adjustPlotArea&&this.adjustPlotArea(),a||this.getAxisMargins()},getAxisMargins:function(){var a=this,c=a.axisOffset=[0,0,0,0],g=a.margin;a.hasCartesianSeries&&m(a.axes,function(a){a.visible&&a.getOffset()}),m(M,function(d,e){b(g[e])||(a[d]+=c[e])}),a.setChartSize()},reflow:function(c){var g=this,d=g.options.chart,e=g.renderTo,h=b(d.width)&&b(d.height),k=d.width||a.getStyle(e,"width");d=d.height||a.getStyle(e,"height"),e=c?c.target:L;h||g.isPrinting||!k||!d||e!==L&&e!==f||(k===g.containerWidth&&d===g.containerHeight||(clearTimeout(g.reflowTimeout),g.reflowTimeout=w(function(){g.container&&g.setSize(void 0,void 0,!1)},c?100:0)),g.containerWidth=k,g.containerHeight=d)},initReflow:function(){var b,a=this;b=B(L,"resize",function(b){a.reflow(b)}),B(a,"destroy",b)},setSize:function(b,g,d){var e=this,h=e.renderer;e.isResizing+=1,a.setAnimation(d,e),e.oldChartHeight=e.chartHeight,e.oldChartWidth=e.chartWidth,void 0!==b&&(e.options.chart.width=b),void 0!==g&&(e.options.chart.height=g),e.getChartSize(),((b=h.globalAnimation)?H:c)(e.container,{width:e.chartWidth+"px",height:e.chartHeight+"px"},b),e.setChartSize(!0),h.setSize(e.chartWidth,e.chartHeight,d),m(e.axes,function(a){a.isDirty=!0,a.setScale()}),e.isDirtyLegend=!0,e.isDirtyBox=!0,e.layOutTitles(),e.getMargins(),e.redraw(d),e.oldChartHeight=null,k(e,"resize"),w(function(){e&&k(e,"endResize",null,function(){--e.isResizing})},E(b).duration)},setChartSize:function(a){var f,x,l,p,b=this.inverted,c=this.renderer,g=this.chartWidth,d=this.chartHeight,e=this.options.chart,h=this.spacing,k=this.clipOffset;this.plotLeft=f=Math.round(this.plotLeft),this.plotTop=x=Math.round(this.plotTop),this.plotWidth=l=Math.max(0,Math.round(g-f-this.marginRight)),this.plotHeight=p=Math.max(0,Math.round(d-x-this.marginBottom)),this.plotSizeX=b?p:l,this.plotSizeY=b?l:p,this.plotBorderWidth=e.plotBorderWidth||0,this.spacingBox=c.spacingBox={x:h[3],y:h[0],width:g-h[3]-h[1],height:d-h[0]-h[2]},this.plotBox=c.plotBox={x:f,y:x,width:l,height:p},g=2*Math.floor(this.plotBorderWidth/2),b=Math.ceil(Math.max(g,k[3])/2),c=Math.ceil(Math.max(g,k[0])/2),this.clipBox={x:b,y:c,width:Math.floor(this.plotSizeX-Math.max(g,k[1])/2-b),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(g,k[2])/2-c))},a||m(this.axes,function(a){a.setAxisSize(),a.setAxisTranslation()})},resetMargins:function(){var a=this,b=a.options.chart;m(["margin","spacing"],function(c){var g=b[c],d=r(g)?g:[g,g,g,g];m(["Top","Right","Bottom","Left"],function(g,e){a[c][e]=F(b[c+g],d[e])})}),m(M,function(b,c){a[b]=F(a.margin[c],a.spacing[c])}),a.axisOffset=[0,0,0,0],a.clipOffset=[0,0,0,0]},drawChartBox:function(){var f,A,a=this.options.chart,b=this.renderer,c=this.chartWidth,g=this.chartHeight,d=this.chartBackground,e=this.plotBackground,h=this.plotBorder,x=this.plotBGImage,m=a.backgroundColor,l=a.plotBackgroundColor,p=a.plotBackgroundImage,F=this.plotLeft,n=this.plotTop,w=this.plotWidth,r=this.plotHeight,z=this.plotBox,G=this.clipRect,J=this.clipBox,q="animate";d||(this.chartBackground=d=b.rect().addClass("highcharts-background").add(),q="attr"),A=(f=a.borderWidth||0)+(a.shadow?8:0),m={fill:m||"none"},(f||d["stroke-width"])&&(m.stroke=a.borderColor,m["stroke-width"]=f),d.attr(m).shadow(a.shadow),d[q]({x:A/2,y:A/2,width:c-A-f%2,height:g-A-f%2,r:a.borderRadius}),q="animate",e||(q="attr",this.plotBackground=e=b.rect().addClass("highcharts-plot-background").add()),e[q](z),e.attr({fill:l||"none"}).shadow(a.plotShadow),p&&(x?x.animate(z):this.plotBGImage=b.image(p,F,n,w,r).add()),G?G.animate({width:J.width,height:J.height}):this.clipRect=b.clipRect(J),q="animate",h||(q="attr",this.plotBorder=h=b.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),h.attr({stroke:a.plotBorderColor,"stroke-width":a.plotBorderWidth||0,fill:"none"}),h[q](h.crisp({x:F,y:n,width:w,height:r},-h.strokeWidth())),this.isDirtyBox=!1,k(this,"afterDrawChartBox")},propFromSeries:function(){var c,d,e,a=this,b=a.options.chart,g=a.options.series;m(["inverted","angular","polar"],function(h){for(c=G[b.type||b.defaultSeriesType],e=b[h]||c&&c.prototype[h],d=g&&g.length;!e&&d--;)(c=G[g[d].type])&&c.prototype[h]&&(e=!0);a[h]=e})},linkSeries:function(){var a=this,b=a.series;m(b,function(a){a.linkedSeries.length=0}),m(b,function(b){var c=b.options.linkedTo;I(c)&&(c=":previous"===c?a.series[b.index-1]:a.get(c))&&c.linkedParent!==b&&(c.linkedSeries.push(b),b.linkedParent=c,b.visible=F(b.options.visible,c.options.visible,b.visible))})},renderSeries:function(){m(this.series,function(a){a.translate(),a.render()})},renderLabels:function(){var a=this,b=a.options.labels;b.items&&m(b.items,function(c){var g=d(b.style,c.style),e=A(g.left)+a.plotLeft,h=A(g.top)+a.plotTop+12;delete g.left,delete g.top,a.renderer.text(c.html,e,h).attr({zIndex:2}).css(g).add()})},render:function(){var g,d,e,a=this.axes,b=this.renderer,c=this.options;this.setTitle(),this.legend=new z(this,c.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),c=this.plotWidth,g=this.plotHeight=Math.max(this.plotHeight-21,0),m(a,function(a){a.setScale()}),this.getAxisMargins(),d=1.1<c/this.plotWidth,e=1.05<g/this.plotHeight,(d||e)&&(m(a,function(a){(a.horiz&&d||!a.horiz&&e)&&a.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&m(a,function(a){a.visible&&a.render()}),this.seriesGroup||(this.seriesGroup=b.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(a){var b=this;(a=D(!0,this.options.credits,a)).enabled&&!this.credits&&(this.credits=this.renderer.text(a.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){a.href&&(L.location.href=a.href)}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position),this.credits.update=function(a){b.credits=b.credits.destroy(),b.addCredits(a)})},destroy:function(){var e,b=this,c=b.axes,g=b.series,d=b.container,h=d&&d.parentNode;for(k(b,"destroy"),b.renderer.forExport?a.erase(u,b):u[b.index]=void 0,a.chartCount--,b.renderTo.removeAttribute("data-highcharts-chart"),J(b),e=c.length;e--;)c[e]=c[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=g.length;e--;)g[e]=g[e].destroy();m("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(a){var c=b[a];c&&c.destroy&&(b[a]=c.destroy())}),d&&(d.innerHTML="",J(d),h&&v(d)),C(b,function(a,c){delete b[c]})},firstRender:function(){var a=this,b=a.options;a.isReadyToRender&&!a.isReadyToRender()||(a.getContainer(),k(a,"init"),a.resetMargins(),a.setChartSize(),a.propFromSeries(),a.getAxes(),m(b.series||[],function(b){a.initSeries(b)}),a.linkSeries(),k(a,"beforeRender"),x&&(a.pointer=new x(a,b)),a.render(),!a.renderer.imgCount&&a.onload&&a.onload(),a.temporaryDisplay(!0))},onload:function(){m([this.callback].concat(this.callbacks),function(a){a&&void 0!==this.index&&a.apply(this,[this])},this),k(this,"load"),k(this,"render"),b(this.index)&&!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}})}(K),function(a){var B,H=a.each,E=a.extend,q=a.erase,f=a.fireEvent,l=a.format,t=a.isArray,n=a.isNumber,v=a.pick,u=a.removeEvent;a.Point=B=function(){},a.Point.prototype={init:function(a,b,m){return this.series=a,this.color=a.color,this.applyOptions(b,m),a.options.colorByPoint?(b=a.options.colors||a.chart.options.colors,this.color=this.color||b[a.colorCounter],b=b.length,m=a.colorCounter,a.colorCounter++,a.colorCounter===b&&(a.colorCounter=0)):m=a.colorIndex,this.colorIndex=v(this.colorIndex,m),a.chart.pointCount++,f(this,"afterInit"),this},applyOptions:function(a,b){var c=this.series,d=c.options.pointValKey||c.pointValKey;return a=B.prototype.optionsToObject.call(this,a),E(this,a),this.options=this.options?E(this.options,a):a,a.group&&delete this.group,d&&(this.y=this[d]),this.isNull=v(this.isValid&&!this.isValid(),null===this.x||!n(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===b&&c.xAxis&&c.xAxis.hasNames&&(this.x=c.xAxis.nameToX(this)),void 0===this.x&&c&&(this.x=void 0===b?c.autoIncrement(this):b),this},optionsToObject:function(a){var b={},c=this.series,d=c.options.keys,h=d||c.pointArrayMap||["y"],k=h.length,e=0,f=0;if(n(a)||null===a)b[h[0]]=a;else if(t(a))for(!d&&a.length>k&&("string"===(c=typeof a[0])?b.name=a[0]:"number"===c&&(b.x=a[0]),e++);f<k;)d&&void 0===a[e]||(b[h[f]]=a[e]),e++,f++;else"object"==typeof a&&((b=a).dataLabels&&(c._hasPointLabels=!0),a.marker&&(c._hasPointMarkers=!0));return b},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var d,b=(a=this.series).zones,a=a.zoneAxis||"y",f=0;for(d=b[f];this[a]>=d.value;)d=b[++f];return d&&d.color&&!this.options.color&&(this.color=d.color),d},destroy:function(){var f,a=this.series.chart,b=a.hoverPoints;for(f in a.pointCount--,b&&(this.setState(),q(b,this),b.length||(a.hoverPoints=null)),this===a.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(u(this),this.destroyElements()),this.legendItem&&a.legend.destroyItem(this),this)this[f]=null},destroyElements:function(){for(var b,a=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],f=6;f--;)this[b=a[f]]&&(this[b]=this[b].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(a){var b=this.series,c=b.tooltipOptions,d=v(c.valueDecimals,""),h=c.valuePrefix||"",k=c.valueSuffix||"";return H(b.pointArrayMap||["y"],function(b){b="{point."+b,(h||k)&&(a=a.replace(b+"}",h+b+"}"+k)),a=a.replace(b+"}",b+":,."+d+"f}")}),l(a,{point:this,series:this.series},b.chart.time)},firePointEvent:function(a,b,m){var c=this,h=this.series.options;(h.point.events[a]||c.options&&c.options.events&&c.options.events[a])&&this.importEvents(),"click"===a&&h.allowPointSelect&&(m=function(a){c.select&&c.select(null,a.ctrlKey||a.metaKey||a.shiftKey)}),f(this,a,b,m)},visible:!0}}(K),function(a){var B=a.addEvent,H=a.animObject,E=a.arrayMax,q=a.arrayMin,f=a.correctFloat,l=a.defaultOptions,t=a.defaultPlotOptions,n=a.defined,v=a.each,u=a.erase,c=a.extend,b=a.fireEvent,m=a.grep,d=a.isArray,h=a.isNumber,k=a.isString,e=a.merge,p=a.objectEach,r=a.pick,I=a.removeEvent,z=a.splat,M=a.SVGElement,D=a.syncTimeout,C=a.win;a.Series=a.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":a.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:a.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(a,b){var e,g,d=this,h=a.series;d.chart=a,d.options=b=d.setOptions(b),d.linkedSeries=[],d.bindAxes(),c(d,{name:b.name,state:"",visible:!1!==b.visible,selected:!0===b.selected}),e=b.events,p(e,function(a,b){B(d,b,a)}),(e&&e.click||b.point&&b.point.events&&b.point.events.click||b.allowPointSelect)&&(a.runTrackerClick=!0),d.getColor(),d.getSymbol(),v(d.parallelArrays,function(a){d[a+"Data"]=[]}),d.setData(b.data,!1),d.isCartesian&&(a.hasCartesianSeries=!0),h.length&&(g=h[h.length-1]),d._i=r(g&&g._i,-1)+1,a.orderSeries(this.insert(h))},insert:function(a){var c,b=this.options.index;if(h(b)){for(c=a.length;c--;)if(b>=r(a[c].options.index,a[c]._i)){a.splice(c+1,0,this);break}-1===c&&a.unshift(this),c+=1}else a.push(this);return r(c,a.length-1)},bindAxes:function(){var e,b=this,c=b.options,d=b.chart;v(b.axisTypes||[],function(h){v(d[h],function(a){e=a.options,(c[h]===e.index||void 0!==c[h]&&c[h]===e.id||void 0===c[h]&&0===e.index)&&(b.insert(a.series),(b[h]=a).isDirty=!0)}),b[h]||b.optionalAxis===h||a.error(18,!0)})},updateParallelArrays:function(a,b){var c=a.series,d=arguments,e=h(b)?function(g){var d="y"===g&&c.toYData?c.toYData(a):a[g];c[g+"Data"][b]=d}:function(a){Array.prototype[b].apply(c[a+"Data"],Array.prototype.slice.call(d,2))};v(c.parallelArrays,e)},autoIncrement:function(){var c,a=this.options,b=this.xIncrement,d=a.pointIntervalUnit,e=this.chart.time;b=r(b,a.pointStart,0);return this.pointInterval=c=r(this.pointInterval,a.pointInterval,1),d&&(a=new e.Date(b),"day"===d?e.set("Date",a,e.get("Date",a)+c):"month"===d?e.set("Month",a,e.get("Month",a)+c):"year"===d&&e.set("FullYear",a,e.get("FullYear",a)+c),c=a.getTime()-b),this.xIncrement=b+c,b},setOptions:function(a){var b=this.chart,c=b.options,d=c.plotOptions,h=(b.userOptions||{}).plotOptions||{},g=d[this.type];return this.userOptions=a,b=e(g,d.series,a),this.tooltipOptions=e(l.tooltip,l.plotOptions.series&&l.plotOptions.series.tooltip,l.plotOptions[this.type].tooltip,c.tooltip.userOptions,d.series&&d.series.tooltip,d[this.type].tooltip,a.tooltip),this.stickyTracking=r(a.stickyTracking,h[this.type]&&h[this.type].stickyTracking,h.series&&h.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||b.stickyTracking),null===g.marker&&delete b.marker,this.zoneAxis=b.zoneAxis,a=this.zones=(b.zones||[]).slice(),!b.negativeColor&&!b.negativeFillColor||b.zones||a.push({value:b[this.zoneAxis+"Threshold"]||b.threshold||0,className:"highcharts-negative",color:b.negativeColor,fillColor:b.negativeFillColor}),a.length&&n(a[a.length-1].value)&&a.push({color:this.color,fillColor:this.fillColor}),b},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(a,b,c){var d,e=this.chart,g=this.userOptions,h=a+"Index",k=a+"Counter",f=c?c.length:r(e.options.chart[a+"Count"],e[a+"Count"]);b||(d=r(g[h],g["_"+h]),n(d)||(e.series.length||(e[k]=0),g["_"+h]=d=e[k]%f,e[k]+=1),c&&(b=c[d])),void 0!==d&&(this[h]=d),this[a]=b},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||t[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:a.LegendSymbolMixin.drawLineMarker,setData:function(b,c,e,f){var x,m=this,g=m.points,l=g&&g.length||0,p=m.options,F=m.chart,n=null,A=m.xAxis,z=p.turboThreshold,q=this.xData,D=this.yData,t=(x=m.pointArrayMap)&&x.length;if(x=(b=b||[]).length,c=r(c,!0),!1!==f&&x&&l===x&&!m.cropped&&!m.hasGroupedData&&m.visible)v(b,function(a,b){g[b].update&&a!==p.data[b]&&g[b].update(a,!1,null,!1)});else{if(m.xIncrement=null,m.colorCounter=0,v(this.parallelArrays,function(a){m[a+"Data"].length=0}),z&&z<x){for(e=0;null===n&&e<x;)n=b[e],e++;if(h(n))for(e=0;e<x;e++)q[e]=this.autoIncrement(),D[e]=b[e];else if(d(n))if(t)for(e=0;e<x;e++)n=b[e],q[e]=n[0],D[e]=n.slice(1,t+1);else for(e=0;e<x;e++)n=b[e],q[e]=n[0],D[e]=n[1];else a.error(12)}else for(e=0;e<x;e++)void 0!==b[e]&&(n={series:m},m.pointClass.prototype.applyOptions.apply(n,[b[e]]),m.updateParallelArrays(n,e));for(D&&k(D[0])&&a.error(14,!0),m.data=[],m.options.data=m.userOptions.data=b,e=l;e--;)g[e]&&g[e].destroy&&g[e].destroy();A&&(A.minRange=A.userMinRange),m.isDirty=F.isDirtyBox=!0,m.isDirtyData=!!g,e=!1}"point"===p.legendType&&(this.processData(),this.generatePoints()),c&&F.redraw(e)},processData:function(b){var h,c=this.xData,d=this.yData,e=c.length;h=0;var g,k,m,f=this.xAxis;m=(l=this.options).cropThreshold;var z,q,x=this.getExtremesFromAll||l.getExtremesFromAll,p=this.isCartesian,l=f&&f.val2lin,n=f&&f.isLog,r=this.requireSorting;if(p&&!this.isDirty&&!f.isDirty&&!this.yAxis.isDirty&&!b)return!1;for(f&&(z=(b=f.getExtremes()).min,q=b.max),p&&this.sorted&&!x&&(!m||m<e||this.forceCrop)&&(c[e-1]<z||c[0]>q?(c=[],d=[]):(c[0]<z||c[e-1]>q)&&(c=(h=this.cropData(this.xData,this.yData,z,q)).xData,d=h.yData,h=h.start,g=!0)),m=c.length||1;--m;)0<(e=n?l(c[m])-l(c[m-1]):c[m]-c[m-1])&&(void 0===k||e<k)?k=e:e<0&&r&&(a.error(15),r=!1);this.cropped=g,this.cropStart=h,this.processedXData=c,this.processedYData=d,this.closestPointRange=k},cropData:function(a,b,c,d){var f,e=a.length,g=0,h=e,k=r(this.cropShoulder,1);for(f=0;f<e;f++)if(a[f]>=c){g=Math.max(0,f-k);break}for(c=f;c<e;c++)if(a[c]>d){h=c+k;break}return{xData:a.slice(g,h),yData:b.slice(g,h),start:g,end:h}},generatePoints:function(){var d,m,p,r,b=(a=this.options).data,c=this.data,e=this.processedXData,g=this.processedYData,h=this.pointClass,k=e.length,f=this.cropStart||0,l=this.hasGroupedData,a=a.keys,n=[];for(c||l||((c=[]).length=b.length,c=this.data=c),a&&l&&(this.options.keys=!1),r=0;r<k;r++)m=f+r,l?(p=(new h).init(this,[e[r]].concat(z(g[r])))).dataGroup=this.groupMap[r]:(p=c[m])||void 0===b[m]||(c[m]=p=(new h).init(this,b[m],e[r])),p&&(p.index=m,n[r]=p);if(this.options.keys=a,c&&(k!==(d=c.length)||l))for(r=0;r<d;r++)r!==f||l||(r+=k),c[r]&&(c[r].destroyElements(),c[r].plotX=void 0);this.data=c,this.points=n},getExtremes:function(a){var e,l,p,x,n,b=this.yAxis,c=this.processedXData,k=[],g=0,f=(e=this.xAxis.getExtremes()).min,m=e.max;for(e=(a=a||this.stackedYData||this.processedYData||[]).length,n=0;n<e;n++)if(p=c[n],x=a[n],l=(h(x,!0)||d(x))&&(!b.positiveValuesOnly||x.length||0<x),p=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(c[n+1]||p)>=f&&(c[n-1]||p)<=m,l&&p)if(l=x.length)for(;l--;)"number"==typeof x[l]&&(k[g++]=x[l]);else k[g++]=x;this.dataMin=q(k),this.dataMax=E(k)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,C,v,u,a=this.options,c=a.stacking,e=this.xAxis,d=e.categories,k=this.yAxis,g=this.points,m=g.length,l=!!this.modifyValue,p=a.pointPlacement,z="between"===p||h(p),q=a.threshold,D=a.startFromThreshold?q:0,M=Number.MAX_VALUE;for("between"===p&&(p=.5),h(p)&&(p*=r(a.pointRange||e.pointRange)),a=0;a<m;a++){var I=g[a],B=I.x,E=I.y;C=I.low;var K,H=c&&k.stacks[(this.negStacks&&E<(D?0:q)?"-":"")+this.stackKey];k.positiveValuesOnly&&null!==E&&E<=0&&(I.isNull=!0),I.plotX=t=f(Math.min(Math.max(-1e5,e.translate(B,0,0,0,1,p,"flags"===this.type)),1e5)),c&&this.visible&&!I.isNull&&H&&H[B]&&(u=this.getStackIndicator(u,B,this.index),C=(E=(K=H[B]).points[u.key])[0],E=E[1],C===D&&u.key===H[B].base&&(C=r(q,k.min)),k.positiveValuesOnly&&C<=0&&(C=null),I.total=I.stackTotal=K.total,I.percentage=K.total&&I.y/K.total*100,I.stackY=E,K.setOffset(this.pointXOffset||0,this.barW||0)),I.yBottom=n(C)?Math.min(Math.max(-1e5,k.translate(C,0,1,0,1)),1e5):null,l&&(E=this.modifyValue(E,I)),I.plotY=C="number"==typeof E&&1/0!==E?Math.min(Math.max(-1e5,k.translate(E,0,1,0,1)),1e5):void 0,I.isInside=void 0!==C&&0<=C&&C<=k.len&&0<=t&&t<=e.len,I.clientX=z?f(e.translate(B,0,0,0,1,p)):t,I.negative=I.y<(q||0),I.category=d&&void 0!==d[I.x]?d[I.x]:I.x,I.isNull||(void 0!==v&&(M=Math.min(M,Math.abs(t-v))),v=t),I.zone=this.zones.length&&I.getZone()}this.closestPointRangePx=M,b(this,"afterTranslate")},getValidPoints:function(a,b){var c=this.chart;return m(a||this.points||[],function(a){return!(b&&!c.isInsidePlot(a.plotX,a.plotY,c.inverted))&&!a.isNull})},setClip:function(a){var b=this.chart,c=this.options,e=b.renderer,d=b.inverted,g=this.clipBox,h=g||b.clipBox,k=this.sharedClipKey||["_sharedClip",a&&a.duration,a&&a.easing,h.height,c.xAxis,c.yAxis].join(),f=b[k],m=b[k+"m"];f||(a&&(h.width=0,d&&(h.x=b.plotSizeX),b[k+"m"]=m=e.clipRect(d?b.plotSizeX+99:-99,d?-b.plotLeft:-b.plotTop,99,d?b.chartWidth:b.chartHeight)),b[k]=f=e.clipRect(h),f.count={length:0}),a&&!f.count[this.index]&&(f.count[this.index]=!0,f.count.length+=1),!1!==c.clip&&(this.group.clip(a||g?f:b.clipRect),this.markerGroup.clip(m),this.sharedClipKey=k),a||(f.count[this.index]&&(delete f.count[this.index],--f.count.length),0===f.count.length&&k&&b[k]&&(g||(b[k]=b[k].destroy()),b[k+"m"]&&(b[k+"m"]=b[k+"m"].destroy())))},animate:function(a){var e,b=this.chart,c=H(this.options.animation);a?this.setClip(c):((a=b[e=this.sharedClipKey])&&a.animate({width:b.plotSizeX,x:0},c),b[e+"m"]&&b[e+"m"].animate({width:b.plotSizeX+99,x:0},c),this.animate=null)},afterAnimate:function(){this.setClip(),b(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var c,e,d,g,k,f,m,p,a=this.points,b=this.chart,h=this.options.marker,l=this[this.specialGroup]||this.markerGroup,n=r(h.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=h.enabledThreshold*h.radius);if(!1!==h.enabled||this._hasPointMarkers)for(c=0;c<a.length;c++)g=(e=a[c]).graphic,k=e.marker||{},f=!!e.marker,d=n&&void 0===k.enabled||k.enabled,m=e.isInside,d&&!e.isNull?(d=r(k.symbol,this.symbol),p=this.markerAttribs(e,e.selected&&"select"),g?g[m?"show":"hide"](!0).animate(p):m&&(0<p.width||e.hasImage)&&(e.graphic=g=b.renderer.symbol(d,p.x,p.y,p.width,p.height,f?k:h).add(l)),g&&g.attr(this.pointAttribs(e,e.selected&&"select")),g&&g.addClass(e.getClassName(),!0)):g&&(e.graphic=g.destroy())},markerAttribs:function(a,b){var c=this.options.marker,e=a.marker||{},d=e.symbol||c.symbol,g=r(e.radius,c.radius);return b&&(c=c.states[b],b=e.states&&e.states[b],g=r(b&&b.radius,c&&c.radius,g+(c&&c.radiusPlus||0))),a.hasImage=d&&0===d.indexOf("url"),a.hasImage&&(g=0),a={x:Math.floor(a.plotX)-g,y:a.plotY-g},g&&(a.width=a.height=2*g),a},pointAttribs:function(a,b){var c=this.options.marker,d=(e=a&&a.options)&&e.marker||{},g=this.color,h=e&&e.color,k=a&&a.color,e=r(d.lineWidth,c.lineWidth);return a=a&&a.zone&&a.zone.color,g=h||a||k||g,a=d.fillColor||c.fillColor||g,g=d.lineColor||c.lineColor||g,b&&(c=c.states[b],b=d.states&&d.states[b]||{},e=r(b.lineWidth,c.lineWidth,e+r(b.lineWidthPlus,c.lineWidthPlus,0)),a=b.fillColor||c.fillColor||a,g=b.lineColor||c.lineColor||g),{stroke:g,"stroke-width":e,fill:a}},destroy:function(){var h,k,f,a=this,c=a.chart,e=/AppleWebKit\/533/.test(C.navigator.userAgent),g=a.data||[];for(b(a,"destroy"),I(a),v(a.axisTypes||[],function(b){(f=a[b])&&f.series&&(u(f.series,a),f.isDirty=f.forceRedraw=!0)}),a.legendItem&&a.chart.legend.destroyItem(a),h=g.length;h--;)(k=g[h])&&k.destroy&&k.destroy();a.points=null,clearTimeout(a.animationTimeout),p(a,function(a,b){a instanceof M&&!a.survive&&a[e&&"group"===b?"hide":"destroy"]()}),c.hoverSeries===a&&(c.hoverSeries=null),u(c.series,a),c.orderSeries(),p(a,function(b,c){delete a[c]})},getGraphPath:function(a,b,c){var h,m,e=this,d=e.options,g=d.step,k=[],f=[];return(h=(a=a||e.points).reversed)&&a.reverse(),(g={right:1,center:2}[g]||g&&3)&&h&&(g=4-g),!d.connectNulls||b||c||(a=this.getValidPoints(a)),v(a,function(h,l){var p=h.plotX,x=h.plotY,r=a[l-1];(h.leftCliff||r&&r.rightCliff)&&!c&&(m=!0),m=h.isNull&&!n(b)&&0<l?!d.connectNulls:!(!h.isNull||b)||(0===l||m?l=["M",h.plotX,h.plotY]:e.getPointSpline?l=e.getPointSpline(a,h,l):g?(l=1===g?["L",r.plotX,x]:2===g?["L",(r.plotX+p)/2,r.plotY,"L",(r.plotX+p)/2,x]:["L",p,r.plotY]).push("L",p,x):l=["L",p,x],f.push(h.x),g&&f.push(h.x),k.push.apply(k,l),!1)}),k.xMap=f,e.graphPath=k},drawGraph:function(){var a=this,b=this.options,c=(this.gappedPath||this.getGraphPath).call(this),e=[["graph","highcharts-graph",b.lineColor||this.color,b.dashStyle]];v(this.zones,function(c,d){e.push(["zone-graph-"+d,"highcharts-graph highcharts-zone-graph-"+d+" "+(c.className||""),c.color||a.color,c.dashStyle||b.dashStyle])}),v(e,function(e,d){var g=e[0],h=a[g];h?(h.endX=a.preventGraphAnimation?null:c.xMap,h.animate({d:c})):c.length&&(a[g]=a.chart.renderer.path(c).addClass(e[1]).attr({zIndex:1}).add(a.group),h={stroke:e[2],"stroke-width":b.lineWidth,fill:a.fillGraph&&a.color||"none"},e[3]?h.dashstyle=e[3]:"square"!==b.linecap&&(h["stroke-linecap"]=h["stroke-linejoin"]="round"),h=a[g].attr(h).shadow(d<2&&b.shadow)),h&&(h.startX=c.xMap,h.isArea=c.isArea)})},applyZones:function(){var d,g,k,n,z,D,t,C,u,a=this,b=this.chart,c=b.renderer,e=this.zones,h=this.clips||[],f=this.graph,m=this.area,l=Math.max(b.chartWidth,b.chartHeight),p=this[(this.zoneAxis||"y")+"Axis"],q=b.inverted,M=!1;e.length&&(f||m)&&p&&void 0!==p.min&&(z=p.reversed,D=p.horiz,f&&f.hide(),m&&m.hide(),n=p.getExtremes(),v(e,function(e,x){d=z?D?b.plotWidth:0:D?0:p.toPixels(n.min),d=Math.min(Math.max(r(g,d),0),l),g=Math.min(Math.max(Math.round(p.toPixels(r(e.value,n.max),!0)),0),l),M&&(d=g=p.toPixels(n.max)),t=Math.abs(d-g),C=Math.min(d,g),u=Math.max(d,g),p.isXAxis?(k={x:q?u:C,y:0,width:t,height:l},D||(k.x=b.plotHeight-k.x)):(k={x:0,y:q?u:C,width:l,height:t},D&&(k.y=b.plotWidth-k.y)),q&&c.isVML&&(k=p.isXAxis?{x:0,y:z?C:u,height:k.width,width:b.chartWidth}:{x:k.y-b.plotLeft-b.spacingBox.x,y:0,width:k.height,height:b.chartHeight}),h[x]?h[x].animate(k):(h[x]=c.clipRect(k),f&&a["zone-graph-"+x].clip(h[x]),m&&a["zone-area-"+x].clip(h[x])),M=e.value>n.max}),this.clips=h)},invertGroups:function(a){function b(){v(["group","markerGroup"],function(b){c[b]&&(e.renderer.isVML&&c[b].attr({width:c.yAxis.len,height:c.xAxis.len}),c[b].width=c.yAxis.len,c[b].height=c.xAxis.len,c[b].invert(a))})}var d,c=this,e=c.chart;c.xAxis&&(d=B(e,"resize",b),B(c,"destroy",d),b(),c.invertGroups=b)},plotGroup:function(a,b,c,e,d){var g=this[a],h=!g;return h&&(this[a]=g=this.chart.renderer.g().attr({zIndex:e||.1}).add(d)),g.addClass("highcharts-"+b+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(n(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(g.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),g.attr({visibility:c})[h?"attr":"animate"](this.getPlotBox()),g},getPlotBox:function(){var a=this.chart,b=this.xAxis,c=this.yAxis;return a.inverted&&(b=c,c=this.xAxis),{translateX:b?b.left:a.plotLeft,translateY:c?c.top:a.plotTop,scaleX:1,scaleY:1}},render:function(){var e,a=this,c=a.chart,d=a.options,h=!!a.animate&&c.renderer.isSVG&&H(d.animation).duration,g=a.visible?"inherit":"hidden",k=d.zIndex,f=a.hasRendered,m=c.seriesGroup,l=c.inverted;e=a.plotGroup("group","series",g,k,m),a.markerGroup=a.plotGroup("markerGroup","markers",g,k,m),h&&a.animate(!0),e.inverted=!!a.isCartesian&&l,a.drawGraph&&(a.drawGraph(),a.applyZones()),a.drawDataLabels&&a.drawDataLabels(),a.visible&&a.drawPoints(),a.drawTracker&&!1!==a.options.enableMouseTracking&&a.drawTracker(),a.invertGroups(l),!1===d.clip||a.sharedClipKey||f||e.clip(c.clipRect),h&&a.animate(),f||(a.animationTimeout=D(function(){a.afterAnimate()},h)),a.isDirty=!1,a.hasRendered=!0,b(a,"afterRender")},redraw:function(){var a=this.chart,b=this.isDirty||this.isDirtyData,c=this.group,e=this.xAxis,d=this.yAxis;c&&(a.inverted&&c.attr({width:a.plotWidth,height:a.plotHeight}),c.animate({translateX:r(e&&e.left,a.plotLeft),translateY:r(d&&d.top,a.plotTop)})),this.translate(),this.render(),b&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(a,b){var c=this.xAxis,e=this.yAxis,d=this.chart.inverted;return this.searchKDTree({clientX:d?c.len-a.chartY+c.pos:a.chartX-c.pos,plotY:d?e.len-a.chartX+e.pos:a.chartY-e.pos},b)},buildKDTree:function(){this.buildingKdTree=!0;var b=this,c=-1<b.options.findNearestPointBy.indexOf("y")?2:1;delete b.kdTree,D(function(){b.kdTree=function a(c,e,d){var g,h;if(h=c&&c.length)return g=b.kdAxisArray[e%d],c.sort(function(a,b){return a[g]-b[g]}),{point:c[h=Math.floor(h/2)],left:a(c.slice(0,h),e+1,d),right:a(c.slice(h+1),e+1,d)}}(b.getValidPoints(null,!b.directTouch),c,c),b.buildingKdTree=!1},b.options.kdNow?0:1)},searchKDTree:function(a,b){var e=this,d=this.kdAxisArray[0],g=this.kdAxisArray[1],h=b?"distX":"dist";if(b=-1<e.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return function c(a,b,k,f){var p,r,m=b.point,l=e.kdAxisArray[k%f],z=m;return p=((r=n(a[d])&&n(m[d])?Math.pow(a[d]-m[d],2):null)||0)+((p=n(a[g])&&n(m[g])?Math.pow(a[g]-m[g],2):null)||0),m.dist=n(p)?Math.sqrt(p):Number.MAX_VALUE,m.distX=n(r)?Math.sqrt(r):Number.MAX_VALUE,r=(l=a[l]-m[l])<0?"right":"left",b[p=l<0?"left":"right"]&&(z=(p=c(a,b[p],k+1,f))[h]<z[h]?p:m),b[r]&&Math.sqrt(l*l)<z[h]&&(z=(a=c(a,b[r],k+1,f))[h]<z[h]?a:z),z}(a,this.kdTree,b,b)}})}(K),function(a){var B=a.Axis,H=a.Chart,E=a.correctFloat,q=a.defined,f=a.destroyObjectProperties,l=a.each,t=a.format,n=a.objectEach,v=a.pick,u=a.Series;a.StackItem=function(a,b,f,d,h){var c=a.chart.inverted;this.axis=a,this.isNegative=f,this.options=b,this.x=d,this.total=null,this.points={},this.stack=h,this.rightCliff=this.leftCliff=0,this.alignOptions={align:b.align||(c?f?"left":"right":"center"),verticalAlign:b.verticalAlign||(c?"middle":f?"bottom":"top"),y:v(b.y,c?4:f?14:-6),x:v(b.x,c?f?-6:6:0)},this.textAlign=b.textAlign||(c?f?"right":"left":"center")},a.StackItem.prototype={destroy:function(){f(this,this.axis)},render:function(a){var b=this.axis.chart,c=this.options,d=(d=c.format)?t(d,this,b.time):c.formatter.call(this);this.label?this.label.attr({text:d,visibility:"hidden"}):this.label=b.renderer.text(d,null,null,c.useHTML).css(c.style).attr({align:this.textAlign,rotation:c.rotation,visibility:"hidden"}).add(a)},setOffset:function(a,b){var d=(c=this.axis).chart,h=c.translate(c.usePercentage?100:this.total,0,0,0,1),c=c.translate(0);c=Math.abs(h-c);a=d.xAxis[0].translate(this.x)+a,h=this.getStackBox(d,this,a,h,b,c),(b=this.label)&&(b.align(this.alignOptions,null,h),h=b.alignAttr,b[!1===this.options.crop||d.isInsidePlot(h.x,h.y)?"show":"hide"](!0))},getStackBox:function(a,b,f,d,h,k){var c=b.axis.reversed,m=a.inverted;return a=a.plotHeight,b=b.isNegative&&!c||!b.isNegative&&c,{x:m?b?d:d-k:f,y:m?a-f-h:b?a-d-k:a-d,width:m?k:h,height:m?h:k}}},H.prototype.getStacks=function(){var a=this;l(a.yAxis,function(a){a.stacks&&a.hasVisibleSeries&&(a.oldStacks=a.stacks)}),l(a.series,function(b){!b.options.stacking||!0!==b.visible&&!1!==a.options.chart.ignoreHiddenSeries||(b.stackKey=b.type+v(b.options.stack,""))})},B.prototype.buildStacks=function(){var d,a=this.series,b=v(this.options.reversedStacks,!0),f=a.length;if(!this.isXAxis){for(this.usePercentage=!1,d=f;d--;)a[b?d:f-d-1].setStackedPoints();for(d=0;d<f;d++)a[d].modifyStacks()}},B.prototype.renderStackTotals=function(){var a=this.chart,b=a.renderer,f=this.stacks,d=this.stackTotalGroup;d||(this.stackTotalGroup=d=b.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),d.translate(a.plotLeft,a.plotTop),n(f,function(a){n(a,function(a){a.render(d)})})},B.prototype.resetStacks=function(){var a=this,b=a.stacks;a.isXAxis||n(b,function(b){n(b,function(c,h){c.touched<a.stacksTouched?(c.destroy(),delete b[h]):(c.total=null,c.cumulative=null)})})},B.prototype.cleanStacks=function(){var a;this.isXAxis||(this.oldStacks&&(a=this.stacks=this.oldStacks),n(a,function(a){n(a,function(a){a.cumulative=a.total})}))},u.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var x,F,A,J,G,g,w,c=this.processedXData,b=this.processedYData,f=[],d=b.length,k=(h=this.options).threshold,e=v(h.startFromThreshold&&k,0),l=h.stack,h=h.stacking,n=this.stackKey,t="-"+n,z=this.negStacks,u=this.yAxis,D=u.stacks,C=u.oldStacks;for(u.stacksTouched+=1,G=0;G<d;G++)g=c[G],w=b[G],J=(x=this.getStackIndicator(x,g,this.index)).key,D[A=(F=z&&w<(e?0:k))?t:n]||(D[A]={}),D[A][g]||(C[A]&&C[A][g]?(D[A][g]=C[A][g],D[A][g].total=null):D[A][g]=new a.StackItem(u,u.options.stackLabels,F,g,l)),A=D[A][g],null!==w?(A.points[J]=A.points[this.index]=[v(A.cumulative,e)],q(A.cumulative)||(A.base=J),A.touched=u.stacksTouched,0<x.index&&!1===this.singleStacks&&(A.points[J][0]=A.points[this.index+","+g+",0"][0])):A.points[J]=A.points[this.index]=null,"percent"===h?(F=F?n:t,z&&D[F]&&D[F][g]?(F=D[F][g],A.total=F.total=Math.max(F.total,A.total)+Math.abs(w)||0):A.total=E(A.total+(Math.abs(w)||0))):A.total=E(A.total+(w||0)),A.cumulative=v(A.cumulative,e)+(w||0),null!==w&&(A.points[J].push(A.cumulative),f[G]=A.cumulative);"percent"===h&&(u.usePercentage=!0),this.stackedYData=f,u.oldStacks={}}},u.prototype.modifyStacks=function(){var h,a=this,b=a.stackKey,f=a.yAxis.stacks,d=a.processedXData,k=a.options.stacking;a[k+"Stacker"]&&l([b,"-"+b],function(b){for(var e,l,c=d.length;c--;)e=d[c],h=a.getStackIndicator(h,e,a.index,b),(l=(e=f[b]&&f[b][e])&&e.points[h.key])&&a[k+"Stacker"](l,e,c)})},u.prototype.percentStacker=function(a,b,f){b=b.total?100/b.total:0,a[0]=E(a[0]*b),a[1]=E(a[1]*b),this.stackedYData[f]=a[1]},u.prototype.getStackIndicator=function(a,b,f,d){return!q(a)||a.x!==b||d&&a.key!==d?a={x:b,index:0,key:d}:a.index++,a.key=[f,b,a.index].join(),a}}(K),function(a){var B=a.addEvent,H=a.animate,E=a.Axis,q=a.createElement,f=a.css,l=a.defined,t=a.each,n=a.erase,v=a.extend,u=a.fireEvent,c=a.inArray,b=a.isNumber,m=a.isObject,d=a.isArray,h=a.merge,k=a.objectEach,e=a.pick,p=a.Point,r=a.Series,I=a.seriesTypes,z=a.setAnimation,M=a.splat;v(a.Chart.prototype,{addSeries:function(a,b,c){var d,h=this;return a&&(b=e(b,!0),u(h,"addSeries",{options:a},function(){d=h.initSeries(a),h.isDirtyLegend=!0,h.linkSeries(),b&&h.redraw(c)})),d},addAxis:function(a,b,c,d){var k=b?"xAxis":"yAxis",f=this.options;return a=h(a,{index:this[k].length,isX:b}),b=new E(this,a),f[k]=M(f[k]||{}),f[k].push(a),e(c,!0)&&this.redraw(d),b},showLoading:function(a){var b=this,c=b.options,e=b.loadingDiv,d=c.loading,h=function(){e&&f(e,{left:b.plotLeft+"px",top:b.plotTop+"px",width:b.plotWidth+"px",height:b.plotHeight+"px"})};e||(b.loadingDiv=e=q("div",{className:"highcharts-loading highcharts-loading-hidden"},null,b.container),b.loadingSpan=q("span",{className:"highcharts-loading-inner"},null,e),B(b,"redraw",h)),e.className="highcharts-loading",b.loadingSpan.innerHTML=a||c.lang.loading,f(e,v(d.style,{zIndex:10})),f(b.loadingSpan,d.labelStyle),b.loadingShown||(f(e,{opacity:0,display:""}),H(e,{opacity:d.style.opacity||.5},{duration:d.showDuration||0})),b.loadingShown=!0,h()},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&(b.className="highcharts-loading highcharts-loading-hidden",H(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){f(b,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(a,d,f){var r,g,p=this,m={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},n=a.chart,z=[];n&&(h(!0,p.options.chart,n),"className"in n&&p.setClassName(n.className),("inverted"in n||"polar"in n)&&(p.propFromSeries(),r=!0),"alignTicks"in n&&(r=!0),k(n,function(a,b){-1!==c("chart."+b,p.propsRequireUpdateSeries)&&(g=!0),-1!==c(b,p.propsRequireDirtyBox)&&(p.isDirtyBox=!0)}),"style"in n&&p.renderer.setStyle(n.style)),a.colors&&(this.options.colors=a.colors),a.plotOptions&&h(!0,this.options.plotOptions,a.plotOptions),k(a,function(a,b){p[b]&&"function"==typeof p[b].update?p[b].update(a,!1):"function"==typeof p[m[b]]&&p[m[b]](a),"chart"!==b&&-1!==c(b,p.propsRequireUpdateSeries)&&(g=!0)}),t("xAxis yAxis zAxis series colorAxis pane".split(" "),function(b){a[b]&&(t(M(a[b]),function(a,c){(c=l(a.id)&&p.get(a.id)||p[b][c])&&c.coll===b&&(c.update(a,!1),f&&(c.touched=!0)),!c&&f&&("series"===b?p.addSeries(a,!1).touched=!0:"xAxis"!==b&&"yAxis"!==b||(p.addAxis(a,"xAxis"===b,!1).touched=!0))}),f&&t(p[b],function(a){a.touched?delete a.touched:z.push(a)}))}),t(z,function(a){a.remove(!1)}),r&&t(p.axes,function(a){a.update({},!1)}),g&&t(p.series,function(a){a.update({},!1)}),a.loading&&h(!0,p.options.loading,a.loading),r=n&&n.width,n=n&&n.height,b(r)&&r!==p.chartWidth||b(n)&&n!==p.chartHeight?p.setSize(r,n):e(d,!0)&&p.redraw()},setSubtitle:function(a){this.setTitle(void 0,a)}}),v(p.prototype,{update:function(a,b,c,d){function h(){k.applyOptions(a),null===k.y&&g&&(k.graphic=g.destroy()),m(a,!0)&&(g&&g.element&&a&&a.marker&&void 0!==a.marker.symbol&&(k.graphic=g.destroy()),a&&a.dataLabels&&k.dataLabel&&(k.dataLabel=k.dataLabel.destroy()),k.connector&&(k.connector=k.connector.destroy())),p=k.index,f.updateParallelArrays(k,p),n.data[p]=m(n.data[p],!0)||m(a,!0)?k.options:a,f.isDirty=f.isDirtyData=!0,!f.fixedBox&&f.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===n.legendType&&(l.isDirtyLegend=!0),b&&l.redraw(c)}var p,k=this,f=k.series,g=k.graphic,l=f.chart,n=f.options;b=e(b,!0),!1===d?h():k.firePointEvent("update",{options:a},h)},remove:function(a,b){this.series.removePoint(c(this,this.series.data),a,b)}}),v(r.prototype,{addPoint:function(a,b,c,d){var l,m,r,z,h=this.options,k=this.data,f=this.chart,g=(g=this.xAxis)&&g.hasNames&&g.names,p=h.data,n=this.xData;if(b=e(b,!0),l={series:this},this.pointClass.prototype.applyOptions.apply(l,[a]),z=l.x,r=n.length,this.requireSorting&&z<n[r-1])for(m=!0;r&&n[r-1]>z;)r--;this.updateParallelArrays(l,"splice",r,0,0),this.updateParallelArrays(l,r),g&&l.name&&(g[z]=l.name),p.splice(r,0,a),m&&(this.data.splice(r,0,null),this.processData()),"point"===h.legendType&&this.generatePoints(),c&&(k[0]&&k[0].remove?k[0].remove(!1):(k.shift(),this.updateParallelArrays(l,"shift"),p.shift())),this.isDirtyData=this.isDirty=!0,b&&f.redraw(d)},removePoint:function(a,b,c){var d=this,h=d.data,k=h[a],f=d.points,g=d.chart,p=function(){f&&f.length===h.length&&f.splice(a,1),h.splice(a,1),d.options.data.splice(a,1),d.updateParallelArrays(k||{series:d},"splice",a,1),k&&k.destroy(),d.isDirty=!0,d.isDirtyData=!0,b&&g.redraw()};z(c,g),b=e(b,!0),k?k.firePointEvent("remove",null,p):p()},remove:function(a,b,c){function d(){h.destroy(),k.isDirtyLegend=k.isDirtyBox=!0,k.linkSeries(),e(a,!0)&&k.redraw(b)}var h=this,k=h.chart;!1!==c?u(h,"remove",null,d):d()},update:function(a,b){var l,c=this,d=c.chart,k=c.userOptions,f=c.oldType||c.type,p=a.type||k.type||d.options.chart.type,g=I[f].prototype,m=["group","markerGroup","dataLabelsGroup"],n=["navigatorSeries","baseSeries"],r=c.finishedAnimating&&{animation:!1};if(Object.keys&&"data"===Object.keys(a).toString())return this.setData(a.data,b);for(l in n=m.concat(n),t(n,function(a){n[a]=c[a],delete c[a]}),a=h(k,r,{index:c.index,pointStart:c.xData[0]},{data:c.options.data},a),c.remove(!1,null,!1),g)c[l]=void 0;v(c,I[p||f].prototype),t(n,function(a){c[a]=n[a]}),c.init(d,a),a.zIndex!==k.zIndex&&t(m,function(b){c[b]&&c[b].attr({zIndex:a.zIndex})}),c.oldType=f,d.linkSeries(),e(b,!0)&&d.redraw(!1)}}),v(E.prototype,{update:function(a,b){var c=this.chart;a=c.options[this.coll][this.options.index]=h(this.userOptions,a),this.destroy(!0),this.init(c,v(a,{events:void 0})),c.isDirtyBox=!0,e(b,!0)&&c.redraw()},remove:function(a){for(var b=this.chart,c=this.coll,h=this.series,k=h.length;k--;)h[k]&&h[k].remove(!1);n(b.axes,this),n(b[c],this),d(b.options[c])?b.options[c].splice(this.options.index,1):delete b.options[c],t(b[c],function(a,b){a.options.index=b}),this.destroy(),b.isDirtyBox=!0,e(a,!0)&&b.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}})}(K),function(a){var B=a.color,H=a.each,E=a.map,q=a.pick,f=a.Series;(0,a.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(f){var e,r,l=[],t=[],u=this.xAxis,c=this.yAxis,b=c.stacks[this.stackKey],m={},d=this.index,h=c.series,k=h.length,p=q(c.options.reversedStacks,!0)?1:-1;if(f=f||this.points,this.options.stacking){for(r=0;r<f.length;r++)f[r].leftNull=f[r].rightNull=null,m[f[r].x]=f[r];a.objectEach(b,function(a,b){null!==a.total&&t.push(b)}),t.sort(function(a,b){return a-b}),e=E(h,function(){return this.visible}),H(t,function(a,h){var n,z,f=0;if(m[a]&&!m[a].isNull)l.push(m[a]),H([-1,1],function(c){var f=1===c?"rightNull":"leftNull",l=0,q=b[t[h+c]];if(q)for(r=d;0<=r&&r<k;)(n=q.points[r])||(r===d?m[a][f]=!0:e[r]&&(z=b[a].points[r])&&(l-=z[1]-z[0])),r+=p;m[a][1===c?"rightCliff":"leftCliff"]=l});else{for(r=d;0<=r&&r<k;){if(n=b[a].points[r]){f=n[1];break}r+=p}f=c.translate(f,0,1,0,1),l.push({isNull:!0,plotX:u.translate(a,0,0,0,1),x:a,plotY:f,yBottom:f})}})}return l},getGraphPath:function(a){var b,m,e,z,l=f.prototype.getGraphPath,u=(t=this.options).stacking,c=this.yAxis,d=[],h=[],k=this.index,p=c.stacks[this.stackKey],r=t.threshold,I=c.getThreshold(t.threshold),t=t.connectNulls||"percent"===u,M=function(b,f,l){var m=a[b];b=u&&p[m.x].points[k];var n=m[l+"Null"]||0;l=m[l+"Cliff"]||0;var z,q;m=!0;l||n?(z=(n?b[0]:b[1])+l,q=b[0]+l,m=!!n):!u&&a[f]&&a[f].isNull&&(z=q=r),void 0!==z&&(h.push({plotX:e,plotY:null===z?I:c.getThreshold(z),isNull:m,isCliff:!0}),d.push({plotX:e,plotY:null===q?I:c.getThreshold(q),doCurve:!1}))};for(a=a||this.points,u&&(a=this.getStackPoints(a)),b=0;b<a.length;b++)m=a[b].isNull,e=q(a[b].rectPlotX,a[b].plotX),z=q(a[b].yBottom,I),(!m||t)&&(t||M(b,b-1,"left"),m&&!u&&t||(h.push(a[b]),d.push({x:b,plotX:e,plotY:z})),t||M(b,b+1,"right"));return b=l.call(this,h,!0,!0),d.reversed=!0,(m=l.call(this,d,!0,!0)).length&&(m[0]="L"),m=b.concat(m),l=l.call(this,h,!1,t),m.xMap=b.xMap,this.areaPath=m,l},drawGraph:function(){this.areaPath=[],f.prototype.drawGraph.apply(this);var a=this,l=this.areaPath,v=this.options,u=[["area","highcharts-area",this.color,v.fillColor]];H(this.zones,function(c,b){u.push(["zone-area-"+b,"highcharts-area highcharts-zone-area-"+b+" "+c.className,c.color||a.color,c.fillColor||v.fillColor])}),H(u,function(c){var b=c[0],f=a[b];f?(f.endX=a.preventGraphAnimation?null:l.xMap,f.animate({d:l})):(f=a[b]=a.chart.renderer.path(l).addClass(c[1]).attr({fill:q(c[3],B(c[2]).setOpacity(q(v.fillOpacity,.75)).get()),zIndex:0}).add(a.group)).isArea=!0,f.startX=l.xMap,f.shiftUnit=v.step?2:1})},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle})}(K),function(a){var B=a.pick;(a=a.seriesType)("spline","line",{},{getPointSpline:function(a,E,q){var n,v,u,c,f=E.plotX,l=E.plotY,t=a[q-1];if(q=a[q+1],t&&!t.isNull&&!1!==t.doCurve&&!E.isCliff&&q&&!q.isNull&&!1!==q.doCurve&&!E.isCliff){a=t.plotY,u=q.plotX;var b=0;v=(1.5*l+a)/2.5,c=(1.5*l+(q=q.plotY))/2.5,(u=(1.5*f+u)/2.5)!==(n=(1.5*f+t.plotX)/2.5)&&(b=(c-v)*(u-f)/(u-n)+l-c),c+=b,a<(v+=b)&&l<v?c=2*l-(v=Math.max(a,l)):v<a&&v<l&&(c=2*l-(v=Math.min(a,l))),q<c&&l<c?v=2*l-(c=Math.max(q,l)):c<q&&c<l&&(v=2*l-(c=Math.min(q,l))),E.rightContX=u,E.rightContY=c}return E=["C",B(t.rightContX,t.plotX),B(t.rightContY,t.plotY),B(n,f),B(v,l),f,l],t.rightContX=t.rightContY=null,E}})}(K),function(a){var B=a.seriesTypes.area.prototype;(0,a.seriesType)("areaspline","spline",a.defaultPlotOptions.area,{getStackPoints:B.getStackPoints,getGraphPath:B.getGraphPath,drawGraph:B.drawGraph,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle})}(K),function(a){var B=a.animObject,H=a.color,E=a.each,q=a.extend,f=a.isNumber,l=a.merge,t=a.pick,n=a.Series,v=a.seriesType,u=a.svg;v("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){n.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&E(b.series,function(b){b.type===a.type&&(b.isDirty=!0)})},getColumnMetrics:function(){var k,a=this,b=a.options,f=a.xAxis,d=a.yAxis,h=f.reversed,e={},l=0;!1===b.grouping?l=1:E(a.chart.series,function(b){var f,c=b.options,h=b.yAxis;b.type!==a.type||!b.visible&&a.chart.options.chart.ignoreHiddenSeries||d.len!==h.len||d.pos!==h.pos||(c.stacking?(k=b.stackKey,void 0===e[k]&&(e[k]=l++),f=e[k]):!1!==c.grouping&&(f=l++),b.columnIndex=f)});var n=Math.min(Math.abs(f.transA)*(f.ordinalSlope||b.pointRange||f.closestPointRange||f.tickInterval||1),f.len),q=n*b.groupPadding,z=(n-2*q)/(l||1);b=Math.min(b.maxPointWidth||f.len,t(b.pointWidth,z*(1-2*b.pointPadding)));return a.columnMetrics={width:b,offset:(z-b)/2+(q+((a.columnIndex||0)+(h?1:0))*z-n/2)*(h?-1:1)},a.columnMetrics},crispCol:function(a,b,f,d){var c=this.chart,e=-((k=this.borderWidth)%2?.5:0),k=k%2?.5:1;return c.inverted&&c.renderer.isVML&&(k+=1),this.options.crisp&&(f=Math.round(a+f)+e,f-=a=Math.round(a)+e),d=Math.round(b+d)+k,e=Math.abs(b)<=.5&&.5<d,d-=b=Math.round(b)+k,e&&d&&(--b,d+=1),{x:a,y:b,width:f,height:d}},translate:function(){var a=this,b=a.chart,f=a.options,d=a.dense=a.closestPointRange*a.xAxis.transA<2,h=(d=a.borderWidth=t(f.borderWidth,d?0:1),a.yAxis),k=f.threshold,e=a.translatedThreshold=h.getThreshold(k),l=t(f.minPointLength,5),r=a.getColumnMetrics(),q=r.width,z=a.barW=Math.max(q,1+2*d),u=a.pointXOffset=r.offset;b.inverted&&(e-=.5),f.pointPadding&&(z=Math.ceil(z)),n.prototype.translate.apply(a),E(a.points,function(c){var r,d=t(c.yBottom,e),f=999+Math.abs(d),p=(f=Math.min(Math.max(-f,c.plotY),h.len+f),c.plotX+u),m=z,n=Math.min(f,d),g=Math.max(f,d)-n;l&&Math.abs(g)<l&&(g=l,r=!h.reversed&&!c.negative||h.reversed&&c.negative,c.y===k&&a.dataMax<=k&&h.min<k&&(r=!r),n=Math.abs(n-e)>l?d-l:e-(r?l:0)),c.barX=p,c.pointWidth=q,c.tooltipPos=b.inverted?[h.len+h.pos-b.plotLeft-f,a.xAxis.len-p-m/2,g]:[p+m/2,f+h.pos-b.plotTop,g],c.shapeType="rect",c.shapeArgs=a.crispCol.apply(a,c.isNull?[p,e,m,0]:[p,n,m,g])})},getSymbol:a.noop,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(a,b){var d,c=this.options;d=(h=this.pointAttrToOptions||{}).stroke||"borderColor";var f=h["stroke-width"]||"borderWidth",e=a&&a.color||this.color,p=a&&a[d]||c[d]||this.color||e,n=a&&a[f]||c[f]||this[f]||0,h=c.dashStyle;return a&&this.zones.length&&(e=a.getZone(),e=a.options.color||e&&e.color||this.color),b&&(b=(a=l(c.states[b],a.options.states&&a.options.states[b]||{})).brightness,e=a.color||void 0!==b&&H(e).brighten(a.brightness).get()||e,p=a[d]||p,n=a[f]||n,h=a.dashStyle||h),d={fill:e,stroke:p,"stroke-width":n},h&&(d.dashstyle=h),d},drawPoints:function(){var k,a=this,b=this.chart,m=a.options,d=b.renderer,h=m.animationLimit||250;E(a.points,function(c){var e=c.graphic;f(c.plotY)&&null!==c.y?(k=c.shapeArgs,e?e[b.pointCount<h?"animate":"attr"](l(k)):c.graphic=e=d[c.shapeType](k).add(c.group||a.group),m.borderRadius&&e.attr({r:m.borderRadius}),e.attr(a.pointAttribs(c,c.selected&&"select")).shadow(m.shadow,null,m.stacking&&!m.borderRadius),e.addClass(c.getClassName(),!0)):e&&(c.graphic=e.destroy())})},animate:function(a){var l,b=this,c=this.yAxis,d=b.options,h=this.chart.inverted,f={},e=h?"translateX":"translateY";u&&(a?(f.scaleY=.001,a=Math.min(c.pos+c.len,Math.max(c.pos,c.toPixels(d.threshold))),h?f.translateX=a-c.len:f.translateY=a,b.group.attr(f)):(l=b.group.attr(e),b.group.animate({scaleY:1},q(B(b.options.animation),{step:function(a,d){f[e]=l+d.pos*(c.pos-l),b.group.attr(f)}})),b.animate=null))},remove:function(){var a=this,b=a.chart;b.hasRendered&&E(b.series,function(b){b.type===a.type&&(b.isDirty=!0)}),n.prototype.remove.apply(a,arguments)}})}(K),function(a){(a=a.seriesType)("bar","column",null,{inverted:!0})}(K),function(a){var B=a.Series;(a=a.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&B.prototype.drawGraph.call(this)}})}(K),function(a){var B=a.deg2rad,H=a.isNumber,E=a.pick,q=a.relativeLength;a.CenteredSeriesMixin={getCenter:function(){var c,b,a=this.options,l=this.chart,t=2*(a.slicedOffset||0),n=l.plotWidth-2*t,v=(l=l.plotHeight-2*t,a.center),u=(v=[E(v[0],"50%"),E(v[1],"50%"),a.size||"100%",a.innerSize||0],Math.min(n,l));for(c=0;c<4;++c)b=v[c],a=c<2||2===c&&/%$/.test(b),v[c]=q(b,[n,l,u,v[2]][c])+(a?t:0);return v[3]>v[2]&&(v[3]=v[2]),v},getStartAndEndRadians:function(a,l){return a=H(a)?a:0,l=H(l)&&a<l&&l-a<360?l:a+360,{start:B*(a+-90),end:B*(l+-90)}}}}(K),function(a){var B=a.addEvent,H=a.CenteredSeriesMixin,E=a.defined,q=a.each,f=a.extend,l=H.getStartAndEndRadians,t=a.inArray,n=a.noop,v=a.pick,u=a.Point,c=a.Series,b=a.seriesType,m=a.setAnimation;b("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:a.seriesTypes.column.prototype.pointAttribs,animate:function(a){var b=this,c=b.points,d=b.startAngleRad;a||(q(c,function(a){var c=a.graphic,e=a.shapeArgs;c&&(c.attr({r:a.startR||b.center[3]/2,start:d,end:d}),c.animate({r:e.r,start:e.start,end:e.end},b.options.animation))}),b.animate=null)},updateTotals:function(){var a,f,b=0,c=this.points,e=c.length,l=this.options.ignoreHiddenPoint;for(a=0;a<e;a++)f=c[a],b+=l&&!f.visible?0:f.isNull?0:f.y;for(this.total=b,a=0;a<e;a++)(f=c[a]).percentage=0<b&&(f.visible||!l)?f.y/b*100:0,f.total=b},generatePoints:function(){c.prototype.generatePoints.call(this),this.updateTotals()},translate:function(a){this.generatePoints();var f,m,n,x,A,G,b=0,e=(c=this.options).slicedOffset,d=e+(c.borderWidth||0),q=l(c.startAngle,c.endAngle),t=this.startAngleRad=q.start,u=(q=(this.endAngleRad=q.end)-t,this.points),F=c.dataLabels.distance,c=c.ignoreHiddenPoint,B=u.length;for(a||(this.center=a=this.getCenter()),this.getX=function(b,c,e){return n=Math.asin(Math.min((b-a[1])/(a[2]/2+e.labelDistance),1)),a[0]+(c?-1:1)*Math.cos(n)*(a[2]/2+e.labelDistance)},A=0;A<B;A++)(G=u[A]).labelDistance=v(G.options.dataLabels&&G.options.dataLabels.distance,F),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,G.labelDistance),f=t+b*q,c&&!G.visible||(b+=G.percentage/100),m=t+b*q,G.shapeType="arc",G.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:Math.round(1e3*f)/1e3,end:Math.round(1e3*m)/1e3},(n=(m+f)/2)>1.5*Math.PI?n-=2*Math.PI:n<-Math.PI/2&&(n+=2*Math.PI),G.slicedTranslation={translateX:Math.round(Math.cos(n)*e),translateY:Math.round(Math.sin(n)*e)},m=Math.cos(n)*a[2]/2,x=Math.sin(n)*a[2]/2,G.tooltipPos=[a[0]+.7*m,a[1]+.7*x],G.half=n<-Math.PI/2||n>Math.PI/2?1:0,G.angle=n,f=Math.min(d,G.labelDistance/5),G.labelPos=[a[0]+m+Math.cos(n)*G.labelDistance,a[1]+x+Math.sin(n)*G.labelDistance,a[0]+m+Math.cos(n)*f,a[1]+x+Math.sin(n)*f,a[0]+m,a[1]+x,G.labelDistance<0?"center":G.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var c,e,l,m,a=this,b=a.chart.renderer,n=a.options.shadow;n&&!a.shadowGroup&&(a.shadowGroup=b.g("shadow").add(a.group)),q(a.points,function(d){if(e=d.graphic,d.isNull)e&&(d.graphic=e.destroy());else{m=d.shapeArgs,c=d.getTranslate();var h=d.shadowGroup;n&&!h&&(h=d.shadowGroup=b.g("shadow").add(a.shadowGroup)),h&&h.attr(c),l=a.pointAttribs(d,d.selected&&"select"),e?e.setRadialReference(a.center).attr(l).animate(f(m,c)):(d.graphic=e=b[d.shapeType](m).setRadialReference(a.center).attr(c).add(a.group),d.visible||e.attr({visibility:"hidden"}),e.attr(l).attr({"stroke-linejoin":"round"}).shadow(n,h)),e.addClass(d.getClassName())}})},searchPoint:n,sortByAngle:function(a,b){a.sort(function(a,c){return void 0!==a.angle&&(c.angle-a.angle)*b})},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,getCenter:H.getCenter,getSymbol:n},{init:function(){u.prototype.init.apply(this,arguments);var b,a=this;return a.name=v(a.name,"Slice"),B(a,"select",b=function(b){a.slice("select"===b.type)}),B(a,"unselect",b),a},isValid:function(){return a.isNumber(this.y,!0)&&0<=this.y},setVisible:function(a,b){var c=this,e=c.series,d=e.chart,h=e.options.ignoreHiddenPoint;b=v(b,h),a!==c.visible&&(c.visible=c.options.visible=a=void 0===a?!c.visible:a,e.options.data[t(c,e.data)]=c.options,q(["graphic","dataLabel","connector","shadowGroup"],function(b){c[b]&&c[b][a?"show":"hide"](!0)}),c.legendItem&&d.legend.colorizeItem(c,a),a||"hover"!==c.state||c.setState(""),h&&(e.isDirty=!0),b&&d.redraw())},slice:function(a,b,c){var e=this.series;m(c,e.chart),v(b,!0),this.sliced=this.options.sliced=E(a)?a:!this.sliced,e.options.data[t(this,e.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(a){var b=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(b.x,b.y,b.r+a,b.r+a,{innerR:this.shapeArgs.r-1,start:b.start,end:b.end})}})}(K),function(a){var B=a.addEvent,H=a.arrayMax,E=a.defined,q=a.each,f=a.extend,l=a.format,t=a.map,n=a.merge,v=a.noop,u=a.pick,c=a.relativeLength,b=a.Series,m=a.seriesTypes,d=a.stableSort;a.distribute=function(a,b){function c(a,b){return a.target-b.target}var f,m,h=!0,k=a,l=[];for(m=0,f=a.length;f--;)m+=a[f].size;if(b<m){for(d(a,function(a,b){return(b.rank||0)-(a.rank||0)}),m=f=0;m<=b;)m+=a[f].size,f++;l=a.splice(f-1,a.length)}for(d(a,c),a=t(a,function(a){return{size:a.size,targets:[a.target],align:u(a.align,.5)}});h;){for(f=a.length;f--;)h=a[f],m=(Math.min.apply(0,h.targets)+Math.max.apply(0,h.targets))/2,h.pos=Math.min(Math.max(0,m-h.size*h.align),b-h.size);for(f=a.length,h=!1;f--;)0<f&&a[f-1].pos+a[f-1].size>a[f].pos&&(a[f-1].size+=a[f].size,a[f-1].targets=a[f-1].targets.concat(a[f].targets),a[f-1].align=.5,a[f-1].pos+a[f-1].size>b&&(a[f-1].pos=b-a[f-1].size),a.splice(f,1),h=!0)}f=0,q(a,function(a){var b=0;q(a.targets,function(){k[f].pos=a.pos+b,b+=k[f].size,f++})}),k.push.apply(k,l),d(k,c)},b.prototype.drawDataLabels=function(){var z,t,C,x,c=this,e=c.chart,d=c.options,f=d.dataLabels,m=c.points,v=c.hasRendered||0,F=u(f.defer,!!d.animation),A=e.renderer;(f.enabled||c._hasPointLabels)&&(c.dlProcessOptions&&c.dlProcessOptions(f),x=c.plotGroup("dataLabelsGroup","data-labels",F&&!v?"hidden":"visible",f.zIndex||6),F&&(x.attr({opacity:+v}),v||B(c,"afterAnimate",function(){c.visible&&x.show(!0),x[d.animation?"animate":"attr"]({opacity:1},{duration:200})})),t=f,q(m,function(h){var k,m,p,v,g=h.dataLabel,q=h.connector,r=!g;z=h.dlOptions||h.options&&h.options.dataLabels,(k=u(z&&z.enabled,t.enabled)&&!h.isNull)&&(k=!0===function(a,b){var c=b.filter;return!c||(b=c.operator,a=a[c.property],c=c.value,">"===b&&c<a||"<"===b&&a<c||">="===b&&c<=a||"<="===b&&a<=c||"=="===b&&a==c||"==="===b&&a===c)}(h,z||f)),k&&(f=n(t,z),m=h.getLabelConfig(),v=f[h.formatPrefix+"Format"]||f.format,C=E(v)?l(v,m,e.time):(f[h.formatPrefix+"Formatter"]||f.formatter).call(m,f),v=f.style,m=f.rotation,v.color=u(f.color,v.color,c.color,"#000000"),"contrast"===v.color&&(h.contrastColor=A.getContrast(h.color||c.color),v.color=f.inside||u(h.labelDistance,f.distance)<0||d.stacking?h.contrastColor:"#000000"),d.cursor&&(v.cursor=d.cursor),p={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,rotation:m,padding:f.padding,zIndex:1},a.objectEach(p,function(a,b){void 0===a&&delete p[b]})),!g||k&&E(C)?k&&E(C)&&(g?p.text=C:(g=h.dataLabel=m?A.text(C,0,-9999).addClass("highcharts-data-label"):A.label(C,0,-9999,f.shape,null,null,f.useHTML,null,"data-label")).addClass(" highcharts-data-label-color-"+h.colorIndex+" "+(f.className||"")+(f.useHTML?"highcharts-tracker":"")),g.attr(p),g.css(v).shadow(f.shadow),g.added||g.add(x),c.alignDataLabel(h,g,f,null,r)):(h.dataLabel=g=g.destroy(),q&&(h.connector=q.destroy()))})),a.fireEvent(this,"afterDrawDataLabels")},b.prototype.alignDataLabel=function(a,b,c,d,l){var p,e=this.chart,h=e.inverted,k=u(a.dlBox&&a.dlBox.centerX,a.plotX,-9999),m=u(a.plotY,-9999),n=b.getBBox(),q=c.rotation,r=c.align,t=this.visible&&(a.series.forceDL||e.isInsidePlot(k,Math.round(m),h)||d&&e.isInsidePlot(k,h?d.x+1:d.y+d.height-1,h)),v="justify"===u(c.overflow,"justify");t&&(p=c.style.fontSize,p=e.renderer.fontMetrics(p,b).b,d=f({x:h?this.yAxis.len-m:k,y:Math.round(h?this.xAxis.len-k:m),width:0,height:0},d),f(c,{width:n.width,height:n.height}),q?(v=!1,k=e.renderer.rotCorr(p,q),k={x:d.x+c.x+d.width/2+k.x,y:d.y+c.y+{top:0,middle:.5,bottom:1}[c.verticalAlign]*d.height},b[l?"attr":"animate"](k).attr({align:r}),m=180<(m=(q+720)%360)&&m<360,"left"===r?k.y-=m?n.height:0:"center"===r?(k.x-=n.width/2,k.y-=n.height/2):"right"===r&&(k.x-=n.width,k.y-=m?0:n.height)):(b.align(c,null,d),k=b.alignAttr),v?a.isLabelJustified=this.justifyDataLabel(b,c,k,n,d,l):u(c.crop,!0)&&(t=e.isInsidePlot(k.x,k.y)&&e.isInsidePlot(k.x+n.width,k.y+n.height)),c.shape&&!q)&&b[l?"attr":"animate"]({anchorX:h?e.plotWidth-a.plotY:a.plotX,anchorY:h?e.plotHeight-a.plotX:a.plotY}),t||(b.attr({y:-9999}),b.placed=!1)},b.prototype.justifyDataLabel=function(a,b,c,d,f,l){var m,n,e=this.chart,h=b.align,k=b.verticalAlign,p=a.box?0:a.padding||0;return(m=c.x+p)<0&&("right"===h?b.align="left":b.x=-m,n=!0),(m=c.x+d.width-p)>e.plotWidth&&("left"===h?b.align="right":b.x=e.plotWidth-m,n=!0),(m=c.y+p)<0&&("bottom"===k?b.verticalAlign="top":b.y=-m,n=!0),(m=c.y+d.height-p)>e.plotHeight&&("top"===k?b.verticalAlign="bottom":b.y=e.plotHeight-m,n=!0),n&&(a.placed=!l,a.align(b,null,f)),n},m.pie&&(m.pie.prototype.drawDataLabels=function(){var e,C,B,G,g,w,P,N,O,K,c=this,d=c.data,f=c.chart,l=c.options.dataLabels,m=u(l.connectorPadding,10),n=u(l.connectorWidth,1),t=f.plotWidth,v=f.plotHeight,x=c.center,F=x[2]/2,A=x[1],L=[[],[]],y=[0,0,0,0];c.visible&&(l.enabled||c._hasPointLabels)&&(q(d,function(a){a.dataLabel&&a.visible&&a.dataLabel.shortened&&(a.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),a.dataLabel.shortened=!1)}),b.prototype.drawDataLabels.apply(c),q(d,function(a){a.dataLabel&&a.visible&&(L[a.half].push(a),a.dataLabel._pos=null)}),q(L,function(b,d){var h,k,r,n=b.length,p=[];if(n)for(c.sortByAngle(b,d-.5),0<c.maxLabelDistance&&(h=Math.max(0,A-F-c.maxLabelDistance),k=Math.min(A+F+c.maxLabelDistance,f.plotHeight),q(b,function(a){0<a.labelDistance&&a.dataLabel&&(a.top=Math.max(0,A-F-a.labelDistance),a.bottom=Math.min(A+F+a.labelDistance,f.plotHeight),r=a.dataLabel.getBBox().height||21,a.positionsIndex=p.push({target:a.labelPos[1]-a.top+r/2,size:r,rank:a.y})-1)}),a.distribute(p,k+r-h)),K=0;K<n;K++)k=(e=b[K]).positionsIndex,g=e.labelPos,B=e.dataLabel,O=!1===e.visible?"hidden":"inherit",N=h=g[1],p&&E(p[k])&&(void 0===p[k].pos?O="hidden":(w=p[k].size,N=e.top+p[k].pos)),delete e.positionIndex,P=l.justify?x[0]+(d?-1:1)*(F+e.labelDistance):c.getX(N<e.top+2||N>e.bottom-2?h:N,d,e),B._attr={visibility:O,align:g[6]},B._pos={x:P+l.x+({left:m,right:-m}[g[6]]||0),y:N+l.y-10},g.x=P,g.y=N,u(l.crop,!0)&&(G=B.getBBox().width,h=null,P-G<m?(h=Math.round(G-P+m),y[3]=Math.max(h,y[3])):t-m<P+G&&(h=Math.round(P+G-t+m),y[1]=Math.max(h,y[1])),N-w/2<0?y[0]=Math.max(Math.round(w/2-N),y[0]):v<N+w/2&&(y[2]=Math.max(Math.round(N+w/2-v),y[2])),B.sideOverflow=h)}),0===H(y)||this.verifyDataLabelOverflow(y))&&(this.placeDataLabels(),n&&q(this.points,function(a){var b;C=a.connector,(B=a.dataLabel)&&B._pos&&a.visible&&0<a.labelDistance?(O=B._attr.visibility,(b=!C)&&(a.connector=C=f.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+a.colorIndex).add(c.dataLabelsGroup),C.attr({"stroke-width":n,stroke:l.connectorColor||a.color||"#666666"})),C[b?"attr":"animate"]({d:c.connectorPath(a.labelPos)}),C.attr("visibility",O)):C&&(a.connector=C.destroy())}))},m.pie.prototype.connectorPath=function(a){var b=a.x,c=a.y;return u(this.options.dataLabels.softConnector,!0)?["M",b+("left"===a[6]?5:-5),c,"C",b,c,2*a[2]-a[4],2*a[3]-a[5],a[2],a[3],"L",a[4],a[5]]:["M",b+("left"===a[6]?5:-5),c,"L",a[2],a[3],"L",a[4],a[5]]},m.pie.prototype.placeDataLabels=function(){q(this.points,function(a){var b=a.dataLabel;b&&a.visible&&((a=b._pos)?(b.sideOverflow&&(b._attr.width=b.getBBox().width-b.sideOverflow,b.css({width:b._attr.width+"px",textOverflow:"ellipsis"}),b.shortened=!0),b.attr(b._attr),b[b.moved?"animate":"attr"](a),b.moved=!0):b&&b.attr({y:-9999}))},this)},m.pie.prototype.alignDataLabel=v,m.pie.prototype.verifyDataLabelOverflow=function(a){var h,b=this.center,e=this.options,d=e.center,f=e.minSize||80,l=null!==e.size;return l||(null!==d[0]?h=Math.max(b[2]-Math.max(a[1],a[3]),f):(h=Math.max(b[2]-a[1]-a[3],f),b[0]+=(a[3]-a[1])/2),null!==d[1]?h=Math.max(Math.min(h,b[2]-Math.max(a[0],a[2])),f):(h=Math.max(Math.min(h,b[2]-a[0]-a[2]),f),b[1]+=(a[0]-a[2])/2),h<b[2]?(b[2]=h,b[3]=Math.min(c(e.innerSize||0,h),h),this.translate(b),this.drawDataLabels&&this.drawDataLabels()):l=!0),l}),m.column&&(m.column.prototype.alignDataLabel=function(a,c,d,f,l){var e=this.chart.inverted,h=a.series,k=a.dlBox||a.shapeArgs,m=u(a.below,a.plotY>u(this.translatedThreshold,h.yAxis.len)),p=u(d.inside,!!this.options.stacking);k&&((f=n(k)).y<0&&(f.height+=f.y,f.y=0),0<(k=f.y+f.height-h.yAxis.len)&&(f.height-=k),e&&(f={x:h.yAxis.len-f.y-f.height,y:h.xAxis.len-f.x-f.width,width:f.height,height:f.width}),p||(e?(f.x+=m?0:f.width,f.width=0):(f.y+=m?f.height:0,f.height=0))),d.align=u(d.align,!e||p?"center":m?"right":"left"),d.verticalAlign=u(d.verticalAlign,e||p?"middle":m?"top":"bottom"),b.prototype.alignDataLabel.call(this,a,c,d,f,l),a.isLabelJustified&&a.contrastColor&&a.dataLabel.css({color:a.contrastColor})})}(K),function(a){var B=a.Chart,H=a.each,E=a.objectEach,q=a.pick;(a=a.addEvent)(B.prototype,"render",function(){var a=[];H(this.labelCollectors||[],function(f){a=a.concat(f())}),H(this.yAxis||[],function(f){f.options.stackLabels&&!f.options.stackLabels.allowOverlap&&E(f.stacks,function(f){E(f,function(f){a.push(f.label)})})}),H(this.series||[],function(f){var l=f.options.dataLabels,n=f.dataLabelCollections||["dataLabel"];(l.enabled||f._hasPointLabels)&&!l.allowOverlap&&f.visible&&H(n,function(l){H(f.points,function(f){f[l]&&(f[l].labelrank=q(f.labelrank,f.shapeArgs&&f.shapeArgs.height),a.push(f[l]))})})}),this.hideOverlappingLabels(a)}),B.prototype.hideOverlappingLabels=function(a){var q,n,v,u,c,b,m,d,h,f=a.length,k=function(a,b,c,d,f,h,k,l){return!(a+c<f||f+k<a||b+d<h||h+l<b)};for(n=0;n<f;n++)(q=a[n])&&(q.oldOpacity=q.opacity,q.newOpacity=1,q.width||(v=q.getBBox(),q.width=v.width,q.height=v.height));for(a.sort(function(a,b){return(b.labelrank||0)-(a.labelrank||0)}),n=0;n<f;n++)for(v=a[n],q=n+1;q<f;++q)u=a[q],v&&u&&v!==u&&v.placed&&u.placed&&0!==v.newOpacity&&0!==u.newOpacity&&(c=v.alignAttr,b=u.alignAttr,m=v.parentGroup,d=u.parentGroup,h=2*(v.box?0:v.padding||0),c=k(c.x+m.translateX,c.y+m.translateY,v.width-h,v.height-h,b.x+d.translateX,b.y+d.translateY,u.width-h,u.height-h))&&((v.labelrank<u.labelrank?v:u).newOpacity=0);H(a,function(a){var b,c;a&&(c=a.newOpacity,a.oldOpacity!==c&&a.placed&&(c?a.show(!0):b=function(){a.hide()},a.alignAttr.opacity=c,a[a.isOld?"animate":"attr"](a.alignAttr,null,b)),a.isOld=!0)})}}(K),function(a){var I,B=a.addEvent,H=a.Chart,E=a.createElement,q=a.css,f=a.defaultOptions,l=a.defaultPlotOptions,t=a.each,n=a.extend,v=a.fireEvent,u=a.hasTouch,c=a.inArray,b=a.isObject,m=a.Legend,d=a.merge,h=a.pick,k=a.Point,e=a.Series,p=a.seriesTypes,r=a.svg;I=a.TrackerMixin={drawTrackerPoint:function(){var a=this,b=a.chart.pointer,c=function(a){var c=b.getPointFromEvent(a);void 0!==c&&(b.isDirectTouch=!0,c.onMouseOver(a))};t(a.points,function(a){a.graphic&&(a.graphic.element.point=a),a.dataLabel&&(a.dataLabel.div?a.dataLabel.div.point=a:a.dataLabel.element.point=a)}),a._hasTracking||(t(a.trackerGroups,function(d){a[d]&&(a[d].addClass("highcharts-tracker").on("mouseover",c).on("mouseout",function(a){b.onTrackerMouseOut(a)}),u&&a[d].on("touchstart",c),a.options.cursor&&a[d].css(q).css({cursor:a.options.cursor}))}),a._hasTracking=!0),v(this,"afterDrawTracker")},drawTrackerGraph:function(){var m,a=this,b=a.options,c=b.trackByArea,d=[].concat(c?a.areaPath:a.graphPath),e=d.length,f=a.chart,h=f.pointer,k=f.renderer,l=f.options.tooltip.snap,g=a.tracker,n=function(){f.hoverSeries!==a&&a.onMouseOver()},p="rgba(192,192,192,"+(r?1e-4:.002)+")";if(e&&!c)for(m=e+1;m--;)"M"===d[m]&&d.splice(m+1,0,d[m+1]-l,d[m+2],"L"),(m&&"M"===d[m]||m===e)&&d.splice(m,0,"L",d[m-2]+l,d[m-1]);g?g.attr({d:d}):a.graph&&(a.tracker=k.path(d).attr({"stroke-linejoin":"round",visibility:a.visible?"visible":"hidden",stroke:p,fill:c?p:"none","stroke-width":a.graph.strokeWidth()+(c?0:2*l),zIndex:2}).add(a.group),t([a.tracker,a.markerGroup],function(a){a.addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(a){h.onTrackerMouseOut(a)}),b.cursor&&a.css({cursor:b.cursor}),u&&a.on("touchstart",n)})),v(this,"afterDrawTracker")}},p.column&&(p.column.prototype.drawTracker=I.drawTrackerPoint),p.pie&&(p.pie.prototype.drawTracker=I.drawTrackerPoint),p.scatter&&(p.scatter.prototype.drawTracker=I.drawTrackerPoint),n(m.prototype,{setItemEvents:function(a,b,c){var e=this,f=e.chart.renderer.boxWrapper,h="highcharts-legend-"+(a instanceof k?"point":"series")+"-active";(c?b:a.legendGroup).on("mouseover",function(){a.setState("hover"),f.addClass(h),b.css(e.options.itemHoverStyle)}).on("mouseout",function(){b.css(d(a.visible?e.itemStyle:e.itemHiddenStyle)),f.removeClass(h),a.setState()}).on("click",function(b){var c=function(){a.setVisible&&a.setVisible()};f.removeClass(h),b={browserEvent:b},a.firePointEvent?a.firePointEvent("legendItemClick",b,c):v(a,"legendItemClick",b,c)})},createCheckboxForItem:function(a){a.checkbox=E("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container),B(a.checkbox,"click",function(b){v(a.series||a,"checkboxClick",{checked:b.target.checked,item:a},function(){a.select()})})}}),f.legend.itemStyle.cursor="pointer",n(H.prototype,{showResetZoom:function(){function a(){b.zoomOut()}var b=this,c=f.lang,d=b.options.chart.resetZoomButton,e=d.theme,h=e.states,k="chart"===d.relativeTo?null:"plotBox";v(this,"beforeShowResetZoom",null,function(){b.resetZoomButton=b.renderer.button(c.resetZoom,null,null,a,e,h&&h.hover).attr({align:d.position.align,title:c.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(d.position,!1,k)})},zoomOut:function(){var a=this;v(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(a){var c,f,d=this.pointer,e=!1;!a||a.resetSelection?(t(this.axes,function(a){c=a.zoom()}),d.initiated=!1):t(a.xAxis.concat(a.yAxis),function(a){var b=a.axis;d[b.isXAxis?"zoomX":"zoomY"]&&(c=b.zoom(a.min,a.max),b.displayBtn&&(e=!0))}),f=this.resetZoomButton,e&&!f?this.showResetZoom():!e&&b(f)&&(this.resetZoomButton=f.destroy()),c&&this.redraw(h(this.options.chart.animation,a&&a.animation,this.pointCount<100))},pan:function(a,b){var e,c=this,d=c.hoverPoints;d&&t(d,function(a){a.setState()}),t("xy"===b?[1,0]:[1],function(b){var m,n,d=(b=c[b?"xAxis":"yAxis"][0]).horiz,f=a[d?"chartX":"chartY"],h=c[d=d?"mouseDownX":"mouseDownY"],g=(b.pointRange||0)/2,k=b.getExtremes(),l=b.toValue(h-f,!0)+g;h=(n=(m=b.toValue(h+b.len-f,!0)-g)<l)?m:l,l=n?l:m;0<(n=(m=Math.min(k.dataMin,g?k.min:b.toValue(b.toPixels(k.min)-b.minPixelPadding)))-h)&&(l+=n,h=m),0<(n=l-(g=Math.max(k.dataMax,g?k.max:b.toValue(b.toPixels(k.max)+b.minPixelPadding))))&&(l=g,h-=n),b.series.length&&h!==k.min&&l!==k.max&&(b.setExtremes(h,l,!1,!1,{trigger:"pan"}),e=!0),c[d]=f}),e&&c.redraw(!1),q(c.container,{cursor:"move"})}}),n(k.prototype,{select:function(a,b){var d=this,e=d.series,f=e.chart;a=h(a,!d.selected),d.firePointEvent(a?"select":"unselect",{accumulate:b},function(){d.selected=d.options.selected=a,e.options.data[c(d,e.data)]=d.options,d.setState(a&&"select"),b||t(f.getSelectedPoints(),function(a){a.selected&&a!==d&&(a.selected=a.options.selected=!1,e.options.data[c(a,e.data)]=a.options,a.setState(""),a.firePointEvent("unselect"))})})},onMouseOver:function(a){var b=this.series.chart,c=b.pointer;a=a?c.normalize(a):c.getChartCoordinatesFromPoint(this,b.inverted),c.runPointActions(a,this)},onMouseOut:function(){var a=this.series.chart;this.firePointEvent("mouseOut"),t(a.hoverPoints||[],function(a){a.setState()}),a.hoverPoints=a.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var b=this,c=d(b.series.options.point,b.options).events;b.events=c,a.objectEach(c,function(a,c){B(b,c,a)}),this.hasImportedEvents=!0}},setState:function(a,b){var z,c=Math.floor(this.plotX),d=this.plotY,e=this.series,f=e.options.states[a||"normal"]||{},k=l[e.type].marker&&e.options.marker,m=k&&!1===k.enabled,p=k&&k.states&&k.states[a||"normal"]||{},g=!1===p.enabled,q=e.stateMarkerGraphic,r=this.marker||{},t=e.chart,u=e.halo,B=k&&e.markerAttribs;(a=a||"")===this.state&&!b||this.selected&&"select"!==a||!1===f.enabled||a&&(g||m&&!1===p.enabled)||a&&r.states&&r.states[a]&&!1===r.states[a].enabled||(B&&(z=e.markerAttribs(this,a)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),a&&this.graphic.addClass("highcharts-point-"+a),this.graphic.animate(e.pointAttribs(this,a),h(t.options.chart.animation,f.animation)),z&&this.graphic.animate(z,h(t.options.chart.animation,p.animation,k.animation)),q&&q.hide()):(a&&p&&(k=r.symbol||e.symbol,q&&q.currentSymbol!==k&&(q=q.destroy()),q?q[b?"animate":"attr"]({x:z.x,y:z.y}):k&&(e.stateMarkerGraphic=q=t.renderer.symbol(k,z.x,z.y,z.width,z.height).add(e.markerGroup),q.currentSymbol=k),q&&q.attr(e.pointAttribs(this,a))),q&&(q[a&&t.isInsidePlot(c,d,t.inverted)?"show":"hide"](),q.element.point=this)),(c=f.halo)&&c.size?(u||(e.halo=u=t.renderer.path().add((this.graphic||q).parentGroup)),u.show()[b?"animate":"attr"]({d:this.haloPath(c.size)}),u.attr({class:"highcharts-halo highcharts-color-"+h(this.colorIndex,e.colorIndex)}),u.point=this,u.attr(n({fill:this.color||e.color,"fill-opacity":c.opacity,zIndex:-1},c.attributes))):u&&u.point&&u.point.haloPath&&u.animate({d:u.point.haloPath(0)},null,u.hide),this.state=a,v(this,"afterSetState"))},haloPath:function(a){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-a,this.plotY-a,2*a,2*a)}}),n(e.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;b&&b!==this&&b.onMouseOut(),this.options.events.mouseOver&&v(this,"mouseOver"),this.setState("hover"),a.hoverSeries=this},onMouseOut:function(){var a=this.options,b=this.chart,c=b.tooltip,d=b.hoverPoint;b.hoverSeries=null,d&&d.onMouseOut(),this&&a.events.mouseOut&&v(this,"mouseOut"),!c||this.stickyTracking||c.shared&&!this.noSharedTooltip||c.hide(),this.setState()},setState:function(a){var b=this,c=b.options,d=b.graph,e=c.states,f=c.lineWidth;c=0;if(a=a||"",b.state!==a&&(t([b.group,b.markerGroup,b.dataLabelsGroup],function(c){c&&(b.state&&c.removeClass("highcharts-series-"+b.state),a&&c.addClass("highcharts-series-"+a))}),!e[b.state=a]||!1!==e[a].enabled)&&(a&&(f=e[a].lineWidth||f+(e[a].lineWidthPlus||0)),d&&!d.dashstyle))for(f={"stroke-width":f},d.animate(f,h(e[a||"normal"]&&e[a||"normal"].animation,b.chart.options.chart.animation));b["zone-graph-"+c];)b["zone-graph-"+c].attr(f),c+=1},setVisible:function(a,b){var f,c=this,d=c.chart,e=c.legendItem,h=d.options.chart.ignoreHiddenSeries,k=c.visible;f=(c.visible=a=c.options.visible=c.userOptions.visible=void 0===a?!k:a)?"show":"hide",t(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(a){c[a]&&c[a][f]()}),d.hoverSeries!==c&&(d.hoverPoint&&d.hoverPoint.series)!==c||c.onMouseOut(),e&&d.legend.colorizeItem(c,a),c.isDirty=!0,c.options.stacking&&t(d.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)}),t(c.linkedSeries,function(b){b.setVisible(a,!1)}),h&&(d.isDirtyBox=!0),!1!==b&&d.redraw(),v(c,f)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=void 0===a?!this.selected:a,this.checkbox&&(this.checkbox.checked=a),v(this,a?"select":"unselect")},drawTracker:I.drawTrackerGraph})}(K),function(a){var B=a.Chart,H=a.each,E=a.inArray,q=a.isArray,f=a.isObject,l=a.pick,t=a.splat;B.prototype.setResponsive=function(f){var l=this.options.responsive,n=[],c=this.currentResponsive;l&&l.rules&&H(l.rules,function(b){void 0===b._id&&(b._id=a.uniqueKey()),this.matchResponsiveRule(b,n,f)},this);var b=a.merge.apply(0,a.map(n,function(b){return a.find(l.rules,function(a){return a._id===b}).chartOptions}));(n=n.toString()||void 0)!==(c&&c.ruleIds)&&(c&&this.update(c.undoOptions,f),n?(this.currentResponsive={ruleIds:n,mergedOptions:b,undoOptions:this.currentOptions(b)},this.update(b,f)):this.currentResponsive=void 0)},B.prototype.matchResponsiveRule=function(a,f){var n=a.condition;(n.callback||function(){return this.chartWidth<=l(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=l(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=l(n.minWidth,0)&&this.chartHeight>=l(n.minHeight,0)}).call(this)&&f.push(a._id)},B.prototype.currentOptions=function(l){var u={};return function n(c,b,l,d){var h;a.objectEach(c,function(a,c){if(!d&&-1<E(c,["series","xAxis","yAxis"]))for(a=t(a),l[c]=[],h=0;h<a.length;h++)b[c][h]&&(l[c][h]={},n(a[h],b[c][h],l[c][h],d+1));else f(a)?(l[c]=q(a)?[]:{},n(a,b[c]||{},l[c],d+1)):l[c]=b[c]||null})}(l,this.options,u,0),u}}(K),K});